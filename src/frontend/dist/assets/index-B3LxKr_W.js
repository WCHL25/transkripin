var fl=Object.defineProperty;var dl=(e,t,r)=>t in e?fl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var En=(e,t,r)=>dl(e,typeof t!="symbol"?t+"":t,r);import{u as hl,T as pl,d as gl,e as yl,r as at,a as ml,R as ue,b as Kn,_ as bl,g as Gr,c as hr,f as pr,j as ut,s as te,h as Sr,i as Dt,k as ko,l as Hr,m as er,n as bn,o as kt,p as Mr,q as wl,t as xl,v as _l,C as Ps,w as El,x as vl,y as Bl,z as ho,A as Co,B as zt,D as fn,E as Sl,F as Tl}from"./index-DWSCeplf.js";function Wi(){const e=hl(gl);return e[pl]||e}function Al(){return yl}function Nl(e,t=166){let r;function n(...i){const o=()=>{e.apply(this,i)};clearTimeout(r),r=setTimeout(o,t)}return n.clear=()=>{clearTimeout(r)},n}function ci(e){return e&&e.ownerDocument||document}function Pa(e){return ci(e).defaultView||window}function Ur(e){const t=at.useRef(e);return ml(()=>{t.current=e}),at.useRef((...r)=>(0,t.current)(...r)).current}function dn(...e){const t=at.useRef(void 0),r=at.useCallback(n=>{const i=e.map(o=>{if(o==null)return null;if(typeof o=="function"){const a=o,s=a(n);return typeof s=="function"?s:()=>{a(null)}}return o.current=n,()=>{o.current=null}});return()=>{i.forEach(o=>o==null?void 0:o())}},e);return at.useMemo(()=>e.every(n=>n==null)?null:n=>{t.current&&(t.current(),t.current=void 0),n!=null&&(t.current=r(n))},e)}function $a(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function $s(e,t){return $s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},$s(e,t)}function qa(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$s(e,t)}const Mo={disabled:!1},Ri=ue.createContext(null);var Rl=function(t){return t.scrollTop},Bn="unmounted",br="exited",wr="entering",Jr="entered",qs="exiting",Ve=function(e){qa(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var a=i,s=a&&!a.isMounting?n.enter:n.appear,d;return o.appearStatus=null,n.in?s?(d=br,o.appearStatus=wr):d=Jr:n.unmountOnExit||n.mountOnEnter?d=Bn:d=br,o.state={status:d},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var a=i.in;return a&&o.status===Bn?{status:br}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var a=this.state.status;this.props.in?a!==wr&&a!==Jr&&(o=wr):(a===wr||a===Jr)&&(o=qs)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,a,s;return o=a=s=i,i!=null&&typeof i!="number"&&(o=i.exit,a=i.enter,s=i.appear!==void 0?i.appear:a),{exit:o,enter:a,appear:s}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===wr){if(this.props.unmountOnExit||this.props.mountOnEnter){var a=this.props.nodeRef?this.props.nodeRef.current:Kn.findDOMNode(this);a&&Rl(a)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===br&&this.setState({status:Bn})},r.performEnter=function(i){var o=this,a=this.props.enter,s=this.context?this.context.isMounting:i,d=this.props.nodeRef?[s]:[Kn.findDOMNode(this),s],y=d[0],E=d[1],_=this.getTimeouts(),w=s?_.appear:_.enter;if(!i&&!a||Mo.disabled){this.safeSetState({status:Jr},function(){o.props.onEntered(y)});return}this.props.onEnter(y,E),this.safeSetState({status:wr},function(){o.props.onEntering(y,E),o.onTransitionEnd(w,function(){o.safeSetState({status:Jr},function(){o.props.onEntered(y,E)})})})},r.performExit=function(){var i=this,o=this.props.exit,a=this.getTimeouts(),s=this.props.nodeRef?void 0:Kn.findDOMNode(this);if(!o||Mo.disabled){this.safeSetState({status:br},function(){i.props.onExited(s)});return}this.props.onExit(s),this.safeSetState({status:qs},function(){i.props.onExiting(s),i.onTransitionEnd(a.exit,function(){i.safeSetState({status:br},function(){i.props.onExited(s)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,a=!0;return this.nextCallback=function(s){a&&(a=!1,o.nextCallback=null,i(s))},this.nextCallback.cancel=function(){a=!1},this.nextCallback},r.onTransitionEnd=function(i,o){this.setNextCallback(o);var a=this.props.nodeRef?this.props.nodeRef.current:Kn.findDOMNode(this),s=i==null&&!this.props.addEndListener;if(!a||s){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[a,this.nextCallback],y=d[0],E=d[1];this.props.addEndListener(y,E)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===Bn)return null;var o=this.props,a=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var s=$a(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ue.createElement(Ri.Provider,{value:null},typeof a=="function"?a(i,s):ue.cloneElement(ue.Children.only(a),s))},t}(ue.Component);Ve.contextType=Ri;Ve.propTypes={};function zr(){}Ve.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:zr,onEntering:zr,onEntered:zr,onExit:zr,onExiting:zr,onExited:zr};Ve.UNMOUNTED=Bn;Ve.EXITED=br;Ve.ENTERING=wr;Ve.ENTERED=Jr;Ve.EXITING=qs;function Il(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function po(e,t){var r=function(o){return t&&at.isValidElement(o)?t(o):o},n=Object.create(null);return e&&at.Children.map(e,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function Ol(e,t){e=e||{},t=t||{};function r(E){return E in t?t[E]:e[E]}var n=Object.create(null),i=[];for(var o in e)o in t?i.length&&(n[o]=i,i=[]):i.push(o);var a,s={};for(var d in t){if(n[d])for(a=0;a<n[d].length;a++){var y=n[d][a];s[n[d][a]]=r(y)}s[d]=r(d)}for(a=0;a<i.length;a++)s[i[a]]=r(i[a]);return s}function Ar(e,t,r){return r[t]!=null?r[t]:e.props[t]}function Ul(e,t){return po(e.children,function(r){return at.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:Ar(r,"appear",e),enter:Ar(r,"enter",e),exit:Ar(r,"exit",e)})})}function Fl(e,t,r){var n=po(e.children),i=Ol(t,n);return Object.keys(i).forEach(function(o){var a=i[o];if(at.isValidElement(a)){var s=o in t,d=o in n,y=t[o],E=at.isValidElement(y)&&!y.props.in;d&&(!s||E)?i[o]=at.cloneElement(a,{onExited:r.bind(null,a),in:!0,exit:Ar(a,"exit",e),enter:Ar(a,"enter",e)}):!d&&s&&!E?i[o]=at.cloneElement(a,{in:!1}):d&&s&&at.isValidElement(y)&&(i[o]=at.cloneElement(a,{onExited:r.bind(null,a),in:y.props.in,exit:Ar(a,"exit",e),enter:Ar(a,"enter",e)}))}}),i}var kl=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},Cl={component:"div",childFactory:function(t){return t}},go=function(e){qa(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var a=o.handleExited.bind(Il(o));return o.state={contextValue:{isMounting:!0},handleExited:a,firstRender:!0},o}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var a=o.children,s=o.handleExited,d=o.firstRender;return{children:d?Ul(i,s):Fl(i,a,s),firstRender:!1}},r.handleExited=function(i,o){var a=po(this.props.children);i.key in a||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(s){var d=bl({},s.children);return delete d[i.key],{children:d}}))},r.render=function(){var i=this.props,o=i.component,a=i.childFactory,s=$a(i,["component","childFactory"]),d=this.state.contextValue,y=kl(this.state.children).map(a);return delete s.appear,delete s.enter,delete s.exit,o===null?ue.createElement(Ri.Provider,{value:d},y):ue.createElement(Ri.Provider,{value:d},ue.createElement(o,s,y))},t}(ue.Component);go.propTypes={};go.defaultProps=Cl;const Po={};function ja(e,t){const r=at.useRef(Po);return r.current===Po&&(r.current=e(t)),r}const Ml=[];function Pl(e){at.useEffect(e,Ml)}class yo{constructor(){En(this,"currentId",null);En(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});En(this,"disposeEffect",()=>this.clear)}static create(){return new yo}start(t,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},t)}}function mo(){const e=ja(yo.create).current;return Pl(e.disposeEffect),e}const Va=e=>e.scrollTop;function Ii(e,t){const{timeout:r,easing:n,style:i={}}=e;return{duration:i.transitionDuration??(typeof r=="number"?r:r[t.mode]||0),easing:i.transitionTimingFunction??(typeof n=="object"?n[t.mode]:n),delay:i.transitionDelay}}function $l(e){return Gr("MuiPaper",e)}hr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const ql=e=>{const{square:t,elevation:r,variant:n,classes:i}=e,o={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${r}`]};return Hr(o,$l,i)},jl=te("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(er(({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow"),variants:[{props:({ownerState:t})=>!t.square,style:{borderRadius:e.shape.borderRadius}},{props:{variant:"outlined"},style:{border:`1px solid ${(e.vars||e).palette.divider}`}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}))),Vl=at.forwardRef(function(t,r){var b;const n=pr({props:t,name:"MuiPaper"}),i=Wi(),{className:o,component:a="div",elevation:s=1,square:d=!1,variant:y="elevation",...E}=n,_={...n,component:a,elevation:s,square:d,variant:y},w=ql(_);return ut.jsx(jl,{as:a,ownerState:_,className:Dt(w.root,o),ref:r,...E,style:{...y==="elevation"&&{"--Paper-shadow":(i.vars||i).shadows[s],...i.vars&&{"--Paper-overlay":(b=i.vars.overlays)==null?void 0:b[s]},...!i.vars&&i.palette.mode==="dark"&&{"--Paper-overlay":`linear-gradient(${Sr("#fff",ko(s))}, ${Sr("#fff",ko(s))})`}},...E.style}})});function Gl(e){return typeof e=="string"}function Hl(e,t,r){return e===void 0||Gl(e)?t:{...t,ownerState:{...t.ownerState,...r}}}function zl(e,t,r){return typeof e=="function"?e(t,r):e}function js(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!t.includes(n)).forEach(n=>{r[n]=e[n]}),r}function $o(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function Wl(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:o}=e;if(!t){const b=Dt(r==null?void 0:r.className,o,i==null?void 0:i.className,n==null?void 0:n.className),h={...r==null?void 0:r.style,...i==null?void 0:i.style,...n==null?void 0:n.style},O={...r,...i,...n};return b.length>0&&(O.className=b),Object.keys(h).length>0&&(O.style=h),{props:O,internalRef:void 0}}const a=js({...i,...n}),s=$o(n),d=$o(i),y=t(a),E=Dt(y==null?void 0:y.className,r==null?void 0:r.className,o,i==null?void 0:i.className,n==null?void 0:n.className),_={...y==null?void 0:y.style,...r==null?void 0:r.style,...i==null?void 0:i.style,...n==null?void 0:n.style},w={...y,...r,...d,...s};return E.length>0&&(w.className=E),Object.keys(_).length>0&&(w.style=_),{props:w,internalRef:y.ref}}function Zn(e,t){const{className:r,elementType:n,ownerState:i,externalForwardedProps:o,internalForwardedProps:a,shouldForwardComponentProp:s=!1,...d}=t,{component:y,slots:E={[e]:void 0},slotProps:_={[e]:void 0},...w}=o,b=E[e]||n,h=zl(_[e],i),{props:{component:O,...C},internalRef:H}=Wl({className:r,...d,externalForwardedProps:e==="root"?w:void 0,externalSlotProps:h}),G=dn(H,h==null?void 0:h.ref,t.ref),j=e==="root"?O||y:O,K=Hl(b,{...e==="root"&&!y&&!E[e]&&a,...e!=="root"&&!E[e]&&a,...C,...j&&!s&&{as:j},...j&&s&&{component:j},ref:G},i);return[b,K]}function qo(e){try{return e.matches(":focus-visible")}catch{}return!1}class Oi{constructor(){En(this,"mountEffect",()=>{this.shouldMount&&!this.didMount&&this.ref.current!==null&&(this.didMount=!0,this.mounted.resolve())});this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}static create(){return new Oi}static use(){const t=ja(Oi.create).current,[r,n]=at.useState(!1);return t.shouldMount=r,t.setShouldMount=n,at.useEffect(t.mountEffect,[r]),t}mount(){return this.mounted||(this.mounted=Ll(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.start(...t)})}stop(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.stop(...t)})}pulsate(...t){this.mount().then(()=>{var r;return(r=this.ref.current)==null?void 0:r.pulsate(...t)})}}function Yl(){return Oi.use()}function Ll(){let e,t;const r=new Promise((n,i)=>{e=n,t=i});return r.resolve=e,r.reject=t,r}function Kl(e){const{className:t,classes:r,pulsate:n=!1,rippleX:i,rippleY:o,rippleSize:a,in:s,onExited:d,timeout:y}=e,[E,_]=at.useState(!1),w=Dt(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),b={width:a,height:a,top:-(a/2)+o,left:-(a/2)+i},h=Dt(r.child,E&&r.childLeaving,n&&r.childPulsate);return!s&&!E&&_(!0),at.useEffect(()=>{if(!s&&d!=null){const O=setTimeout(d,y);return()=>{clearTimeout(O)}}},[d,s,y]),ut.jsx("span",{className:w,style:b,children:ut.jsx("span",{className:h})})}const xe=hr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Vs=550,Zl=80,Xl=bn`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`,Dl=bn`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`,Jl=bn`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`,Ql=te("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),tf=te(Kl,{name:"MuiTouchRipple",slot:"Ripple"})`
  opacity: 0;
  position: absolute;

  &.${xe.rippleVisible} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${Xl};
    animation-duration: ${Vs}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  &.${xe.ripplePulsate} {
    animation-duration: ${({theme:e})=>e.transitions.duration.shorter}ms;
  }

  & .${xe.child} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${xe.childLeaving} {
    opacity: 0;
    animation-name: ${Dl};
    animation-duration: ${Vs}ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
  }

  & .${xe.childPulsate} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${Jl};
    animation-duration: 2500ms;
    animation-timing-function: ${({theme:e})=>e.transitions.easing.easeInOut};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`,ef=at.forwardRef(function(t,r){const n=pr({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:a,...s}=n,[d,y]=at.useState([]),E=at.useRef(0),_=at.useRef(null);at.useEffect(()=>{_.current&&(_.current(),_.current=null)},[d]);const w=at.useRef(!1),b=mo(),h=at.useRef(null),O=at.useRef(null),C=at.useCallback(K=>{const{pulsate:R,rippleX:P,rippleY:q,rippleSize:rt,cb:nt}=K;y(I=>[...I,ut.jsx(tf,{classes:{ripple:Dt(o.ripple,xe.ripple),rippleVisible:Dt(o.rippleVisible,xe.rippleVisible),ripplePulsate:Dt(o.ripplePulsate,xe.ripplePulsate),child:Dt(o.child,xe.child),childLeaving:Dt(o.childLeaving,xe.childLeaving),childPulsate:Dt(o.childPulsate,xe.childPulsate)},timeout:Vs,pulsate:R,rippleX:P,rippleY:q,rippleSize:rt},E.current)]),E.current+=1,_.current=nt},[o]),H=at.useCallback((K={},R={},P=()=>{})=>{const{pulsate:q=!1,center:rt=i||R.pulsate,fakeElement:nt=!1}=R;if((K==null?void 0:K.type)==="mousedown"&&w.current){w.current=!1;return}(K==null?void 0:K.type)==="touchstart"&&(w.current=!0);const I=nt?null:O.current,L=I?I.getBoundingClientRect():{width:0,height:0,left:0,top:0};let X,x,N;if(rt||K===void 0||K.clientX===0&&K.clientY===0||!K.clientX&&!K.touches)X=Math.round(L.width/2),x=Math.round(L.height/2);else{const{clientX:F,clientY:D}=K.touches&&K.touches.length>0?K.touches[0]:K;X=Math.round(F-L.left),x=Math.round(D-L.top)}if(rt)N=Math.sqrt((2*L.width**2+L.height**2)/3),N%2===0&&(N+=1);else{const F=Math.max(Math.abs((I?I.clientWidth:0)-X),X)*2+2,D=Math.max(Math.abs((I?I.clientHeight:0)-x),x)*2+2;N=Math.sqrt(F**2+D**2)}K!=null&&K.touches?h.current===null&&(h.current=()=>{C({pulsate:q,rippleX:X,rippleY:x,rippleSize:N,cb:P})},b.start(Zl,()=>{h.current&&(h.current(),h.current=null)})):C({pulsate:q,rippleX:X,rippleY:x,rippleSize:N,cb:P})},[i,C,b]),G=at.useCallback(()=>{H({},{pulsate:!0})},[H]),j=at.useCallback((K,R)=>{if(b.clear(),(K==null?void 0:K.type)==="touchend"&&h.current){h.current(),h.current=null,b.start(0,()=>{j(K,R)});return}h.current=null,y(P=>P.length>0?P.slice(1):P),_.current=R},[b]);return at.useImperativeHandle(r,()=>({pulsate:G,start:H,stop:j}),[G,H,j]),ut.jsx(Ql,{className:Dt(xe.root,o.root,a),ref:O,...s,children:ut.jsx(go,{component:null,exit:!0,children:d})})});function rf(e){return Gr("MuiButtonBase",e)}const nf=hr("MuiButtonBase",["root","disabled","focusVisible"]),sf=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:i}=e,a=Hr({root:["root",t&&"disabled",r&&"focusVisible"]},rf,i);return r&&n&&(a.root+=` ${n}`),a},of=te("button",{name:"MuiButtonBase",slot:"Root"})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${nf.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),af=at.forwardRef(function(t,r){const n=pr({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:a,className:s,component:d="button",disabled:y=!1,disableRipple:E=!1,disableTouchRipple:_=!1,focusRipple:w=!1,focusVisibleClassName:b,LinkComponent:h="a",onBlur:O,onClick:C,onContextMenu:H,onDragLeave:G,onFocus:j,onFocusVisible:K,onKeyDown:R,onKeyUp:P,onMouseDown:q,onMouseLeave:rt,onMouseUp:nt,onTouchEnd:I,onTouchMove:L,onTouchStart:X,tabIndex:x=0,TouchRippleProps:N,touchRippleRef:F,type:D,...Q}=n,W=at.useRef(null),J=Yl(),lt=dn(J.ref,F),[it,st]=at.useState(!1);y&&it&&st(!1),at.useImperativeHandle(i,()=>({focusVisible:()=>{st(!0),W.current.focus()}}),[]);const Et=J.shouldMount&&!E&&!y;at.useEffect(()=>{it&&w&&!E&&J.pulsate()},[E,w,it,J]);const S=Ge(J,"start",q,_),Ot=Ge(J,"stop",H,_),Bt=Ge(J,"stop",G,_),Ut=Ge(J,"stop",nt,_),ft=Ge(J,"stop",V=>{it&&V.preventDefault(),rt&&rt(V)},_),pt=Ge(J,"start",X,_),B=Ge(J,"stop",I,_),T=Ge(J,"stop",L,_),k=Ge(J,"stop",V=>{qo(V.target)||st(!1),O&&O(V)},!1),Y=Ur(V=>{W.current||(W.current=V.currentTarget),qo(V.target)&&(st(!0),K&&K(V)),j&&j(V)}),$=()=>{const V=W.current;return d&&d!=="button"&&!(V.tagName==="A"&&V.href)},Z=Ur(V=>{w&&!V.repeat&&it&&V.key===" "&&J.stop(V,()=>{J.start(V)}),V.target===V.currentTarget&&$()&&V.key===" "&&V.preventDefault(),R&&R(V),V.target===V.currentTarget&&$()&&V.key==="Enter"&&!y&&(V.preventDefault(),C&&C(V))}),p=Ur(V=>{w&&V.key===" "&&it&&!V.defaultPrevented&&J.stop(V,()=>{J.pulsate(V)}),P&&P(V),C&&V.target===V.currentTarget&&$()&&V.key===" "&&!V.defaultPrevented&&C(V)});let c=d;c==="button"&&(Q.href||Q.to)&&(c=h);const u={};c==="button"?(u.type=D===void 0?"button":D,u.disabled=y):(!Q.href&&!Q.to&&(u.role="button"),y&&(u["aria-disabled"]=y));const m=dn(r,W),v={...n,centerRipple:o,component:d,disabled:y,disableRipple:E,disableTouchRipple:_,focusRipple:w,tabIndex:x,focusVisible:it},U=sf(v);return ut.jsxs(of,{as:c,className:Dt(U.root,s),ownerState:v,onBlur:k,onClick:C,onContextMenu:Ot,onFocus:Y,onKeyDown:Z,onKeyUp:p,onMouseDown:S,onMouseLeave:ft,onMouseUp:Ut,onDragLeave:Bt,onTouchEnd:B,onTouchMove:T,onTouchStart:pt,ref:m,tabIndex:y?-1:x,type:D,...u,...Q,children:[a,Et?ut.jsx(ef,{ref:lt,center:o,...N}):null]})});function Ge(e,t,r,n=!1){return Ur(i=>(r&&r(i),n||e[t](i),!0))}function cf(e){return Gr("MuiTypography",e)}hr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const uf={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},lf=Al(),ff=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:i,variant:o,classes:a}=e,s={root:["root",o,e.align!=="inherit"&&`align${kt(t)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return Hr(s,cf,a)},df=te("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${kt(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(er(({theme:e})=>{var t;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(e.typography).filter(([r,n])=>r!=="inherit"&&n&&typeof n=="object").map(([r,n])=>({props:{variant:r},style:n})),...Object.entries(e.palette).filter(Mr()).map(([r])=>({props:{color:r},style:{color:(e.vars||e).palette[r].main}})),...Object.entries(((t=e.palette)==null?void 0:t.text)||{}).filter(([,r])=>typeof r=="string").map(([r])=>({props:{color:`text${kt(r)}`},style:{color:(e.vars||e).palette.text[r]}})),{props:({ownerState:r})=>r.align!=="inherit",style:{textAlign:"var(--Typography-textAlign)"}},{props:({ownerState:r})=>r.noWrap,style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:({ownerState:r})=>r.gutterBottom,style:{marginBottom:"0.35em"}},{props:({ownerState:r})=>r.paragraph,style:{marginBottom:16}}]}})),jo={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},We=at.forwardRef(function(t,r){const{color:n,...i}=pr({props:t,name:"MuiTypography"}),o=!uf[n],a=lf({...i,...o&&{color:n}}),{align:s="inherit",className:d,component:y,gutterBottom:E=!1,noWrap:_=!1,paragraph:w=!1,variant:b="body1",variantMapping:h=jo,...O}=a,C={...a,align:s,color:n,className:d,component:y,gutterBottom:E,noWrap:_,paragraph:w,variant:b,variantMapping:h},H=y||(w?"p":h[b]||jo[b])||"span",G=ff(C);return ut.jsx(df,{as:H,ref:r,className:Dt(G.root,d),...O,ownerState:C,style:{...s!=="inherit"&&{"--Typography-textAlign":s},...O.style}})});function bo(e){var t;return parseInt(at.version,10)>=19?((t=e==null?void 0:e.props)==null?void 0:t.ref)||null:(e==null?void 0:e.ref)||null}function hf(e){return Gr("MuiButton",e)}const mr=hr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge","loading","loadingWrapper","loadingIconPlaceholder","loadingIndicator","loadingPositionCenter","loadingPositionStart","loadingPositionEnd"]),pf=at.createContext({}),gf=at.createContext(void 0),yf=e=>{const{color:t,disableElevation:r,fullWidth:n,size:i,variant:o,loading:a,loadingPosition:s,classes:d}=e,y={root:["root",a&&"loading",o,`${o}${kt(t)}`,`size${kt(i)}`,`${o}Size${kt(i)}`,`color${kt(t)}`,r&&"disableElevation",n&&"fullWidth",a&&`loadingPosition${kt(s)}`],startIcon:["icon","startIcon",`iconSize${kt(i)}`],endIcon:["icon","endIcon",`iconSize${kt(i)}`],loadingIndicator:["loadingIndicator"],loadingWrapper:["loadingWrapper"]},E=Hr(y,hf,d);return{...d,...E}},Ga=[{props:{size:"small"},style:{"& > *:nth-of-type(1)":{fontSize:18}}},{props:{size:"medium"},style:{"& > *:nth-of-type(1)":{fontSize:20}}},{props:{size:"large"},style:{"& > *:nth-of-type(1)":{fontSize:22}}}],mf=te(af,{shouldForwardProp:e=>_l(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${kt(r.color)}`],t[`size${kt(r.size)}`],t[`${r.variant}Size${kt(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth,r.loading&&t.loading]}})(er(({theme:e})=>{const t=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],r=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return{...e.typography.button,minWidth:64,padding:"6px 16px",border:0,borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none"},[`&.${mr.disabled}`]:{color:(e.vars||e).palette.action.disabled},variants:[{props:{variant:"contained"},style:{color:"var(--variant-containedColor)",backgroundColor:"var(--variant-containedBg)",boxShadow:(e.vars||e).shadows[2],"&:hover":{boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2]}},"&:active":{boxShadow:(e.vars||e).shadows[8]},[`&.${mr.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]},[`&.${mr.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}}},{props:{variant:"outlined"},style:{padding:"5px 15px",border:"1px solid currentColor",borderColor:"var(--variant-outlinedBorder, currentColor)",backgroundColor:"var(--variant-outlinedBg)",color:"var(--variant-outlinedColor)",[`&.${mr.disabled}`]:{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`}}},{props:{variant:"text"},style:{padding:"6px 8px",color:"var(--variant-textColor)",backgroundColor:"var(--variant-textBg)"}},...Object.entries(e.palette).filter(Mr()).map(([n])=>({props:{color:n},style:{"--variant-textColor":(e.vars||e).palette[n].main,"--variant-outlinedColor":(e.vars||e).palette[n].main,"--variant-outlinedBorder":e.vars?`rgba(${e.vars.palette[n].mainChannel} / 0.5)`:Sr(e.palette[n].main,.5),"--variant-containedColor":(e.vars||e).palette[n].contrastText,"--variant-containedBg":(e.vars||e).palette[n].main,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":(e.vars||e).palette[n].dark,"--variant-textBg":e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Sr(e.palette[n].main,e.palette.action.hoverOpacity),"--variant-outlinedBorder":(e.vars||e).palette[n].main,"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette[n].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Sr(e.palette[n].main,e.palette.action.hoverOpacity)}}}})),{props:{color:"inherit"},style:{color:"inherit",borderColor:"currentColor","--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedBg:t,"@media (hover: hover)":{"&:hover":{"--variant-containedBg":e.vars?e.vars.palette.Button.inheritContainedHoverBg:r,"--variant-textBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Sr(e.palette.text.primary,e.palette.action.hoverOpacity),"--variant-outlinedBg":e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:Sr(e.palette.text.primary,e.palette.action.hoverOpacity)}}}},{props:{size:"small",variant:"text"},style:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"text"},style:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"outlined"},style:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"outlined"},style:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)}},{props:{size:"small",variant:"contained"},style:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)}},{props:{size:"large",variant:"contained"},style:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)}},{props:{disableElevation:!0},style:{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${mr.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${mr.disabled}`]:{boxShadow:"none"}}},{props:{fullWidth:!0},style:{width:"100%"}},{props:{loadingPosition:"center"},style:{transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),[`&.${mr.loading}`]:{color:"transparent"}}}]}})),bf=te("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,r.loading&&t.startIconLoadingStart,t[`iconSize${kt(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:8,marginLeft:-4,variants:[{props:{size:"small"},style:{marginLeft:-2}},{props:{loadingPosition:"start",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"start",loading:!0,fullWidth:!0},style:{marginRight:-8}},...Ga]})),wf=te("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,r.loading&&t.endIconLoadingEnd,t[`iconSize${kt(r.size)}`]]}})(({theme:e})=>({display:"inherit",marginRight:-4,marginLeft:8,variants:[{props:{size:"small"},style:{marginRight:-2}},{props:{loadingPosition:"end",loading:!0},style:{transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.short}),opacity:0}},{props:{loadingPosition:"end",loading:!0,fullWidth:!0},style:{marginLeft:-8}},...Ga]})),xf=te("span",{name:"MuiButton",slot:"LoadingIndicator"})(({theme:e})=>({display:"none",position:"absolute",visibility:"visible",variants:[{props:{loading:!0},style:{display:"flex"}},{props:{loadingPosition:"start"},style:{left:14}},{props:{loadingPosition:"start",size:"small"},style:{left:10}},{props:{variant:"text",loadingPosition:"start"},style:{left:6}},{props:{loadingPosition:"center"},style:{left:"50%",transform:"translate(-50%)",color:(e.vars||e).palette.action.disabled}},{props:{loadingPosition:"end"},style:{right:14}},{props:{loadingPosition:"end",size:"small"},style:{right:10}},{props:{variant:"text",loadingPosition:"end"},style:{right:6}},{props:{loadingPosition:"start",fullWidth:!0},style:{position:"relative",left:-10}},{props:{loadingPosition:"end",fullWidth:!0},style:{position:"relative",right:-10}}]})),Vo=te("span",{name:"MuiButton",slot:"LoadingIconPlaceholder"})({display:"inline-block",width:"1em",height:"1em"}),ui=at.forwardRef(function(t,r){const n=at.useContext(pf),i=at.useContext(gf),o=wl(n,t),a=pr({props:o,name:"MuiButton"}),{children:s,color:d="primary",component:y="button",className:E,disabled:_=!1,disableElevation:w=!1,disableFocusRipple:b=!1,endIcon:h,focusVisibleClassName:O,fullWidth:C=!1,id:H,loading:G=null,loadingIndicator:j,loadingPosition:K="center",size:R="medium",startIcon:P,type:q,variant:rt="text",...nt}=a,I=xl(H),L=j??ut.jsx(Ps,{"aria-labelledby":I,color:"inherit",size:16}),X={...a,color:d,component:y,disabled:_,disableElevation:w,disableFocusRipple:b,fullWidth:C,loading:G,loadingIndicator:L,loadingPosition:K,size:R,type:q,variant:rt},x=yf(X),N=(P||G&&K==="start")&&ut.jsx(bf,{className:x.startIcon,ownerState:X,children:P||ut.jsx(Vo,{className:x.loadingIconPlaceholder,ownerState:X})}),F=(h||G&&K==="end")&&ut.jsx(wf,{className:x.endIcon,ownerState:X,children:h||ut.jsx(Vo,{className:x.loadingIconPlaceholder,ownerState:X})}),D=i||"",Q=typeof G=="boolean"?ut.jsx("span",{className:x.loadingWrapper,style:{display:"contents"},children:G&&ut.jsx(xf,{className:x.loadingIndicator,ownerState:X,children:L})}):null;return ut.jsxs(mf,{ownerState:X,className:Dt(n.className,x.root,E,D),component:y,disabled:_||G,focusRipple:!b,focusVisibleClassName:Dt(x.focusVisible,O),ref:r,type:q,id:G?I:H,...nt,classes:x,children:[N,K!=="end"&&Q,s,K==="end"&&Q,F]})});function Go(e){return e.substring(2).toLowerCase()}function _f(e,t){return t.documentElement.clientWidth<e.clientX||t.documentElement.clientHeight<e.clientY}function Ef(e){const{children:t,disableReactTree:r=!1,mouseEvent:n="onClick",onClickAway:i,touchEvent:o="onTouchEnd"}=e,a=at.useRef(!1),s=at.useRef(null),d=at.useRef(!1),y=at.useRef(!1);at.useEffect(()=>(setTimeout(()=>{d.current=!0},0),()=>{d.current=!1}),[]);const E=dn(bo(t),s),_=Ur(h=>{const O=y.current;y.current=!1;const C=ci(s.current);if(!d.current||!s.current||"clientX"in h&&_f(h,C))return;if(a.current){a.current=!1;return}let H;h.composedPath?H=h.composedPath().includes(s.current):H=!C.documentElement.contains(h.target)||s.current.contains(h.target),!H&&(r||!O)&&i(h)}),w=h=>O=>{y.current=!0;const C=t.props[h];C&&C(O)},b={ref:E};return o!==!1&&(b[o]=w(o)),at.useEffect(()=>{if(o!==!1){const h=Go(o),O=ci(s.current),C=()=>{a.current=!0};return O.addEventListener(h,_),O.addEventListener("touchmove",C),()=>{O.removeEventListener(h,_),O.removeEventListener("touchmove",C)}}},[_,o]),n!==!1&&(b[n]=w(n)),at.useEffect(()=>{if(n!==!1){const h=Go(n),O=ci(s.current);return O.addEventListener(h,_),()=>{O.removeEventListener(h,_)}}},[_,n]),at.cloneElement(t,b)}function vf(e,t,r){const n=t.getBoundingClientRect(),i=r&&r.getBoundingClientRect(),o=Pa(t);let a;if(t.fakeTransform)a=t.fakeTransform;else{const y=o.getComputedStyle(t);a=y.getPropertyValue("-webkit-transform")||y.getPropertyValue("transform")}let s=0,d=0;if(a&&a!=="none"&&typeof a=="string"){const y=a.split("(")[1].split(")")[0].split(",");s=parseInt(y[4],10),d=parseInt(y[5],10)}return e==="left"?i?`translateX(${i.right+s-n.left}px)`:`translateX(${o.innerWidth+s-n.left}px)`:e==="right"?i?`translateX(-${n.right-i.left-s}px)`:`translateX(-${n.left+n.width-s}px)`:e==="up"?i?`translateY(${i.bottom+d-n.top}px)`:`translateY(${o.innerHeight+d-n.top}px)`:i?`translateY(-${n.top-i.top+n.height-d}px)`:`translateY(-${n.top+n.height-d}px)`}function Bf(e){return typeof e=="function"?e():e}function Xn(e,t,r){const n=Bf(r),i=vf(e,t,n);i&&(t.style.webkitTransform=i,t.style.transform=i)}const Sf=at.forwardRef(function(t,r){const n=Wi(),i={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:s=!0,children:d,container:y,direction:E="down",easing:_=i,in:w,onEnter:b,onEntered:h,onEntering:O,onExit:C,onExited:H,onExiting:G,style:j,timeout:K=o,TransitionComponent:R=Ve,...P}=t,q=at.useRef(null),rt=dn(bo(d),q,r),nt=W=>J=>{W&&(J===void 0?W(q.current):W(q.current,J))},I=nt((W,J)=>{Xn(E,W,y),Va(W),b&&b(W,J)}),L=nt((W,J)=>{const lt=Ii({timeout:K,style:j,easing:_},{mode:"enter"});W.style.webkitTransition=n.transitions.create("-webkit-transform",{...lt}),W.style.transition=n.transitions.create("transform",{...lt}),W.style.webkitTransform="none",W.style.transform="none",O&&O(W,J)}),X=nt(h),x=nt(G),N=nt(W=>{const J=Ii({timeout:K,style:j,easing:_},{mode:"exit"});W.style.webkitTransition=n.transitions.create("-webkit-transform",J),W.style.transition=n.transitions.create("transform",J),Xn(E,W,y),C&&C(W)}),F=nt(W=>{W.style.webkitTransition="",W.style.transition="",H&&H(W)}),D=W=>{a&&a(q.current,W)},Q=at.useCallback(()=>{q.current&&Xn(E,q.current,y)},[E,y]);return at.useEffect(()=>{if(w||E==="down"||E==="right")return;const W=Nl(()=>{q.current&&Xn(E,q.current,y)}),J=Pa(q.current);return J.addEventListener("resize",W),()=>{W.clear(),J.removeEventListener("resize",W)}},[E,w,y]),at.useEffect(()=>{w||Q()},[w,Q]),ut.jsx(R,{nodeRef:q,onEnter:I,onEntered:X,onEntering:L,onExit:N,onExited:F,onExiting:x,addEndListener:D,appear:s,in:w,timeout:K,...P,children:(W,{ownerState:J,...lt})=>at.cloneElement(d,{ref:rt,style:{visibility:W==="exited"&&!w?"hidden":void 0,...j,...d.props.style},...lt})})});function Gs(e){return`scale(${e}, ${e**2})`}const Tf={entering:{opacity:1,transform:Gs(1)},entered:{opacity:1,transform:"none"}},ps=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Hs=at.forwardRef(function(t,r){const{addEndListener:n,appear:i=!0,children:o,easing:a,in:s,onEnter:d,onEntered:y,onEntering:E,onExit:_,onExited:w,onExiting:b,style:h,timeout:O="auto",TransitionComponent:C=Ve,...H}=t,G=mo(),j=at.useRef(),K=Wi(),R=at.useRef(null),P=dn(R,bo(o),r),q=F=>D=>{if(F){const Q=R.current;D===void 0?F(Q):F(Q,D)}},rt=q(E),nt=q((F,D)=>{Va(F);const{duration:Q,delay:W,easing:J}=Ii({style:h,timeout:O,easing:a},{mode:"enter"});let lt;O==="auto"?(lt=K.transitions.getAutoHeightDuration(F.clientHeight),j.current=lt):lt=Q,F.style.transition=[K.transitions.create("opacity",{duration:lt,delay:W}),K.transitions.create("transform",{duration:ps?lt:lt*.666,delay:W,easing:J})].join(","),d&&d(F,D)}),I=q(y),L=q(b),X=q(F=>{const{duration:D,delay:Q,easing:W}=Ii({style:h,timeout:O,easing:a},{mode:"exit"});let J;O==="auto"?(J=K.transitions.getAutoHeightDuration(F.clientHeight),j.current=J):J=D,F.style.transition=[K.transitions.create("opacity",{duration:J,delay:Q}),K.transitions.create("transform",{duration:ps?J:J*.666,delay:ps?Q:Q||J*.333,easing:W})].join(","),F.style.opacity=0,F.style.transform=Gs(.75),_&&_(F)}),x=q(w),N=F=>{O==="auto"&&G.start(j.current||0,F),n&&n(R.current,F)};return ut.jsx(C,{appear:i,in:s,nodeRef:R,onEnter:nt,onEntered:I,onEntering:rt,onExit:X,onExited:x,onExiting:L,addEndListener:N,timeout:O==="auto"?null:O,...H,children:(F,{ownerState:D,...Q})=>at.cloneElement(o,{style:{opacity:0,transform:Gs(.75),visibility:F==="exited"&&!s?"hidden":void 0,...Tf[F],...h,...o.props.style},ref:P,...Q})})});Hs&&(Hs.muiSupportAuto=!0);function Af(e){return Gr("MuiLinearProgress",e)}hr("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","bar1","bar2","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const zs=4,Ws=bn`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`,Nf=typeof Ws!="string"?ho`
        animation: ${Ws} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
      `:null,Ys=bn`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`,Rf=typeof Ys!="string"?ho`
        animation: ${Ys} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
      `:null,Ls=bn`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`,If=typeof Ls!="string"?ho`
        animation: ${Ls} 3s infinite linear;
      `:null,Of=e=>{const{classes:t,variant:r,color:n}=e,i={root:["root",`color${kt(n)}`,r],dashed:["dashed",`dashedColor${kt(n)}`],bar1:["bar","bar1",`barColor${kt(n)}`,(r==="indeterminate"||r==="query")&&"bar1Indeterminate",r==="determinate"&&"bar1Determinate",r==="buffer"&&"bar1Buffer"],bar2:["bar","bar2",r!=="buffer"&&`barColor${kt(n)}`,r==="buffer"&&`color${kt(n)}`,(r==="indeterminate"||r==="query")&&"bar2Indeterminate",r==="buffer"&&"bar2Buffer"]};return Hr(i,Af,t)},wo=(e,t)=>e.vars?e.vars.palette.LinearProgress[`${t}Bg`]:e.palette.mode==="light"?vl(e.palette[t].main,.62):Bl(e.palette[t].main,.5),Uf=te("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`color${kt(r.color)}`],t[r.variant]]}})(er(({theme:e})=>({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},variants:[...Object.entries(e.palette).filter(Mr()).map(([t])=>({props:{color:t},style:{backgroundColor:wo(e,t)}})),{props:({ownerState:t})=>t.color==="inherit"&&t.variant!=="buffer",style:{"&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}}},{props:{variant:"buffer"},style:{backgroundColor:"transparent"}},{props:{variant:"query"},style:{transform:"rotate(180deg)"}}]}))),Ff=te("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.dashed,t[`dashedColor${kt(r.color)}`]]}})(er(({theme:e})=>({position:"absolute",marginTop:0,height:"100%",width:"100%",backgroundSize:"10px 10px",backgroundPosition:"0 -23px",variants:[{props:{color:"inherit"},style:{opacity:.3,backgroundImage:"radial-gradient(currentColor 0%, currentColor 16%, transparent 42%)"}},...Object.entries(e.palette).filter(Mr()).map(([t])=>{const r=wo(e,t);return{props:{color:t},style:{backgroundImage:`radial-gradient(${r} 0%, ${r} 16%, transparent 42%)`}}})]})),If||{animation:`${Ls} 3s infinite linear`}),kf=te("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t.bar1,t[`barColor${kt(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&t.bar1Indeterminate,r.variant==="determinate"&&t.bar1Determinate,r.variant==="buffer"&&t.bar1Buffer]}})(er(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[{props:{color:"inherit"},style:{backgroundColor:"currentColor"}},...Object.entries(e.palette).filter(Mr()).map(([t])=>({props:{color:t},style:{backgroundColor:(e.vars||e).palette[t].main}})),{props:{variant:"determinate"},style:{transition:`transform .${zs}s linear`}},{props:{variant:"buffer"},style:{zIndex:1,transition:`transform .${zs}s linear`}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:Nf||{animation:`${Ws} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite`}}]}))),Cf=te("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.bar,t.bar2,t[`barColor${kt(r.color)}`],(r.variant==="indeterminate"||r.variant==="query")&&t.bar2Indeterminate,r.variant==="buffer"&&t.bar2Buffer]}})(er(({theme:e})=>({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",variants:[...Object.entries(e.palette).filter(Mr()).map(([t])=>({props:{color:t},style:{"--LinearProgressBar2-barColor":(e.vars||e).palette[t].main}})),{props:({ownerState:t})=>t.variant!=="buffer"&&t.color!=="inherit",style:{backgroundColor:"var(--LinearProgressBar2-barColor, currentColor)"}},{props:({ownerState:t})=>t.variant!=="buffer"&&t.color==="inherit",style:{backgroundColor:"currentColor"}},{props:{color:"inherit"},style:{opacity:.3}},...Object.entries(e.palette).filter(Mr()).map(([t])=>({props:{color:t,variant:"buffer"},style:{backgroundColor:wo(e,t),transition:`transform .${zs}s linear`}})),{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:{width:"auto"}},{props:({ownerState:t})=>t.variant==="indeterminate"||t.variant==="query",style:Rf||{animation:`${Ys} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite`}}]}))),Mf=at.forwardRef(function(t,r){const n=pr({props:t,name:"MuiLinearProgress"}),{className:i,color:o="primary",value:a,valueBuffer:s,variant:d="indeterminate",...y}=n,E={...n,color:o,variant:d},_=Of(E),w=El(),b={},h={bar1:{},bar2:{}};if((d==="determinate"||d==="buffer")&&a!==void 0){b["aria-valuenow"]=Math.round(a),b["aria-valuemin"]=0,b["aria-valuemax"]=100;let O=a-100;w&&(O=-O),h.bar1.transform=`translateX(${O}%)`}if(d==="buffer"&&s!==void 0){let O=(s||0)-100;w&&(O=-O),h.bar2.transform=`translateX(${O}%)`}return ut.jsxs(Uf,{className:Dt(_.root,i),ownerState:E,role:"progressbar",...b,ref:r,...y,children:[d==="buffer"?ut.jsx(Ff,{className:_.dashed,ownerState:E}):null,ut.jsx(kf,{className:_.bar1,ownerState:E,style:h.bar1}),d==="determinate"?null:ut.jsx(Cf,{className:_.bar2,ownerState:E,style:h.bar2})]})});function Pf(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:r=!1,onClose:n,open:i,resumeHideDuration:o}=e,a=mo();at.useEffect(()=>{if(!i)return;function H(G){G.defaultPrevented||G.key==="Escape"&&(n==null||n(G,"escapeKeyDown"))}return document.addEventListener("keydown",H),()=>{document.removeEventListener("keydown",H)}},[i,n]);const s=Ur((H,G)=>{n==null||n(H,G)}),d=Ur(H=>{!n||H==null||a.start(H,()=>{s(null,"timeout")})});at.useEffect(()=>(i&&d(t),a.clear),[i,t,d,a]);const y=H=>{n==null||n(H,"clickaway")},E=a.clear,_=at.useCallback(()=>{t!=null&&d(o??t*.5)},[t,o,d]),w=H=>G=>{const j=H.onBlur;j==null||j(G),_()},b=H=>G=>{const j=H.onFocus;j==null||j(G),E()},h=H=>G=>{const j=H.onMouseEnter;j==null||j(G),E()},O=H=>G=>{const j=H.onMouseLeave;j==null||j(G),_()};return at.useEffect(()=>{if(!r&&i)return window.addEventListener("focus",_),window.addEventListener("blur",E),()=>{window.removeEventListener("focus",_),window.removeEventListener("blur",E)}},[r,i,_,E]),{getRootProps:(H={})=>{const G={...js(e),...js(H)};return{role:"presentation",...H,...G,onBlur:w(G),onFocus:b(G),onMouseEnter:h(G),onMouseLeave:O(G)}},onClickAway:y}}function $f(e){return Gr("MuiSnackbarContent",e)}hr("MuiSnackbarContent",["root","message","action"]);const qf=e=>{const{classes:t}=e;return Hr({root:["root"],action:["action"],message:["message"]},$f,t)},jf=te(Vl,{name:"MuiSnackbarContent",slot:"Root"})(er(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98;return{...e.typography.body2,color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(Co(e.palette.background.default,t)),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:Co(e.palette.background.default,t),display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}}})),Vf=te("div",{name:"MuiSnackbarContent",slot:"Message"})({padding:"8px 0"}),Gf=te("div",{name:"MuiSnackbarContent",slot:"Action"})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),Hf=at.forwardRef(function(t,r){const n=pr({props:t,name:"MuiSnackbarContent"}),{action:i,className:o,message:a,role:s="alert",...d}=n,y=n,E=qf(y);return ut.jsxs(jf,{role:s,elevation:6,className:Dt(E.root,o),ownerState:y,ref:r,...d,children:[ut.jsx(Vf,{className:E.message,ownerState:y,children:a}),i?ut.jsx(Gf,{className:E.action,ownerState:y,children:i}):null]})});function zf(e){return Gr("MuiSnackbar",e)}hr("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const Wf=e=>{const{classes:t,anchorOrigin:r}=e,n={root:["root",`anchorOrigin${kt(r.vertical)}${kt(r.horizontal)}`]};return Hr(n,zf,t)},Yf=te("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`anchorOrigin${kt(r.anchorOrigin.vertical)}${kt(r.anchorOrigin.horizontal)}`]]}})(er(({theme:e})=>({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center",variants:[{props:({ownerState:t})=>t.anchorOrigin.vertical==="top",style:{top:8,[e.breakpoints.up("sm")]:{top:24}}},{props:({ownerState:t})=>t.anchorOrigin.vertical!=="top",style:{bottom:8,[e.breakpoints.up("sm")]:{bottom:24}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="left",style:{justifyContent:"flex-start",[e.breakpoints.up("sm")]:{left:24,right:"auto"}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="right",style:{justifyContent:"flex-end",[e.breakpoints.up("sm")]:{right:24,left:"auto"}}},{props:({ownerState:t})=>t.anchorOrigin.horizontal==="center",style:{[e.breakpoints.up("sm")]:{left:"50%",right:"auto",transform:"translateX(-50%)"}}}]}))),Lf=at.forwardRef(function(t,r){const n=pr({props:t,name:"MuiSnackbar"}),i=Wi(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:a,anchorOrigin:{vertical:s,horizontal:d}={vertical:"bottom",horizontal:"left"},autoHideDuration:y=null,children:E,className:_,ClickAwayListenerProps:w,ContentProps:b,disableWindowBlurListener:h=!1,message:O,onBlur:C,onClose:H,onFocus:G,onMouseEnter:j,onMouseLeave:K,open:R,resumeHideDuration:P,slots:q={},slotProps:rt={},TransitionComponent:nt,transitionDuration:I=o,TransitionProps:{onEnter:L,onExited:X,...x}={},...N}=n,F={...n,anchorOrigin:{vertical:s,horizontal:d},autoHideDuration:y,disableWindowBlurListener:h,TransitionComponent:nt,transitionDuration:I},D=Wf(F),{getRootProps:Q,onClickAway:W}=Pf({...F}),[J,lt]=at.useState(!0),it=Y=>{lt(!0),X&&X(Y)},st=(Y,$)=>{lt(!1),L&&L(Y,$)},Et={slots:{transition:nt,...q},slotProps:{content:b,clickAwayListener:w,transition:x,...rt}},[S,Ot]=Zn("root",{ref:r,className:[D.root,_],elementType:Yf,getSlotProps:Q,externalForwardedProps:{...Et,...N},ownerState:F}),[Bt,{ownerState:Ut,...ft}]=Zn("clickAwayListener",{elementType:Ef,externalForwardedProps:Et,getSlotProps:Y=>({onClickAway:(...$)=>{var p;const Z=$[0];(p=Y.onClickAway)==null||p.call(Y,...$),!(Z!=null&&Z.defaultMuiPrevented)&&W(...$)}}),ownerState:F}),[pt,B]=Zn("content",{elementType:Hf,shouldForwardComponentProp:!0,externalForwardedProps:Et,additionalProps:{message:O,action:a},ownerState:F}),[T,k]=Zn("transition",{elementType:Hs,externalForwardedProps:Et,getSlotProps:Y=>({onEnter:(...$)=>{var Z;(Z=Y.onEnter)==null||Z.call(Y,...$),st(...$)},onExited:(...$)=>{var Z;(Z=Y.onExited)==null||Z.call(Y,...$),it(...$)}}),additionalProps:{appear:!0,in:R,timeout:I,direction:s==="top"?"down":"up"},ownerState:F});return!R&&J?null:ut.jsx(Bt,{...ft,...q.clickAwayListener&&{ownerState:Ut},children:ut.jsx(S,{...Ot,children:ut.jsx(T,{...k,children:E||ut.jsx(pt,{...B})})})})});var Ha={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ho=ue.createContext&&ue.createContext(Ha),Kf=["attr","size","title"];function Zf(e,t){if(e==null)return{};var r=Xf(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Xf(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ui(){return Ui=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ui.apply(this,arguments)}function zo(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zo(Object(r),!0).forEach(function(n){Df(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zo(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Df(e,t,r){return t=Jf(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jf(e){var t=Qf(e,"string");return typeof t=="symbol"?t:t+""}function Qf(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function za(e){return e&&e.map((t,r)=>ue.createElement(t.tag,Fi({key:r},t.attr),za(t.child)))}function Wa(e){return t=>ue.createElement(t0,Ui({attr:Fi({},e.attr)},t),za(e.child))}function t0(e){var t=r=>{var{attr:n,size:i,title:o}=e,a=Zf(e,Kf),s=i||r.size||"1em",d;return r.className&&(d=r.className),e.className&&(d=(d?d+" ":"")+e.className),ue.createElement("svg",Ui({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:d,style:Fi(Fi({color:e.color||r.color},r.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&ue.createElement("title",null,o),e.children)};return Ho!==void 0?ue.createElement(Ho.Consumer,null,r=>t(r)):t(Ha)}function e0(e){return Wa({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 144L48 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l144 0 0 144c0 17.7 14.3 32 32 32s32-14.3 32-32l0-144 144 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-144 0 0-144z"},child:[]}]})(e)}function r0(e){return Wa({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z"},child:[]}]})(e)}const n0="data:image/svg+xml,%3csvg%20width='540'%20height='540'%20viewBox='0%200%20540%20540'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20x='276'%20y='414'%20width='163'%20height='33'%20rx='8'%20fill='%231A84DB'/%3e%3crect%20x='277'%20y='353'%20width='247'%20height='33'%20rx='8'%20fill='%231A84DB'/%3e%3crect%20x='192'%20y='40'%20width='52'%20height='460'%20rx='26'%20fill='%231A84DB'/%3e%3crect%20x='16'%20y='213'%20width='114'%20height='52'%20rx='26'%20fill='%231A84DB'/%3e%3crect%20x='118.224'%20y='109.356'%20width='46.761'%20height='143.109'%20rx='23.3805'%20transform='rotate(14.6826%20118.224%20109.356)'%20fill='%231A84DB'/%3e%3cpath%20d='M120%20124.5C129%20104.5%20161%20118.5%20162%20139C163%20159.5%20162.37%20244%20193.87%20290C225.37%20336%20193.5%20369.5%20193.5%20369.5C131%20297.5%20111%20144.5%20120%20124.5Z'%20fill='%231A84DB'/%3e%3cpath%20d='M404.92%20297.5C406.387%20300.287%20407.12%20302.78%20407.12%20304.98C407.267%20307.033%20406.68%20308.867%20405.36%20310.48C404.04%20311.947%20401.84%20313.487%20398.76%20315.1C394.067%20317.3%20390.4%20317.887%20387.76%20316.86C385.267%20315.833%20382.92%20312.973%20380.72%20308.28L331.66%20204.66L282.82%20308.28C280.62%20312.827%20278.2%20315.54%20275.56%20316.42C272.92%20317.447%20269.253%20316.933%20264.56%20314.88C261.627%20313.413%20259.427%20311.873%20257.96%20310.26C256.64%20308.647%20256.053%20306.74%20256.2%20304.54C256.493%20302.193%20257.447%20299.407%20259.06%20296.18L319.56%20170.12C320.733%20167.773%20322.42%20165.94%20324.62%20164.62C326.967%20163.153%20329.387%20162.42%20331.88%20162.42C333.64%20162.42%20335.253%20162.713%20336.72%20163.3C338.187%20163.887%20339.507%20164.767%20340.68%20165.94C342%20167.113%20343.1%20168.58%20343.98%20170.34L404.92%20297.5ZM292.5%20276.16L303.06%20253.5H360.48L371.04%20276.16H292.5Z'%20fill='%231A84DB'/%3e%3c/svg%3e",Wo=200,i0=()=>{const[e,t]=at.useState(window.scrollY/Wo);return at.useEffect(()=>{const r=()=>{t(window.scrollY/Wo)};return document.addEventListener("scroll",r),()=>{document.removeEventListener("scroll",r)}},[]),ut.jsx(zt,{component:"header",className:"fixed top-0 w-full py-5 z-10",style:{backgroundColor:`rgba(30,35,55,${e})`},children:ut.jsx(zt,{className:"flex justify-between px-5 container mx-auto w-full",children:ut.jsxs(zt,{className:"flex items-center gap-2",children:[ut.jsx("img",{src:n0,alt:"Transkripin logo",className:"w-10"}),ut.jsx("span",{className:"font-bold text-lg",children:"Transkripin"})]})})})};var Ya={},qn={};qn.byteLength=a0;qn.toByteArray=u0;qn.fromByteArray=d0;var Pe=[],be=[],s0=typeof Uint8Array<"u"?Uint8Array:Array,gs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Wr=0,o0=gs.length;Wr<o0;++Wr)Pe[Wr]=gs[Wr],be[gs.charCodeAt(Wr)]=Wr;be[45]=62;be[95]=63;function La(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");r===-1&&(r=t);var n=r===t?0:4-r%4;return[r,n]}function a0(e){var t=La(e),r=t[0],n=t[1];return(r+n)*3/4-n}function c0(e,t,r){return(t+r)*3/4-r}function u0(e){var t,r=La(e),n=r[0],i=r[1],o=new s0(c0(e,n,i)),a=0,s=i>0?n-4:n,d;for(d=0;d<s;d+=4)t=be[e.charCodeAt(d)]<<18|be[e.charCodeAt(d+1)]<<12|be[e.charCodeAt(d+2)]<<6|be[e.charCodeAt(d+3)],o[a++]=t>>16&255,o[a++]=t>>8&255,o[a++]=t&255;return i===2&&(t=be[e.charCodeAt(d)]<<2|be[e.charCodeAt(d+1)]>>4,o[a++]=t&255),i===1&&(t=be[e.charCodeAt(d)]<<10|be[e.charCodeAt(d+1)]<<4|be[e.charCodeAt(d+2)]>>2,o[a++]=t>>8&255,o[a++]=t&255),o}function l0(e){return Pe[e>>18&63]+Pe[e>>12&63]+Pe[e>>6&63]+Pe[e&63]}function f0(e,t,r){for(var n,i=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(e[o+2]&255),i.push(l0(n));return i.join("")}function d0(e){for(var t,r=e.length,n=r%3,i=[],o=16383,a=0,s=r-n;a<s;a+=o)i.push(f0(e,a,a+o>s?s:a+o));return n===1?(t=e[r-1],i.push(Pe[t>>2]+Pe[t<<4&63]+"==")):n===2&&(t=(e[r-2]<<8)+e[r-1],i.push(Pe[t>>10]+Pe[t>>4&63]+Pe[t<<2&63]+"=")),i.join("")}var jn={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */jn.read=function(e,t,r,n,i){var o,a,s=i*8-n-1,d=(1<<s)-1,y=d>>1,E=-7,_=r?i-1:0,w=r?-1:1,b=e[t+_];for(_+=w,o=b&(1<<-E)-1,b>>=-E,E+=s;E>0;o=o*256+e[t+_],_+=w,E-=8);for(a=o&(1<<-E)-1,o>>=-E,E+=n;E>0;a=a*256+e[t+_],_+=w,E-=8);if(o===0)o=1-y;else{if(o===d)return a?NaN:(b?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-y}return(b?-1:1)*a*Math.pow(2,o-n)};jn.write=function(e,t,r,n,i,o){var a,s,d,y=o*8-i-1,E=(1<<y)-1,_=E>>1,w=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=n?0:o-1,h=n?1:-1,O=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=E):(a=Math.floor(Math.log(t)/Math.LN2),t*(d=Math.pow(2,-a))<1&&(a--,d*=2),a+_>=1?t+=w/d:t+=w*Math.pow(2,1-_),t*d>=2&&(a++,d/=2),a+_>=E?(s=0,a=E):a+_>=1?(s=(t*d-1)*Math.pow(2,i),a=a+_):(s=t*Math.pow(2,_-1)*Math.pow(2,i),a=0));i>=8;e[r+b]=s&255,b+=h,s/=256,i-=8);for(a=a<<i|s,y+=i;y>0;e[r+b]=a&255,b+=h,a/=256,y-=8);e[r+b-h]|=O*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=qn,r=jn,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=G,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=o(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const g=new Uint8Array(1),l={foo:function(){return 42}};return Object.setPrototypeOf(l,Uint8Array.prototype),Object.setPrototypeOf(g,l),g.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function a(g){if(g>i)throw new RangeError('The value "'+g+'" is invalid for option "size"');const l=new Uint8Array(g);return Object.setPrototypeOf(l,s.prototype),l}function s(g,l,f){if(typeof g=="number"){if(typeof l=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(g)}return d(g,l,f)}s.poolSize=8192;function d(g,l,f){if(typeof g=="string")return w(g,l);if(ArrayBuffer.isView(g))return h(g);if(g==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g);if(V(g,ArrayBuffer)||g&&V(g.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(V(g,SharedArrayBuffer)||g&&V(g.buffer,SharedArrayBuffer)))return O(g,l,f);if(typeof g=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const A=g.valueOf&&g.valueOf();if(A!=null&&A!==g)return s.from(A,l,f);const z=C(g);if(z)return z;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof g[Symbol.toPrimitive]=="function")return s.from(g[Symbol.toPrimitive]("string"),l,f);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof g)}s.from=function(g,l,f){return d(g,l,f)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function y(g){if(typeof g!="number")throw new TypeError('"size" argument must be of type number');if(g<0)throw new RangeError('The value "'+g+'" is invalid for option "size"')}function E(g,l,f){return y(g),g<=0?a(g):l!==void 0?typeof f=="string"?a(g).fill(l,f):a(g).fill(l):a(g)}s.alloc=function(g,l,f){return E(g,l,f)};function _(g){return y(g),a(g<0?0:H(g)|0)}s.allocUnsafe=function(g){return _(g)},s.allocUnsafeSlow=function(g){return _(g)};function w(g,l){if((typeof l!="string"||l==="")&&(l="utf8"),!s.isEncoding(l))throw new TypeError("Unknown encoding: "+l);const f=j(g,l)|0;let A=a(f);const z=A.write(g,l);return z!==f&&(A=A.slice(0,z)),A}function b(g){const l=g.length<0?0:H(g.length)|0,f=a(l);for(let A=0;A<l;A+=1)f[A]=g[A]&255;return f}function h(g){if(V(g,Uint8Array)){const l=new Uint8Array(g);return O(l.buffer,l.byteOffset,l.byteLength)}return b(g)}function O(g,l,f){if(l<0||g.byteLength<l)throw new RangeError('"offset" is outside of buffer bounds');if(g.byteLength<l+(f||0))throw new RangeError('"length" is outside of buffer bounds');let A;return l===void 0&&f===void 0?A=new Uint8Array(g):f===void 0?A=new Uint8Array(g,l):A=new Uint8Array(g,l,f),Object.setPrototypeOf(A,s.prototype),A}function C(g){if(s.isBuffer(g)){const l=H(g.length)|0,f=a(l);return f.length===0||g.copy(f,0,0,l),f}if(g.length!==void 0)return typeof g.length!="number"||ot(g.length)?a(0):b(g);if(g.type==="Buffer"&&Array.isArray(g.data))return b(g.data)}function H(g){if(g>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return g|0}function G(g){return+g!=g&&(g=0),s.alloc(+g)}s.isBuffer=function(l){return l!=null&&l._isBuffer===!0&&l!==s.prototype},s.compare=function(l,f){if(V(l,Uint8Array)&&(l=s.from(l,l.offset,l.byteLength)),V(f,Uint8Array)&&(f=s.from(f,f.offset,f.byteLength)),!s.isBuffer(l)||!s.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(l===f)return 0;let A=l.length,z=f.length;for(let et=0,tt=Math.min(A,z);et<tt;++et)if(l[et]!==f[et]){A=l[et],z=f[et];break}return A<z?-1:z<A?1:0},s.isEncoding=function(l){switch(String(l).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(l,f){if(!Array.isArray(l))throw new TypeError('"list" argument must be an Array of Buffers');if(l.length===0)return s.alloc(0);let A;if(f===void 0)for(f=0,A=0;A<l.length;++A)f+=l[A].length;const z=s.allocUnsafe(f);let et=0;for(A=0;A<l.length;++A){let tt=l[A];if(V(tt,Uint8Array))et+tt.length>z.length?(s.isBuffer(tt)||(tt=s.from(tt)),tt.copy(z,et)):Uint8Array.prototype.set.call(z,tt,et);else if(s.isBuffer(tt))tt.copy(z,et);else throw new TypeError('"list" argument must be an Array of Buffers');et+=tt.length}return z};function j(g,l){if(s.isBuffer(g))return g.length;if(ArrayBuffer.isView(g)||V(g,ArrayBuffer))return g.byteLength;if(typeof g!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof g);const f=g.length,A=arguments.length>2&&arguments[2]===!0;if(!A&&f===0)return 0;let z=!1;for(;;)switch(l){case"ascii":case"latin1":case"binary":return f;case"utf8":case"utf-8":return c(g).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f*2;case"hex":return f>>>1;case"base64":return v(g).length;default:if(z)return A?-1:c(g).length;l=(""+l).toLowerCase(),z=!0}}s.byteLength=j;function K(g,l,f){let A=!1;if((l===void 0||l<0)&&(l=0),l>this.length||((f===void 0||f>this.length)&&(f=this.length),f<=0)||(f>>>=0,l>>>=0,f<=l))return"";for(g||(g="utf8");;)switch(g){case"hex":return J(this,l,f);case"utf8":case"utf-8":return N(this,l,f);case"ascii":return Q(this,l,f);case"latin1":case"binary":return W(this,l,f);case"base64":return x(this,l,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lt(this,l,f);default:if(A)throw new TypeError("Unknown encoding: "+g);g=(g+"").toLowerCase(),A=!0}}s.prototype._isBuffer=!0;function R(g,l,f){const A=g[l];g[l]=g[f],g[f]=A}s.prototype.swap16=function(){const l=this.length;if(l%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let f=0;f<l;f+=2)R(this,f,f+1);return this},s.prototype.swap32=function(){const l=this.length;if(l%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let f=0;f<l;f+=4)R(this,f,f+3),R(this,f+1,f+2);return this},s.prototype.swap64=function(){const l=this.length;if(l%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let f=0;f<l;f+=8)R(this,f,f+7),R(this,f+1,f+6),R(this,f+2,f+5),R(this,f+3,f+4);return this},s.prototype.toString=function(){const l=this.length;return l===0?"":arguments.length===0?N(this,0,l):K.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(l){if(!s.isBuffer(l))throw new TypeError("Argument must be a Buffer");return this===l?!0:s.compare(this,l)===0},s.prototype.inspect=function(){let l="";const f=e.INSPECT_MAX_BYTES;return l=this.toString("hex",0,f).replace(/(.{2})/g,"$1 ").trim(),this.length>f&&(l+=" ... "),"<Buffer "+l+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(l,f,A,z,et){if(V(l,Uint8Array)&&(l=s.from(l,l.offset,l.byteLength)),!s.isBuffer(l))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof l);if(f===void 0&&(f=0),A===void 0&&(A=l?l.length:0),z===void 0&&(z=0),et===void 0&&(et=this.length),f<0||A>l.length||z<0||et>this.length)throw new RangeError("out of range index");if(z>=et&&f>=A)return 0;if(z>=et)return-1;if(f>=A)return 1;if(f>>>=0,A>>>=0,z>>>=0,et>>>=0,this===l)return 0;let tt=et-z,bt=A-f;const _t=Math.min(tt,bt),wt=this.slice(z,et),mt=l.slice(f,A);for(let Rt=0;Rt<_t;++Rt)if(wt[Rt]!==mt[Rt]){tt=wt[Rt],bt=mt[Rt];break}return tt<bt?-1:bt<tt?1:0};function P(g,l,f,A,z){if(g.length===0)return-1;if(typeof f=="string"?(A=f,f=0):f>2147483647?f=2147483647:f<-2147483648&&(f=-2147483648),f=+f,ot(f)&&(f=z?0:g.length-1),f<0&&(f=g.length+f),f>=g.length){if(z)return-1;f=g.length-1}else if(f<0)if(z)f=0;else return-1;if(typeof l=="string"&&(l=s.from(l,A)),s.isBuffer(l))return l.length===0?-1:q(g,l,f,A,z);if(typeof l=="number")return l=l&255,typeof Uint8Array.prototype.indexOf=="function"?z?Uint8Array.prototype.indexOf.call(g,l,f):Uint8Array.prototype.lastIndexOf.call(g,l,f):q(g,[l],f,A,z);throw new TypeError("val must be string, number or Buffer")}function q(g,l,f,A,z){let et=1,tt=g.length,bt=l.length;if(A!==void 0&&(A=String(A).toLowerCase(),A==="ucs2"||A==="ucs-2"||A==="utf16le"||A==="utf-16le")){if(g.length<2||l.length<2)return-1;et=2,tt/=2,bt/=2,f/=2}function _t(mt,Rt){return et===1?mt[Rt]:mt.readUInt16BE(Rt*et)}let wt;if(z){let mt=-1;for(wt=f;wt<tt;wt++)if(_t(g,wt)===_t(l,mt===-1?0:wt-mt)){if(mt===-1&&(mt=wt),wt-mt+1===bt)return mt*et}else mt!==-1&&(wt-=wt-mt),mt=-1}else for(f+bt>tt&&(f=tt-bt),wt=f;wt>=0;wt--){let mt=!0;for(let Rt=0;Rt<bt;Rt++)if(_t(g,wt+Rt)!==_t(l,Rt)){mt=!1;break}if(mt)return wt}return-1}s.prototype.includes=function(l,f,A){return this.indexOf(l,f,A)!==-1},s.prototype.indexOf=function(l,f,A){return P(this,l,f,A,!0)},s.prototype.lastIndexOf=function(l,f,A){return P(this,l,f,A,!1)};function rt(g,l,f,A){f=Number(f)||0;const z=g.length-f;A?(A=Number(A),A>z&&(A=z)):A=z;const et=l.length;A>et/2&&(A=et/2);let tt;for(tt=0;tt<A;++tt){const bt=parseInt(l.substr(tt*2,2),16);if(ot(bt))return tt;g[f+tt]=bt}return tt}function nt(g,l,f,A){return U(c(l,g.length-f),g,f,A)}function I(g,l,f,A){return U(u(l),g,f,A)}function L(g,l,f,A){return U(v(l),g,f,A)}function X(g,l,f,A){return U(m(l,g.length-f),g,f,A)}s.prototype.write=function(l,f,A,z){if(f===void 0)z="utf8",A=this.length,f=0;else if(A===void 0&&typeof f=="string")z=f,A=this.length,f=0;else if(isFinite(f))f=f>>>0,isFinite(A)?(A=A>>>0,z===void 0&&(z="utf8")):(z=A,A=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const et=this.length-f;if((A===void 0||A>et)&&(A=et),l.length>0&&(A<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");z||(z="utf8");let tt=!1;for(;;)switch(z){case"hex":return rt(this,l,f,A);case"utf8":case"utf-8":return nt(this,l,f,A);case"ascii":case"latin1":case"binary":return I(this,l,f,A);case"base64":return L(this,l,f,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,l,f,A);default:if(tt)throw new TypeError("Unknown encoding: "+z);z=(""+z).toLowerCase(),tt=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x(g,l,f){return l===0&&f===g.length?t.fromByteArray(g):t.fromByteArray(g.slice(l,f))}function N(g,l,f){f=Math.min(g.length,f);const A=[];let z=l;for(;z<f;){const et=g[z];let tt=null,bt=et>239?4:et>223?3:et>191?2:1;if(z+bt<=f){let _t,wt,mt,Rt;switch(bt){case 1:et<128&&(tt=et);break;case 2:_t=g[z+1],(_t&192)===128&&(Rt=(et&31)<<6|_t&63,Rt>127&&(tt=Rt));break;case 3:_t=g[z+1],wt=g[z+2],(_t&192)===128&&(wt&192)===128&&(Rt=(et&15)<<12|(_t&63)<<6|wt&63,Rt>2047&&(Rt<55296||Rt>57343)&&(tt=Rt));break;case 4:_t=g[z+1],wt=g[z+2],mt=g[z+3],(_t&192)===128&&(wt&192)===128&&(mt&192)===128&&(Rt=(et&15)<<18|(_t&63)<<12|(wt&63)<<6|mt&63,Rt>65535&&Rt<1114112&&(tt=Rt))}}tt===null?(tt=65533,bt=1):tt>65535&&(tt-=65536,A.push(tt>>>10&1023|55296),tt=56320|tt&1023),A.push(tt),z+=bt}return D(A)}const F=4096;function D(g){const l=g.length;if(l<=F)return String.fromCharCode.apply(String,g);let f="",A=0;for(;A<l;)f+=String.fromCharCode.apply(String,g.slice(A,A+=F));return f}function Q(g,l,f){let A="";f=Math.min(g.length,f);for(let z=l;z<f;++z)A+=String.fromCharCode(g[z]&127);return A}function W(g,l,f){let A="";f=Math.min(g.length,f);for(let z=l;z<f;++z)A+=String.fromCharCode(g[z]);return A}function J(g,l,f){const A=g.length;(!l||l<0)&&(l=0),(!f||f<0||f>A)&&(f=A);let z="";for(let et=l;et<f;++et)z+=dt[g[et]];return z}function lt(g,l,f){const A=g.slice(l,f);let z="";for(let et=0;et<A.length-1;et+=2)z+=String.fromCharCode(A[et]+A[et+1]*256);return z}s.prototype.slice=function(l,f){const A=this.length;l=~~l,f=f===void 0?A:~~f,l<0?(l+=A,l<0&&(l=0)):l>A&&(l=A),f<0?(f+=A,f<0&&(f=0)):f>A&&(f=A),f<l&&(f=l);const z=this.subarray(l,f);return Object.setPrototypeOf(z,s.prototype),z};function it(g,l,f){if(g%1!==0||g<0)throw new RangeError("offset is not uint");if(g+l>f)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(l,f,A){l=l>>>0,f=f>>>0,A||it(l,f,this.length);let z=this[l],et=1,tt=0;for(;++tt<f&&(et*=256);)z+=this[l+tt]*et;return z},s.prototype.readUintBE=s.prototype.readUIntBE=function(l,f,A){l=l>>>0,f=f>>>0,A||it(l,f,this.length);let z=this[l+--f],et=1;for(;f>0&&(et*=256);)z+=this[l+--f]*et;return z},s.prototype.readUint8=s.prototype.readUInt8=function(l,f){return l=l>>>0,f||it(l,1,this.length),this[l]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(l,f){return l=l>>>0,f||it(l,2,this.length),this[l]|this[l+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(l,f){return l=l>>>0,f||it(l,2,this.length),this[l]<<8|this[l+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(l,f){return l=l>>>0,f||it(l,4,this.length),(this[l]|this[l+1]<<8|this[l+2]<<16)+this[l+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(l,f){return l=l>>>0,f||it(l,4,this.length),this[l]*16777216+(this[l+1]<<16|this[l+2]<<8|this[l+3])},s.prototype.readBigUInt64LE=ht(function(l){l=l>>>0,Y(l,"offset");const f=this[l],A=this[l+7];(f===void 0||A===void 0)&&$(l,this.length-8);const z=f+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24,et=this[++l]+this[++l]*2**8+this[++l]*2**16+A*2**24;return BigInt(z)+(BigInt(et)<<BigInt(32))}),s.prototype.readBigUInt64BE=ht(function(l){l=l>>>0,Y(l,"offset");const f=this[l],A=this[l+7];(f===void 0||A===void 0)&&$(l,this.length-8);const z=f*2**24+this[++l]*2**16+this[++l]*2**8+this[++l],et=this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+A;return(BigInt(z)<<BigInt(32))+BigInt(et)}),s.prototype.readIntLE=function(l,f,A){l=l>>>0,f=f>>>0,A||it(l,f,this.length);let z=this[l],et=1,tt=0;for(;++tt<f&&(et*=256);)z+=this[l+tt]*et;return et*=128,z>=et&&(z-=Math.pow(2,8*f)),z},s.prototype.readIntBE=function(l,f,A){l=l>>>0,f=f>>>0,A||it(l,f,this.length);let z=f,et=1,tt=this[l+--z];for(;z>0&&(et*=256);)tt+=this[l+--z]*et;return et*=128,tt>=et&&(tt-=Math.pow(2,8*f)),tt},s.prototype.readInt8=function(l,f){return l=l>>>0,f||it(l,1,this.length),this[l]&128?(255-this[l]+1)*-1:this[l]},s.prototype.readInt16LE=function(l,f){l=l>>>0,f||it(l,2,this.length);const A=this[l]|this[l+1]<<8;return A&32768?A|4294901760:A},s.prototype.readInt16BE=function(l,f){l=l>>>0,f||it(l,2,this.length);const A=this[l+1]|this[l]<<8;return A&32768?A|4294901760:A},s.prototype.readInt32LE=function(l,f){return l=l>>>0,f||it(l,4,this.length),this[l]|this[l+1]<<8|this[l+2]<<16|this[l+3]<<24},s.prototype.readInt32BE=function(l,f){return l=l>>>0,f||it(l,4,this.length),this[l]<<24|this[l+1]<<16|this[l+2]<<8|this[l+3]},s.prototype.readBigInt64LE=ht(function(l){l=l>>>0,Y(l,"offset");const f=this[l],A=this[l+7];(f===void 0||A===void 0)&&$(l,this.length-8);const z=this[l+4]+this[l+5]*2**8+this[l+6]*2**16+(A<<24);return(BigInt(z)<<BigInt(32))+BigInt(f+this[++l]*2**8+this[++l]*2**16+this[++l]*2**24)}),s.prototype.readBigInt64BE=ht(function(l){l=l>>>0,Y(l,"offset");const f=this[l],A=this[l+7];(f===void 0||A===void 0)&&$(l,this.length-8);const z=(f<<24)+this[++l]*2**16+this[++l]*2**8+this[++l];return(BigInt(z)<<BigInt(32))+BigInt(this[++l]*2**24+this[++l]*2**16+this[++l]*2**8+A)}),s.prototype.readFloatLE=function(l,f){return l=l>>>0,f||it(l,4,this.length),r.read(this,l,!0,23,4)},s.prototype.readFloatBE=function(l,f){return l=l>>>0,f||it(l,4,this.length),r.read(this,l,!1,23,4)},s.prototype.readDoubleLE=function(l,f){return l=l>>>0,f||it(l,8,this.length),r.read(this,l,!0,52,8)},s.prototype.readDoubleBE=function(l,f){return l=l>>>0,f||it(l,8,this.length),r.read(this,l,!1,52,8)};function st(g,l,f,A,z,et){if(!s.isBuffer(g))throw new TypeError('"buffer" argument must be a Buffer instance');if(l>z||l<et)throw new RangeError('"value" argument is out of bounds');if(f+A>g.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(l,f,A,z){if(l=+l,f=f>>>0,A=A>>>0,!z){const bt=Math.pow(2,8*A)-1;st(this,l,f,A,bt,0)}let et=1,tt=0;for(this[f]=l&255;++tt<A&&(et*=256);)this[f+tt]=l/et&255;return f+A},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(l,f,A,z){if(l=+l,f=f>>>0,A=A>>>0,!z){const bt=Math.pow(2,8*A)-1;st(this,l,f,A,bt,0)}let et=A-1,tt=1;for(this[f+et]=l&255;--et>=0&&(tt*=256);)this[f+et]=l/tt&255;return f+A},s.prototype.writeUint8=s.prototype.writeUInt8=function(l,f,A){return l=+l,f=f>>>0,A||st(this,l,f,1,255,0),this[f]=l&255,f+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(l,f,A){return l=+l,f=f>>>0,A||st(this,l,f,2,65535,0),this[f]=l&255,this[f+1]=l>>>8,f+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(l,f,A){return l=+l,f=f>>>0,A||st(this,l,f,2,65535,0),this[f]=l>>>8,this[f+1]=l&255,f+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(l,f,A){return l=+l,f=f>>>0,A||st(this,l,f,4,4294967295,0),this[f+3]=l>>>24,this[f+2]=l>>>16,this[f+1]=l>>>8,this[f]=l&255,f+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(l,f,A){return l=+l,f=f>>>0,A||st(this,l,f,4,4294967295,0),this[f]=l>>>24,this[f+1]=l>>>16,this[f+2]=l>>>8,this[f+3]=l&255,f+4};function Et(g,l,f,A,z){k(l,A,z,g,f,7);let et=Number(l&BigInt(4294967295));g[f++]=et,et=et>>8,g[f++]=et,et=et>>8,g[f++]=et,et=et>>8,g[f++]=et;let tt=Number(l>>BigInt(32)&BigInt(4294967295));return g[f++]=tt,tt=tt>>8,g[f++]=tt,tt=tt>>8,g[f++]=tt,tt=tt>>8,g[f++]=tt,f}function S(g,l,f,A,z){k(l,A,z,g,f,7);let et=Number(l&BigInt(4294967295));g[f+7]=et,et=et>>8,g[f+6]=et,et=et>>8,g[f+5]=et,et=et>>8,g[f+4]=et;let tt=Number(l>>BigInt(32)&BigInt(4294967295));return g[f+3]=tt,tt=tt>>8,g[f+2]=tt,tt=tt>>8,g[f+1]=tt,tt=tt>>8,g[f]=tt,f+8}s.prototype.writeBigUInt64LE=ht(function(l,f=0){return Et(this,l,f,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=ht(function(l,f=0){return S(this,l,f,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(l,f,A,z){if(l=+l,f=f>>>0,!z){const _t=Math.pow(2,8*A-1);st(this,l,f,A,_t-1,-_t)}let et=0,tt=1,bt=0;for(this[f]=l&255;++et<A&&(tt*=256);)l<0&&bt===0&&this[f+et-1]!==0&&(bt=1),this[f+et]=(l/tt>>0)-bt&255;return f+A},s.prototype.writeIntBE=function(l,f,A,z){if(l=+l,f=f>>>0,!z){const _t=Math.pow(2,8*A-1);st(this,l,f,A,_t-1,-_t)}let et=A-1,tt=1,bt=0;for(this[f+et]=l&255;--et>=0&&(tt*=256);)l<0&&bt===0&&this[f+et+1]!==0&&(bt=1),this[f+et]=(l/tt>>0)-bt&255;return f+A},s.prototype.writeInt8=function(l,f,A){return l=+l,f=f>>>0,A||st(this,l,f,1,127,-128),l<0&&(l=255+l+1),this[f]=l&255,f+1},s.prototype.writeInt16LE=function(l,f,A){return l=+l,f=f>>>0,A||st(this,l,f,2,32767,-32768),this[f]=l&255,this[f+1]=l>>>8,f+2},s.prototype.writeInt16BE=function(l,f,A){return l=+l,f=f>>>0,A||st(this,l,f,2,32767,-32768),this[f]=l>>>8,this[f+1]=l&255,f+2},s.prototype.writeInt32LE=function(l,f,A){return l=+l,f=f>>>0,A||st(this,l,f,4,2147483647,-2147483648),this[f]=l&255,this[f+1]=l>>>8,this[f+2]=l>>>16,this[f+3]=l>>>24,f+4},s.prototype.writeInt32BE=function(l,f,A){return l=+l,f=f>>>0,A||st(this,l,f,4,2147483647,-2147483648),l<0&&(l=4294967295+l+1),this[f]=l>>>24,this[f+1]=l>>>16,this[f+2]=l>>>8,this[f+3]=l&255,f+4},s.prototype.writeBigInt64LE=ht(function(l,f=0){return Et(this,l,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=ht(function(l,f=0){return S(this,l,f,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Ot(g,l,f,A,z,et){if(f+A>g.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("Index out of range")}function Bt(g,l,f,A,z){return l=+l,f=f>>>0,z||Ot(g,l,f,4),r.write(g,l,f,A,23,4),f+4}s.prototype.writeFloatLE=function(l,f,A){return Bt(this,l,f,!0,A)},s.prototype.writeFloatBE=function(l,f,A){return Bt(this,l,f,!1,A)};function Ut(g,l,f,A,z){return l=+l,f=f>>>0,z||Ot(g,l,f,8),r.write(g,l,f,A,52,8),f+8}s.prototype.writeDoubleLE=function(l,f,A){return Ut(this,l,f,!0,A)},s.prototype.writeDoubleBE=function(l,f,A){return Ut(this,l,f,!1,A)},s.prototype.copy=function(l,f,A,z){if(!s.isBuffer(l))throw new TypeError("argument should be a Buffer");if(A||(A=0),!z&&z!==0&&(z=this.length),f>=l.length&&(f=l.length),f||(f=0),z>0&&z<A&&(z=A),z===A||l.length===0||this.length===0)return 0;if(f<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("Index out of range");if(z<0)throw new RangeError("sourceEnd out of bounds");z>this.length&&(z=this.length),l.length-f<z-A&&(z=l.length-f+A);const et=z-A;return this===l&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(f,A,z):Uint8Array.prototype.set.call(l,this.subarray(A,z),f),et},s.prototype.fill=function(l,f,A,z){if(typeof l=="string"){if(typeof f=="string"?(z=f,f=0,A=this.length):typeof A=="string"&&(z=A,A=this.length),z!==void 0&&typeof z!="string")throw new TypeError("encoding must be a string");if(typeof z=="string"&&!s.isEncoding(z))throw new TypeError("Unknown encoding: "+z);if(l.length===1){const tt=l.charCodeAt(0);(z==="utf8"&&tt<128||z==="latin1")&&(l=tt)}}else typeof l=="number"?l=l&255:typeof l=="boolean"&&(l=Number(l));if(f<0||this.length<f||this.length<A)throw new RangeError("Out of range index");if(A<=f)return this;f=f>>>0,A=A===void 0?this.length:A>>>0,l||(l=0);let et;if(typeof l=="number")for(et=f;et<A;++et)this[et]=l;else{const tt=s.isBuffer(l)?l:s.from(l,z),bt=tt.length;if(bt===0)throw new TypeError('The value "'+l+'" is invalid for argument "value"');for(et=0;et<A-f;++et)this[et+f]=tt[et%bt]}return this};const ft={};function pt(g,l,f){ft[g]=class extends f{constructor(){super(),Object.defineProperty(this,"message",{value:l.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${g}]`,this.stack,delete this.name}get code(){return g}set code(z){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:z,writable:!0})}toString(){return`${this.name} [${g}]: ${this.message}`}}}pt("ERR_BUFFER_OUT_OF_BOUNDS",function(g){return g?`${g} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pt("ERR_INVALID_ARG_TYPE",function(g,l){return`The "${g}" argument must be of type number. Received type ${typeof l}`},TypeError),pt("ERR_OUT_OF_RANGE",function(g,l,f){let A=`The value of "${g}" is out of range.`,z=f;return Number.isInteger(f)&&Math.abs(f)>2**32?z=B(String(f)):typeof f=="bigint"&&(z=String(f),(f>BigInt(2)**BigInt(32)||f<-(BigInt(2)**BigInt(32)))&&(z=B(z)),z+="n"),A+=` It must be ${l}. Received ${z}`,A},RangeError);function B(g){let l="",f=g.length;const A=g[0]==="-"?1:0;for(;f>=A+4;f-=3)l=`_${g.slice(f-3,f)}${l}`;return`${g.slice(0,f)}${l}`}function T(g,l,f){Y(l,"offset"),(g[l]===void 0||g[l+f]===void 0)&&$(l,g.length-(f+1))}function k(g,l,f,A,z,et){if(g>f||g<l){const tt=typeof l=="bigint"?"n":"";let bt;throw l===0||l===BigInt(0)?bt=`>= 0${tt} and < 2${tt} ** ${(et+1)*8}${tt}`:bt=`>= -(2${tt} ** ${(et+1)*8-1}${tt}) and < 2 ** ${(et+1)*8-1}${tt}`,new ft.ERR_OUT_OF_RANGE("value",bt,g)}T(A,z,et)}function Y(g,l){if(typeof g!="number")throw new ft.ERR_INVALID_ARG_TYPE(l,"number",g)}function $(g,l,f){throw Math.floor(g)!==g?(Y(g,f),new ft.ERR_OUT_OF_RANGE("offset","an integer",g)):l<0?new ft.ERR_BUFFER_OUT_OF_BOUNDS:new ft.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${l}`,g)}const Z=/[^+/0-9A-Za-z-_]/g;function p(g){if(g=g.split("=")[0],g=g.trim().replace(Z,""),g.length<2)return"";for(;g.length%4!==0;)g=g+"=";return g}function c(g,l){l=l||1/0;let f;const A=g.length;let z=null;const et=[];for(let tt=0;tt<A;++tt){if(f=g.charCodeAt(tt),f>55295&&f<57344){if(!z){if(f>56319){(l-=3)>-1&&et.push(239,191,189);continue}else if(tt+1===A){(l-=3)>-1&&et.push(239,191,189);continue}z=f;continue}if(f<56320){(l-=3)>-1&&et.push(239,191,189),z=f;continue}f=(z-55296<<10|f-56320)+65536}else z&&(l-=3)>-1&&et.push(239,191,189);if(z=null,f<128){if((l-=1)<0)break;et.push(f)}else if(f<2048){if((l-=2)<0)break;et.push(f>>6|192,f&63|128)}else if(f<65536){if((l-=3)<0)break;et.push(f>>12|224,f>>6&63|128,f&63|128)}else if(f<1114112){if((l-=4)<0)break;et.push(f>>18|240,f>>12&63|128,f>>6&63|128,f&63|128)}else throw new Error("Invalid code point")}return et}function u(g){const l=[];for(let f=0;f<g.length;++f)l.push(g.charCodeAt(f)&255);return l}function m(g,l){let f,A,z;const et=[];for(let tt=0;tt<g.length&&!((l-=2)<0);++tt)f=g.charCodeAt(tt),A=f>>8,z=f%256,et.push(z),et.push(A);return et}function v(g){return t.toByteArray(p(g))}function U(g,l,f,A){let z;for(z=0;z<A&&!(z+f>=l.length||z>=g.length);++z)l[z+f]=g[z];return z}function V(g,l){return g instanceof l||g!=null&&g.constructor!=null&&g.constructor.name!=null&&g.constructor.name===l.name}function ot(g){return g!==g}const dt=function(){const g="0123456789abcdef",l=new Array(256);for(let f=0;f<16;++f){const A=f*16;for(let z=0;z<16;++z)l[A+z]=g[f]+g[z]}return l}();function ht(g){return typeof BigInt>"u"?xt:g}function xt(){throw new Error("BigInt not supported")}})(Ya);var Ks;(function(e){e[e.SysFatal=1]="SysFatal",e[e.SysTransient=2]="SysTransient",e[e.DestinationInvalid=3]="DestinationInvalid",e[e.CanisterReject=4]="CanisterReject",e[e.CanisterError=5]="CanisterError"})(Ks||(Ks={}));const ki="abcdefghijklmnopqrstuvwxyz234567",hn=Object.create(null);for(let e=0;e<ki.length;e++)hn[ki[e]]=e;hn[0]=hn.o;hn[1]=hn.i;function h0(e){let t=0,r=0,n="";function i(o){return t<0?r|=o>>-t:r=o<<t&248,t>3?(t-=8,1):(t<4&&(n+=ki[r>>3],t+=5),0)}for(let o=0;o<e.length;)o+=i(e[o]);return n+(t<0?ki[r>>3]:"")}function p0(e){let t=0,r=0;const n=new Uint8Array(e.length*4/3|0);let i=0;function o(a){let s=hn[a.toLowerCase()];if(s===void 0)throw new Error(`Invalid character: ${JSON.stringify(a)}`);s<<=3,r|=s>>>t,t+=5,t>=8&&(n[i++]=r,t-=8,t>0?r=s<<5-t&255:r=0)}for(const a of e)o(a);return n.slice(0,i)}const g0=new Uint32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function y0(e){const t=new Uint8Array(e);let r=-1;for(let n=0;n<t.length;n++){const o=(t[n]^r)&255;r=g0[o]^r>>>8}return(r^-1)>>>0}const Yr=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function xo(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function m0(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function le(e,...t){if(!xo(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Yo(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function b0(e,t){le(e);const r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Un(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function ys(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Re(e,t){return e<<32-t|e>>>t}const Ka=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",w0=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function pn(e){if(le(e),Ka)return e.toHex();let t="";for(let r=0;r<e.length;r++)t+=w0[e[r]];return t}const He={_0:48,_9:57,A:65,F:70,a:97,f:102};function Lo(e){if(e>=He._0&&e<=He._9)return e-He._0;if(e>=He.A&&e<=He.F)return e-(He.A-10);if(e>=He.a&&e<=He.f)return e-(He.a-10)}function Za(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Ka)return Uint8Array.fromHex(e);const t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const n=new Uint8Array(r);for(let i=0,o=0;i<r;i++,o+=2){const a=Lo(e.charCodeAt(o)),s=Lo(e.charCodeAt(o+1));if(a===void 0||s===void 0){const d=e[o]+e[o+1];throw new Error('hex string expected, got non-hex character "'+d+'" at index '+o)}n[i]=a*16+s}return n}function Vn(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function Xa(e){return typeof e=="string"&&(e=Vn(e)),le(e),e}function Vt(...e){let t=0;for(let n=0;n<e.length;n++){const i=e[n];le(i),t+=i.length}const r=new Uint8Array(t);for(let n=0,i=0;n<e.length;n++){const o=e[n];r.set(o,i),i+=o.length}return r}class x0{}function _o(e){const t=n=>e().update(Xa(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function Da(e=32){if(Yr&&typeof Yr.getRandomValues=="function")return Yr.getRandomValues(new Uint8Array(e));if(Yr&&typeof Yr.randomBytes=="function")return Uint8Array.from(Yr.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function _0(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);const i=BigInt(32),o=BigInt(4294967295),a=Number(r>>i&o),s=Number(r&o),d=n?4:0,y=n?0:4;e.setUint32(t+d,a,n),e.setUint32(t+y,s,n)}function E0(e,t,r){return e&t^~e&r}function v0(e,t,r){return e&t^e&r^t&r}class Ja extends x0{constructor(t,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(t),this.view=ys(this.buffer)}update(t){Yo(this),t=Xa(t),le(t);const{view:r,buffer:n,blockLen:i}=this,o=t.length;for(let a=0;a<o;){const s=Math.min(i-this.pos,o-a);if(s===i){const d=ys(t);for(;i<=o-a;a+=i)this.process(d,a);continue}n.set(t.subarray(a,a+s),this.pos),this.pos+=s,a+=s,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Yo(this),b0(t,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:o}=this;let{pos:a}=this;r[a++]=128,Un(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let _=a;_<i;_++)r[_]=0;_0(n,i-8,BigInt(this.length*8),o),this.process(n,0);const s=ys(t),d=this.outputLen;if(d%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const y=d/4,E=this.get();if(y>E.length)throw new Error("_sha2: outputLen bigger than state");for(let _=0;_<y;_++)s.setUint32(4*_,E[_],o)}digest(){const{buffer:t,outputLen:r}=this;this.digestInto(t);const n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:o,destroyed:a,pos:s}=this;return t.destroyed=a,t.finished=o,t.length=i,t.pos=s,i%r&&t.buffer.set(n),t}clone(){return this._cloneInto()}}const ir=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),sr=Uint32Array.from([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]),ie=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Dn=BigInt(2**32-1),Ko=BigInt(32);function B0(e,t=!1){return t?{h:Number(e&Dn),l:Number(e>>Ko&Dn)}:{h:Number(e>>Ko&Dn)|0,l:Number(e&Dn)|0}}function S0(e,t=!1){const r=e.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let o=0;o<r;o++){const{h:a,l:s}=B0(e[o],t);[n[o],i[o]]=[a,s]}return[n,i]}const Zo=(e,t,r)=>e>>>r,Xo=(e,t,r)=>e<<32-r|t>>>r,Lr=(e,t,r)=>e>>>r|t<<32-r,Kr=(e,t,r)=>e<<32-r|t>>>r,Jn=(e,t,r)=>e<<64-r|t>>>r-32,Qn=(e,t,r)=>e>>>r-32|t<<64-r;function ze(e,t,r,n){const i=(t>>>0)+(n>>>0);return{h:e+r+(i/2**32|0)|0,l:i|0}}const T0=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),A0=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,N0=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),R0=(e,t,r,n,i)=>t+r+n+i+(e/2**32|0)|0,I0=(e,t,r,n,i)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(i>>>0),O0=(e,t,r,n,i,o)=>t+r+n+i+o+(e/2**32|0)|0,U0=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),or=new Uint32Array(64);class Qa extends Ja{constructor(t=32){super(64,t,8,!1),this.A=ir[0]|0,this.B=ir[1]|0,this.C=ir[2]|0,this.D=ir[3]|0,this.E=ir[4]|0,this.F=ir[5]|0,this.G=ir[6]|0,this.H=ir[7]|0}get(){const{A:t,B:r,C:n,D:i,E:o,F:a,G:s,H:d}=this;return[t,r,n,i,o,a,s,d]}set(t,r,n,i,o,a,s,d){this.A=t|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=o|0,this.F=a|0,this.G=s|0,this.H=d|0}process(t,r){for(let _=0;_<16;_++,r+=4)or[_]=t.getUint32(r,!1);for(let _=16;_<64;_++){const w=or[_-15],b=or[_-2],h=Re(w,7)^Re(w,18)^w>>>3,O=Re(b,17)^Re(b,19)^b>>>10;or[_]=O+or[_-7]+h+or[_-16]|0}let{A:n,B:i,C:o,D:a,E:s,F:d,G:y,H:E}=this;for(let _=0;_<64;_++){const w=Re(s,6)^Re(s,11)^Re(s,25),b=E+w+E0(s,d,y)+U0[_]+or[_]|0,O=(Re(n,2)^Re(n,13)^Re(n,22))+v0(n,i,o)|0;E=y,y=d,d=s,s=a+b|0,a=o,o=i,i=n,n=b+O|0}n=n+this.A|0,i=i+this.B|0,o=o+this.C|0,a=a+this.D|0,s=s+this.E|0,d=d+this.F|0,y=y+this.G|0,E=E+this.H|0,this.set(n,i,o,a,s,d,y,E)}roundClean(){Un(or)}destroy(){this.set(0,0,0,0,0,0,0,0),Un(this.buffer)}}class F0 extends Qa{constructor(){super(28),this.A=sr[0]|0,this.B=sr[1]|0,this.C=sr[2]|0,this.D=sr[3]|0,this.E=sr[4]|0,this.F=sr[5]|0,this.G=sr[6]|0,this.H=sr[7]|0}}const tc=S0(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),k0=tc[0],C0=tc[1],ar=new Uint32Array(80),cr=new Uint32Array(80);class M0 extends Ja{constructor(t=64){super(128,t,16,!1),this.Ah=ie[0]|0,this.Al=ie[1]|0,this.Bh=ie[2]|0,this.Bl=ie[3]|0,this.Ch=ie[4]|0,this.Cl=ie[5]|0,this.Dh=ie[6]|0,this.Dl=ie[7]|0,this.Eh=ie[8]|0,this.El=ie[9]|0,this.Fh=ie[10]|0,this.Fl=ie[11]|0,this.Gh=ie[12]|0,this.Gl=ie[13]|0,this.Hh=ie[14]|0,this.Hl=ie[15]|0}get(){const{Ah:t,Al:r,Bh:n,Bl:i,Ch:o,Cl:a,Dh:s,Dl:d,Eh:y,El:E,Fh:_,Fl:w,Gh:b,Gl:h,Hh:O,Hl:C}=this;return[t,r,n,i,o,a,s,d,y,E,_,w,b,h,O,C]}set(t,r,n,i,o,a,s,d,y,E,_,w,b,h,O,C){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=o|0,this.Cl=a|0,this.Dh=s|0,this.Dl=d|0,this.Eh=y|0,this.El=E|0,this.Fh=_|0,this.Fl=w|0,this.Gh=b|0,this.Gl=h|0,this.Hh=O|0,this.Hl=C|0}process(t,r){for(let j=0;j<16;j++,r+=4)ar[j]=t.getUint32(r),cr[j]=t.getUint32(r+=4);for(let j=16;j<80;j++){const K=ar[j-15]|0,R=cr[j-15]|0,P=Lr(K,R,1)^Lr(K,R,8)^Zo(K,R,7),q=Kr(K,R,1)^Kr(K,R,8)^Xo(K,R,7),rt=ar[j-2]|0,nt=cr[j-2]|0,I=Lr(rt,nt,19)^Jn(rt,nt,61)^Zo(rt,nt,6),L=Kr(rt,nt,19)^Qn(rt,nt,61)^Xo(rt,nt,6),X=N0(q,L,cr[j-7],cr[j-16]),x=R0(X,P,I,ar[j-7],ar[j-16]);ar[j]=x|0,cr[j]=X|0}let{Ah:n,Al:i,Bh:o,Bl:a,Ch:s,Cl:d,Dh:y,Dl:E,Eh:_,El:w,Fh:b,Fl:h,Gh:O,Gl:C,Hh:H,Hl:G}=this;for(let j=0;j<80;j++){const K=Lr(_,w,14)^Lr(_,w,18)^Jn(_,w,41),R=Kr(_,w,14)^Kr(_,w,18)^Qn(_,w,41),P=_&b^~_&O,q=w&h^~w&C,rt=I0(G,R,q,C0[j],cr[j]),nt=O0(rt,H,K,P,k0[j],ar[j]),I=rt|0,L=Lr(n,i,28)^Jn(n,i,34)^Jn(n,i,39),X=Kr(n,i,28)^Qn(n,i,34)^Qn(n,i,39),x=n&o^n&s^o&s,N=i&a^i&d^a&d;H=O|0,G=C|0,O=b|0,C=h|0,b=_|0,h=w|0,{h:_,l:w}=ze(y|0,E|0,nt|0,I|0),y=s|0,E=d|0,s=o|0,d=a|0,o=n|0,a=i|0;const F=T0(I,X,N);n=A0(F,nt,L,x),i=F|0}({h:n,l:i}=ze(this.Ah|0,this.Al|0,n|0,i|0)),{h:o,l:a}=ze(this.Bh|0,this.Bl|0,o|0,a|0),{h:s,l:d}=ze(this.Ch|0,this.Cl|0,s|0,d|0),{h:y,l:E}=ze(this.Dh|0,this.Dl|0,y|0,E|0),{h:_,l:w}=ze(this.Eh|0,this.El|0,_|0,w|0),{h:b,l:h}=ze(this.Fh|0,this.Fl|0,b|0,h|0),{h:O,l:C}=ze(this.Gh|0,this.Gl|0,O|0,C|0),{h:H,l:G}=ze(this.Hh|0,this.Hl|0,H|0,G|0),this.set(n,i,o,a,s,d,y,E,_,w,b,h,O,C,H,G)}roundClean(){Un(ar,cr)}destroy(){Un(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const ec=_o(()=>new Qa),P0=_o(()=>new F0),$0=_o(()=>new M0),q0=ec,j0=P0;function V0(e){return j0.create().update(new Uint8Array(e)).digest()}const ti="__principal__",G0=2,Do=4,H0="aaaaa-aa",z0=e=>{var t;return new Uint8Array(((t=e.match(/.{1,2}/g))!==null&&t!==void 0?t:[]).map(r=>parseInt(r,16)))},W0=e=>e.reduce((t,r)=>t+r.toString(16).padStart(2,"0"),"");let vt=class li{constructor(t){this._arr=t,this._isPrincipal=!0}static anonymous(){return new this(new Uint8Array([Do]))}static managementCanister(){return this.fromText(H0)}static selfAuthenticating(t){const r=V0(t);return new this(new Uint8Array([...r,G0]))}static from(t){if(typeof t=="string")return li.fromText(t);if(Object.getPrototypeOf(t)===Uint8Array.prototype)return new li(t);if(typeof t=="object"&&t!==null&&t._isPrincipal===!0)return new li(t._arr);throw new Error(`Impossible to convert ${JSON.stringify(t)} to Principal.`)}static fromHex(t){return new this(z0(t))}static fromText(t){let r=t;if(t.includes(ti)){const a=JSON.parse(t);ti in a&&(r=a[ti])}const n=r.toLowerCase().replace(/-/g,"");let i=p0(n);i=i.slice(4,i.length);const o=new this(i);if(o.toText()!==r)throw new Error(`Principal "${o.toText()}" does not have a valid checksum (original value "${r}" may not be a valid Principal ID).`);return o}static fromUint8Array(t){return new this(t)}isAnonymous(){return this._arr.byteLength===1&&this._arr[0]===Do}toUint8Array(){return this._arr}toHex(){return W0(this._arr).toUpperCase()}toText(){const t=new ArrayBuffer(4);new DataView(t).setUint32(0,y0(this._arr));const n=new Uint8Array(t),i=Uint8Array.from(this._arr),o=new Uint8Array([...n,...i]),s=h0(o).match(/.{1,5}/g);if(!s)throw new Error;return s.join("-")}toString(){return this.toText()}toJSON(){return{[ti]:this.toText()}}compareTo(t){for(let r=0;r<Math.min(this._arr.length,t._arr.length);r++){if(this._arr[r]<t._arr[r])return"lt";if(this._arr[r]>t._arr[r])return"gt"}return this._arr.length<t._arr.length?"lt":this._arr.length>t._arr.length?"gt":"eq"}ltEq(t){const r=this.compareTo(t);return r=="lt"||r=="eq"}gtEq(t){const r=this.compareTo(t);return r=="gt"||r=="eq"}};function qe(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.byteLength,0));let r=0;for(const n of e)t.set(new Uint8Array(n),r),r+=n.byteLength;return t.buffer}function Jt(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}const Y0=new RegExp(/^[0-9a-fA-F]+$/);function Ci(e){if(!Y0.test(e))throw new Error("Invalid hexadecimal string.");const t=[...e].reduce((r,n,i)=>(r[i/2|0]=(r[i/2|0]||"")+n,r),[]).map(r=>Number.parseInt(r,16));return new Uint8Array(t).buffer}function rc(e,t){if(e.byteLength!==t.byteLength)return e.byteLength-t.byteLength;const r=new Uint8Array(e),n=new Uint8Array(t);for(let i=0;i<r.length;i++)if(r[i]!==n[i])return r[i]-n[i];return 0}function Yi(e,t){return rc(e,t)===0}function fi(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function Sn(e){return e instanceof Uint8Array?fi(e):e instanceof ArrayBuffer?e:Array.isArray(e)?fi(new Uint8Array(e)):"buffer"in e?Sn(e.buffer):fi(new Uint8Array(e))}class $t extends Error{constructor(t){super(t),this.message=t,this.name="AgentError",this.__proto__=$t.prototype,Object.setPrototypeOf(this,$t.prototype)}}function It(...e){const t=new Uint8Array(e.reduce((n,i)=>n+i.byteLength,0));let r=0;for(const n of e)t.set(new Uint8Array(n),r),r+=n.byteLength;return t}class wn{constructor(t,r=(t==null?void 0:t.byteLength)||0){this._buffer=Mi(t||new ArrayBuffer(0)),this._view=new Uint8Array(this._buffer,0,r)}save(){return this._view}restore(t){this._view=t}get buffer(){return Mi(this._view.slice())}get byteLength(){return this._view.byteLength}read(t){const r=this._view.subarray(0,t);return this._view=this._view.subarray(t),r.slice().buffer}readUint8(){const t=this._view[0];return this._view=this._view.subarray(1),t}write(t){const r=new Uint8Array(t),n=this._view.byteLength;this._view.byteOffset+this._view.byteLength+r.byteLength>=this._buffer.byteLength?this.alloc(r.byteLength):this._view=new Uint8Array(this._buffer,this._view.byteOffset,this._view.byteLength+r.byteLength),this._view.set(r,n)}get end(){return this._view.byteLength===0}alloc(t){const r=new ArrayBuffer((this._buffer.byteLength+t)*1.2|0),n=new Uint8Array(r,0,this._view.byteLength+t);n.set(this._view),this._buffer=r,this._view=n}}function ms(e){return new DataView(e.buffer,e.byteOffset,e.byteLength).buffer}function Mi(e){return e instanceof Uint8Array?ms(e):e instanceof ArrayBuffer?e:Array.isArray(e)?ms(new Uint8Array(e)):"buffer"in e?Mi(e.buffer):ms(new Uint8Array(e))}function L0(e){const r=new TextEncoder().encode(e);let n=0;for(const i of r)n=(n*223+i)%2**32;return n}function $e(e){if(/^_\d+_$/.test(e)||/^_0x[0-9a-fA-F]+_$/.test(e)){const t=+e.slice(1,-1);if(Number.isSafeInteger(t)&&t>=0&&t<2**32)return t}return L0(e)}function nc(){throw new Error("unexpected end of buffer")}function Pr(e,t){return e.byteLength<t&&nc(),e.read(t)}function $r(e){const t=e.readUint8();return t===void 0&&nc(),t}function qt(e){if(typeof e=="number"&&(e=BigInt(e)),e<BigInt(0))throw new Error("Cannot leb encode negative values.");const t=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,r=new wn(new ArrayBuffer(t),0);for(;;){const n=Number(e&BigInt(127));if(e/=BigInt(128),e===BigInt(0)){r.write(new Uint8Array([n]));break}else r.write(new Uint8Array([n|128]))}return r.buffer}function Xt(e){let t=BigInt(1),r=BigInt(0),n;do n=$r(e),r+=BigInt(n&127).valueOf()*t,t*=BigInt(128);while(n>=128);return r}function Lt(e){typeof e=="number"&&(e=BigInt(e));const t=e<BigInt(0);t&&(e=-e-BigInt(1));const r=(e===BigInt(0)?0:Math.ceil(Math.log2(Number(e))))+1,n=new wn(new ArrayBuffer(r),0);for(;;){const o=i(e);if(e/=BigInt(128),t&&e===BigInt(0)&&o&64||!t&&e===BigInt(0)&&!(o&64)){n.write(new Uint8Array([o]));break}else n.write(new Uint8Array([o|128]))}function i(o){const a=o%BigInt(128);return Number(t?BigInt(128)-a-BigInt(1):a)}return n.buffer}function ur(e){const t=new Uint8Array(e.buffer);let r=0;for(;r<t.byteLength;r++)if(t[r]<128){if(!(t[r]&64))return Xt(e);break}const n=new Uint8Array(Pr(e,r+1));let i=BigInt(0);for(let o=n.byteLength-1;o>=0;o--)i=i*BigInt(128)+BigInt(128-(n[o]&127)-1);return-i-BigInt(1)}function K0(e,t){if(BigInt(e)<BigInt(0))throw new Error("Cannot write negative values.");return ic(e,t)}function ic(e,t){e=BigInt(e);const r=new wn(new ArrayBuffer(Math.min(1,t)),0);let n=0,i=BigInt(256),o=BigInt(0),a=Number(e%i);for(r.write(new Uint8Array([a]));++n<t;)e<0&&o===BigInt(0)&&a!==0&&(o=BigInt(1)),a=Number((e/i-o)%BigInt(256)),r.write(new Uint8Array([a])),i*=BigInt(256);return r.buffer}function sc(e,t){let r=BigInt($r(e)),n=BigInt(1),i=0;for(;++i<t;){n*=BigInt(256);const o=BigInt($r(e));r=r+n*o}return r}function Z0(e,t){let r=sc(e,t);const n=BigInt(2)**(BigInt(8)*BigInt(t-1)+BigInt(7));return r>=n&&(r-=n*BigInt(2)),r}function Zs(e){const t=BigInt(e);if(e<0)throw new RangeError("Input must be non-negative");return BigInt(1)<<t}const di="DIDL",Jo=400;function Fn(e,t,r){return e.map((n,i)=>r(n,t[i]))}class X0{constructor(){this._typs=[],this._idx=new Map}has(t){return this._idx.has(t.name)}add(t,r){const n=this._typs.length;this._idx.set(t.name,n),this._typs.push(r)}merge(t,r){const n=this._idx.get(t.name),i=this._idx.get(r);if(n===void 0)throw new Error("Missing type index for "+t);if(i===void 0)throw new Error("Missing type index for "+r);this._typs[n]=this._typs[i],this._typs.splice(i,1),this._idx.delete(r)}encode(){const t=qt(this._typs.length),r=It(...this._typs);return It(t,r)}indexOf(t){if(!this._idx.has(t))throw new Error("Missing type index for "+t);return Lt(this._idx.get(t)||0)}}class D0{visitType(t,r){throw new Error("Not implemented")}visitPrimitive(t,r){return this.visitType(t,r)}visitEmpty(t,r){return this.visitPrimitive(t,r)}visitBool(t,r){return this.visitPrimitive(t,r)}visitNull(t,r){return this.visitPrimitive(t,r)}visitReserved(t,r){return this.visitPrimitive(t,r)}visitText(t,r){return this.visitPrimitive(t,r)}visitNumber(t,r){return this.visitPrimitive(t,r)}visitInt(t,r){return this.visitNumber(t,r)}visitNat(t,r){return this.visitNumber(t,r)}visitFloat(t,r){return this.visitPrimitive(t,r)}visitFixedInt(t,r){return this.visitNumber(t,r)}visitFixedNat(t,r){return this.visitNumber(t,r)}visitPrincipal(t,r){return this.visitPrimitive(t,r)}visitConstruct(t,r){return this.visitType(t,r)}visitVec(t,r,n){return this.visitConstruct(t,n)}visitOpt(t,r,n){return this.visitConstruct(t,n)}visitRecord(t,r,n){return this.visitConstruct(t,n)}visitTuple(t,r,n){const i=r.map((o,a)=>[`_${a}_`,o]);return this.visitRecord(t,i,n)}visitVariant(t,r,n){return this.visitConstruct(t,n)}visitRec(t,r,n){return this.visitConstruct(r,n)}visitFunc(t,r){return this.visitConstruct(t,r)}visitService(t,r){return this.visitConstruct(t,r)}}class Li{display(){return this.name}valueToString(t){return Gt(t)}buildTypeTable(t){t.has(this)||this._buildTypeTableImpl(t)}}class Ee extends Li{checkType(t){if(this.name!==t.name)throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`);return t}_buildTypeTableImpl(t){}}class gr extends Li{checkType(t){if(t instanceof rr){const r=t.getType();if(typeof r>"u")throw new Error("type mismatch with uninitialized type");return r}throw new Error(`type mismatch: type on the wire ${t.name}, expect type ${this.name}`)}encodeType(t){return t.indexOf(this.name)}}class oc extends Ee{accept(t,r){return t.visitEmpty(this,r)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${Gt(t)}`)}encodeValue(){throw new Error("Empty cannot appear as a function argument")}valueToString(){throw new Error("Empty cannot appear as a value")}encodeType(){return Lt(-17)}decodeValue(){throw new Error("Empty cannot appear as an output")}get name(){return"empty"}}class ac extends Li{checkType(t){throw new Error("Method not implemented for unknown.")}accept(t,r){throw t.visitType(this,r)}covariant(t){throw new Error(`Invalid ${this.display()} argument: ${Gt(t)}`)}encodeValue(){throw new Error("Unknown cannot appear as a function argument")}valueToString(){throw new Error("Unknown cannot appear as a value")}encodeType(){throw new Error("Unknown cannot be serialized")}decodeValue(t,r){let n=r.decodeValue(t,r);Object(n)!==n&&(n=Object(n));let i;return r instanceof rr?i=()=>r.getType():i=()=>r,Object.defineProperty(n,"type",{value:i,writable:!0,enumerable:!1,configurable:!0}),n}_buildTypeTableImpl(){throw new Error("Unknown cannot be serialized")}get name(){return"Unknown"}}class cc extends Ee{accept(t,r){return t.visitBool(this,r)}covariant(t){if(typeof t=="boolean")return!0;throw new Error(`Invalid ${this.display()} argument: ${Gt(t)}`)}encodeValue(t){return new Uint8Array([t?1:0])}encodeType(){return Lt(-2)}decodeValue(t,r){switch(this.checkType(r),$r(t)){case 0:return!1;case 1:return!0;default:throw new Error("Boolean value out of range")}}get name(){return"bool"}}class Pi extends Ee{accept(t,r){return t.visitNull(this,r)}covariant(t){if(t===null)return!0;throw new Error(`Invalid ${this.display()} argument: ${Gt(t)}`)}encodeValue(){return new ArrayBuffer(0)}encodeType(){return Lt(-1)}decodeValue(t,r){return this.checkType(r),null}get name(){return"null"}}class gn extends Ee{accept(t,r){return t.visitReserved(this,r)}covariant(t){return!0}encodeValue(){return new ArrayBuffer(0)}encodeType(){return Lt(-16)}decodeValue(t,r){return r.name!==this.name&&r.decodeValue(t,r),null}get name(){return"reserved"}}class uc extends Ee{accept(t,r){return t.visitText(this,r)}covariant(t){if(typeof t=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${Gt(t)}`)}encodeValue(t){const r=new TextEncoder().encode(t),n=qt(r.byteLength);return It(n,r)}encodeType(){return Lt(-15)}decodeValue(t,r){this.checkType(r);const n=Xt(t),i=Pr(t,Number(n));return new TextDecoder("utf8",{fatal:!0}).decode(i)}get name(){return"text"}valueToString(t){return'"'+t+'"'}}class lc extends Ee{accept(t,r){return t.visitInt(this,r)}covariant(t){if(typeof t=="bigint"||Number.isInteger(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${Gt(t)}`)}encodeValue(t){return Lt(t)}encodeType(){return Lt(-4)}decodeValue(t,r){return this.checkType(r),ur(t)}get name(){return"int"}valueToString(t){return t.toString()}}class fc extends Ee{accept(t,r){return t.visitNat(this,r)}covariant(t){if(typeof t=="bigint"&&t>=BigInt(0)||Number.isInteger(t)&&t>=0)return!0;throw new Error(`Invalid ${this.display()} argument: ${Gt(t)}`)}encodeValue(t){return qt(t)}encodeType(){return Lt(-3)}decodeValue(t,r){return this.checkType(r),Xt(t)}get name(){return"nat"}valueToString(t){return t.toString()}}class Eo extends Ee{constructor(t){if(super(),this._bits=t,t!==32&&t!==64)throw new Error("not a valid float type")}accept(t,r){return t.visitFloat(this,r)}covariant(t){if(typeof t=="number"||t instanceof Number)return!0;throw new Error(`Invalid ${this.display()} argument: ${Gt(t)}`)}encodeValue(t){const r=new ArrayBuffer(this._bits/8),n=new DataView(r);return this._bits===32?n.setFloat32(0,t,!0):n.setFloat64(0,t,!0),r}encodeType(){const t=this._bits===32?-13:-14;return Lt(t)}decodeValue(t,r){this.checkType(r);const n=Pr(t,this._bits/8),i=new DataView(n);return this._bits===32?i.getFloat32(0,!0):i.getFloat64(0,!0)}get name(){return"float"+this._bits}valueToString(t){return t.toString()}}class qr extends Ee{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedInt(this,r)}covariant(t){const r=Zs(this._bits-1)*BigInt(-1),n=Zs(this._bits-1)-BigInt(1);let i=!1;if(typeof t=="bigint")i=t>=r&&t<=n;else if(Number.isInteger(t)){const o=BigInt(t);i=o>=r&&o<=n}else i=!1;if(i)return!0;throw new Error(`Invalid ${this.display()} argument: ${Gt(t)}`)}encodeValue(t){return ic(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return Lt(-9-t)}decodeValue(t,r){this.checkType(r);const n=Z0(t,this._bits/8);return this._bits<=32?Number(n):n}get name(){return`int${this._bits}`}valueToString(t){return t.toString()}}class dr extends Ee{constructor(t){super(),this._bits=t}accept(t,r){return t.visitFixedNat(this,r)}covariant(t){const r=Zs(this._bits);let n=!1;if(typeof t=="bigint"&&t>=BigInt(0)?n=t<r:Number.isInteger(t)&&t>=0?n=BigInt(t)<r:n=!1,n)return!0;throw new Error(`Invalid ${this.display()} argument: ${Gt(t)}`)}encodeValue(t){return K0(t,this._bits/8)}encodeType(){const t=Math.log2(this._bits)-3;return Lt(-5-t)}decodeValue(t,r){this.checkType(r);const n=sc(t,this._bits/8);return this._bits<=32?Number(n):n}get name(){return`nat${this._bits}`}valueToString(t){return t.toString()}}class Ki extends gr{constructor(t){super(),this._type=t,this._blobOptimization=!1,t instanceof dr&&t._bits===8&&(this._blobOptimization=!0)}accept(t,r){return t.visitVec(this,this._type,r)}covariant(t){const r=this._type instanceof dr?this._type._bits:this._type instanceof qr?this._type._bits:0;if(ArrayBuffer.isView(t)&&r==t.BYTES_PER_ELEMENT*8||Array.isArray(t)&&t.every((n,i)=>{try{return this._type.covariant(n)}catch(o){throw new Error(`Invalid ${this.display()} argument: 

index ${i} -> ${o.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Gt(t)}`)}encodeValue(t){const r=qt(t.length);if(this._blobOptimization)return It(r,new Uint8Array(t));if(ArrayBuffer.isView(t))return It(r,new Uint8Array(t.buffer));const n=new wn(new ArrayBuffer(r.byteLength+t.length),0);n.write(r);for(const i of t){const o=this._type.encodeValue(i);n.write(new Uint8Array(o))}return n.buffer}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const r=Lt(-19),n=this._type.encodeType(t);t.add(this,It(r,n))}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof Ki))throw new Error("Not a vector type");const i=Number(Xt(t));if(this._type instanceof dr){if(this._type._bits==8)return new Uint8Array(t.read(i));if(this._type._bits==16)return new Uint16Array(t.read(i*2));if(this._type._bits==32)return new Uint32Array(t.read(i*4));if(this._type._bits==64)return new BigUint64Array(t.read(i*8))}if(this._type instanceof qr){if(this._type._bits==8)return new Int8Array(t.read(i));if(this._type._bits==16)return new Int16Array(t.read(i*2));if(this._type._bits==32)return new Int32Array(t.read(i*4));if(this._type._bits==64)return new BigInt64Array(t.read(i*8))}const o=[];for(let a=0;a<i;a++)o.push(this._type.decodeValue(t,n._type));return o}get name(){return`vec ${this._type.name}`}display(){return`vec ${this._type.display()}`}valueToString(t){return"vec {"+t.map(n=>this._type.valueToString(n)).join("; ")+"}"}}class jr extends gr{constructor(t){super(),this._type=t}accept(t,r){return t.visitOpt(this,this._type,r)}covariant(t){try{if(Array.isArray(t)&&(t.length===0||t.length===1&&this._type.covariant(t[0])))return!0}catch(r){throw new Error(`Invalid ${this.display()} argument: ${Gt(t)} 

-> ${r.message}`)}throw new Error(`Invalid ${this.display()} argument: ${Gt(t)}`)}encodeValue(t){return t.length===0?new Uint8Array([0]):It(new Uint8Array([1]),this._type.encodeValue(t[0]))}_buildTypeTableImpl(t){this._type.buildTypeTable(t);const r=Lt(-18),n=this._type.encodeType(t);t.add(this,It(r,n))}decodeValue(t,r){if(r instanceof Pi)return[];if(r instanceof gn)return[];let n=r;if(r instanceof rr){const i=r.getType();if(typeof i>"u")throw new Error("type mismatch with uninitialized type");n=i}if(n instanceof jr)switch($r(t)){case 0:return[];case 1:{const i=t.save();try{return[this._type.decodeValue(t,n._type)]}catch{return t.restore(i),n._type.decodeValue(t,n._type),[]}}default:throw new Error("Not an option value")}else{if(this._type instanceof Pi||this._type instanceof jr||this._type instanceof gn)return n.decodeValue(t,n),[];{const i=t.save();try{return[this._type.decodeValue(t,r)]}catch{return t.restore(i),n.decodeValue(t,r),[]}}}}get name(){return`opt ${this._type.name}`}display(){return`opt ${this._type.display()}`}valueToString(t){return t.length===0?"null":`opt ${this._type.valueToString(t[0])}`}}class Gn extends gr{constructor(t={}){super(),this._fields=Object.entries(t).sort((r,n)=>$e(r[0])-$e(n[0]))}accept(t,r){return t.visitRecord(this,this._fields,r)}tryAsTuple(){const t=[];for(let r=0;r<this._fields.length;r++){const[n,i]=this._fields[r];if(n!==`_${r}_`)return null;t.push(i)}return t}covariant(t){if(typeof t=="object"&&this._fields.every(([r,n])=>{if(!t.hasOwnProperty(r))throw new Error(`Record is missing key "${r}".`);try{return n.covariant(t[r])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

field ${r} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Gt(t)}`)}encodeValue(t){const r=this._fields.map(([i])=>t[i]),n=Fn(this._fields,r,([,i],o)=>i.encodeValue(o));return It(...n)}_buildTypeTableImpl(t){this._fields.forEach(([o,a])=>a.buildTypeTable(t));const r=Lt(-20),n=qt(this._fields.length),i=this._fields.map(([o,a])=>It(qt($e(o)),a.encodeType(t)));t.add(this,It(r,n,It(...i)))}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof Gn))throw new Error("Not a record type");const i={};let o=0,a=0;for(;a<n._fields.length;){const[s,d]=n._fields[a];if(o>=this._fields.length){d.decodeValue(t,d),a++;continue}const[y,E]=this._fields[o],_=$e(this._fields[o][0]),w=$e(s);if(_===w)i[y]=E.decodeValue(t,d),o++,a++;else if(w>_)if(E instanceof jr||E instanceof gn)i[y]=[],o++;else throw new Error("Cannot find required field "+y);else d.decodeValue(t,d),a++}for(const[s,d]of this._fields.slice(o))if(d instanceof jr||d instanceof gn)i[s]=[];else throw new Error("Cannot find required field "+s);return i}get name(){return`record {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}display(){return`record {${this._fields.map(([r,n])=>r+":"+n.display()).join("; ")}}`}valueToString(t){const r=this._fields.map(([i])=>t[i]);return`record {${Fn(this._fields,r,([i,o],a)=>i+"="+o.valueToString(a)).join("; ")}}`}}class Zi extends Gn{constructor(t){const r={};t.forEach((n,i)=>r["_"+i+"_"]=n),super(r),this._components=t}accept(t,r){return t.visitTuple(this,this._components,r)}covariant(t){if(Array.isArray(t)&&t.length>=this._fields.length&&this._components.every((r,n)=>{try{return r.covariant(t[n])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

index ${n} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Gt(t)}`)}encodeValue(t){const r=Fn(this._components,t,(n,i)=>n.encodeValue(i));return It(...r)}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof Zi))throw new Error("not a tuple type");if(n._components.length<this._components.length)throw new Error("tuple mismatch");const i=[];for(const[o,a]of n._components.entries())o>=this._components.length?a.decodeValue(t,a):i.push(this._components[o].decodeValue(t,a));return i}display(){return`record {${this._components.map(r=>r.display()).join("; ")}}`}valueToString(t){return`record {${Fn(this._components,t,(n,i)=>n.valueToString(i)).join("; ")}}`}}class Xi extends gr{constructor(t={}){super(),this._fields=Object.entries(t).sort((r,n)=>$e(r[0])-$e(n[0]))}accept(t,r){return t.visitVariant(this,this._fields,r)}covariant(t){if(typeof t=="object"&&Object.entries(t).length===1&&this._fields.every(([r,n])=>{try{return!t.hasOwnProperty(r)||n.covariant(t[r])}catch(i){throw new Error(`Invalid ${this.display()} argument: 

variant ${r} -> ${i.message}`)}}))return!0;throw new Error(`Invalid ${this.display()} argument: ${Gt(t)}`)}encodeValue(t){for(let r=0;r<this._fields.length;r++){const[n,i]=this._fields[r];if(t.hasOwnProperty(n)){const o=qt(r),a=i.encodeValue(t[n]);return It(o,a)}}throw Error("Variant has no data: "+t)}_buildTypeTableImpl(t){this._fields.forEach(([,o])=>{o.buildTypeTable(t)});const r=Lt(-21),n=qt(this._fields.length),i=this._fields.map(([o,a])=>It(qt($e(o)),a.encodeType(t)));t.add(this,It(r,n,...i))}decodeValue(t,r){const n=this.checkType(r);if(!(n instanceof Xi))throw new Error("Not a variant type");const i=Number(Xt(t));if(i>=n._fields.length)throw Error("Invalid variant index: "+i);const[o,a]=n._fields[i];for(const[s,d]of this._fields)if($e(o)===$e(s)){const y=d.decodeValue(t,a);return{[s]:y}}throw new Error("Cannot find field hash "+o)}get name(){return`variant {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}display(){return`variant {${this._fields.map(([r,n])=>r+(n.name==="null"?"":`:${n.display()}`)).join("; ")}}`}valueToString(t){for(const[r,n]of this._fields)if(t.hasOwnProperty(r)){const i=n.valueToString(t[r]);return i==="null"?`variant {${r}}`:`variant {${r}=${i}}`}throw new Error("Variant has no data: "+t)}}class rr extends gr{constructor(){super(...arguments),this._id=rr._counter++,this._type=void 0}accept(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return t.visitRec(this,this._type,r)}fill(t){this._type=t}getType(){return this._type}covariant(t){if(this._type&&this._type.covariant(t))return!0;throw new Error(`Invalid ${this.display()} argument: ${Gt(t)}`)}encodeValue(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.encodeValue(t)}_buildTypeTableImpl(t){if(!this._type)throw Error("Recursive type uninitialized.");t.add(this,new Uint8Array([])),this._type.buildTypeTable(t),t.merge(this,this._type.name)}decodeValue(t,r){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.decodeValue(t,r)}get name(){return`rec_${this._id}`}display(){if(!this._type)throw Error("Recursive type uninitialized.");return`${this.name}.${this._type.name}`}valueToString(t){if(!this._type)throw Error("Recursive type uninitialized.");return this._type.valueToString(t)}}rr._counter=0;function vo(e){if($r(e)!==1)throw new Error("Cannot decode principal");const r=Number(Xt(e));return vt.fromUint8Array(new Uint8Array(Pr(e,r)))}class dc extends Ee{accept(t,r){return t.visitPrincipal(this,r)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${Gt(t)}`)}encodeValue(t){const r=t.toUint8Array(),n=qt(r.byteLength);return It(new Uint8Array([1]),n,r)}encodeType(){return Lt(-24)}decodeValue(t,r){return this.checkType(r),vo(t)}get name(){return"principal"}valueToString(t){return`${this.name} "${t.toText()}"`}}class Bo extends gr{constructor(t,r,n=[]){super(),this.argTypes=t,this.retTypes=r,this.annotations=n}static argsToString(t,r){if(t.length!==r.length)throw new Error("arity mismatch");return"("+t.map((n,i)=>n.valueToString(r[i])).join(", ")+")"}accept(t,r){return t.visitFunc(this,r)}covariant(t){if(Array.isArray(t)&&t.length===2&&t[0]&&t[0]._isPrincipal&&typeof t[1]=="string")return!0;throw new Error(`Invalid ${this.display()} argument: ${Gt(t)}`)}encodeValue([t,r]){const n=t.toUint8Array(),i=qt(n.byteLength),o=It(new Uint8Array([1]),i,n),a=new TextEncoder().encode(r),s=qt(a.byteLength);return It(new Uint8Array([1]),o,s,a)}_buildTypeTableImpl(t){this.argTypes.forEach(y=>y.buildTypeTable(t)),this.retTypes.forEach(y=>y.buildTypeTable(t));const r=Lt(-22),n=qt(this.argTypes.length),i=It(...this.argTypes.map(y=>y.encodeType(t))),o=qt(this.retTypes.length),a=It(...this.retTypes.map(y=>y.encodeType(t))),s=qt(this.annotations.length),d=It(...this.annotations.map(y=>this.encodeAnnotation(y)));t.add(this,It(r,n,i,o,a,s,d))}decodeValue(t){if($r(t)!==1)throw new Error("Cannot decode function reference");const n=vo(t),i=Number(Xt(t)),o=Pr(t,i),s=new TextDecoder("utf8",{fatal:!0}).decode(o);return[n,s]}get name(){const t=this.argTypes.map(i=>i.name).join(", "),r=this.retTypes.map(i=>i.name).join(", "),n=" "+this.annotations.join(" ");return`(${t}) -> (${r})${n}`}valueToString([t,r]){return`func "${t.toText()}".${r}`}display(){const t=this.argTypes.map(i=>i.display()).join(", "),r=this.retTypes.map(i=>i.display()).join(", "),n=" "+this.annotations.join(" ");return`(${t})  (${r})${n}`}encodeAnnotation(t){if(t==="query")return new Uint8Array([1]);if(t==="oneway")return new Uint8Array([2]);if(t==="composite_query")return new Uint8Array([3]);throw new Error("Illegal function annotation")}}class hc extends gr{constructor(t){super(),this._fields=Object.entries(t).sort((r,n)=>r[0]<n[0]?-1:r[0]>n[0]?1:0)}accept(t,r){return t.visitService(this,r)}covariant(t){if(t&&t._isPrincipal)return!0;throw new Error(`Invalid ${this.display()} argument: ${Gt(t)}`)}encodeValue(t){const r=t.toUint8Array(),n=qt(r.length);return It(new Uint8Array([1]),n,r)}_buildTypeTableImpl(t){this._fields.forEach(([o,a])=>a.buildTypeTable(t));const r=Lt(-23),n=qt(this._fields.length),i=this._fields.map(([o,a])=>{const s=new TextEncoder().encode(o),d=qt(s.length);return It(d,s,a.encodeType(t))});t.add(this,It(r,n,...i))}decodeValue(t){return vo(t)}get name(){return`service {${this._fields.map(([r,n])=>r+":"+n.name).join("; ")}}`}valueToString(t){return`service "${t.toText()}"`}}function Gt(e){const t=JSON.stringify(e,(r,n)=>typeof n=="bigint"?`BigInt(${n})`:n);return t&&t.length>Jo?t.substring(0,Jo-3)+"...":t}function Xs(e,t){if(t.length<e.length)throw Error("Wrong number of message arguments");const r=new X0;e.forEach(d=>d.buildTypeTable(r));const n=new TextEncoder().encode(di),i=r.encode(),o=qt(t.length),a=It(...e.map(d=>d.encodeType(r))),s=It(...Fn(e,t,(d,y)=>{try{d.covariant(y)}catch(E){throw new Error(E.message+`

`)}return d.encodeValue(y)}));return It(n,i,o,a,s)}function pc(e,t){const r=new wn(t);if(t.byteLength<di.length)throw new Error("Message length smaller than magic number");const n=Pr(r,di.length),i=new TextDecoder().decode(n);if(i!==di)throw new Error("Wrong magic number: "+JSON.stringify(i));function o(b){const h=[],O=Number(Xt(b));for(let G=0;G<O;G++){const j=Number(ur(b));switch(j){case-18:case-19:{const K=Number(ur(b));h.push([j,K]);break}case-20:case-21:{const K=[];let R=Number(Xt(b)),P;for(;R--;){const q=Number(Xt(b));if(q>=Math.pow(2,32))throw new Error("field id out of 32-bit range");if(typeof P=="number"&&P>=q)throw new Error("field id collision or not sorted");P=q;const rt=Number(ur(b));K.push([q,rt])}h.push([j,K]);break}case-22:{const K=[];let R=Number(Xt(b));for(;R--;)K.push(Number(ur(b)));const P=[];let q=Number(Xt(b));for(;q--;)P.push(Number(ur(b)));const rt=[];let nt=Number(Xt(b));for(;nt--;)switch(Number(Xt(b))){case 1:{rt.push("query");break}case 2:{rt.push("oneway");break}case 3:{rt.push("composite_query");break}default:throw new Error("unknown annotation")}h.push([j,[K,P,rt]]);break}case-23:{let K=Number(Xt(b));const R=[];for(;K--;){const P=Number(Xt(b)),q=new TextDecoder().decode(Pr(b,P)),rt=ur(b);R.push([q,rt])}h.push([j,R]);break}default:throw new Error("Illegal op_code: "+j)}}const C=[],H=Number(Xt(b));for(let G=0;G<H;G++)C.push(Number(ur(b)));return[h,C]}const[a,s]=o(r);if(s.length<e.length)throw new Error("Wrong number of return values");const d=a.map(b=>$c());function y(b){if(b<-24)throw new Error("future value not supported");if(b<0)switch(b){case-1:return bc;case-2:return mc;case-3:return _c;case-4:return xc;case-5:return Nc;case-6:return Rc;case-7:return Ic;case-8:return Oc;case-9:return Bc;case-10:return Sc;case-11:return Tc;case-12:return Ac;case-13:return Ec;case-14:return vc;case-15:return wc;case-16:return yc;case-17:return gc;case-24:return Uc;default:throw new Error("Illegal op_code: "+b)}if(b>=a.length)throw new Error("type index out of range");return d[b]}function E(b){switch(b[0]){case-19:{const h=y(b[1]);return kc(h)}case-18:{const h=y(b[1]);return Cc(h)}case-20:{const h={};for(const[H,G]of b[1]){const j=`_${H}_`;h[j]=y(G)}const O=Mc(h),C=O.tryAsTuple();return Array.isArray(C)?Fc(...C):O}case-21:{const h={};for(const[O,C]of b[1]){const H=`_${O}_`;h[H]=y(C)}return Pc(h)}case-22:{const[h,O,C]=b[1];return qc(h.map(H=>y(H)),O.map(H=>y(H)),C)}case-23:{const h={},O=b[1];for(const[C,H]of O){let G=y(H);if(G instanceof rr&&(G=G.getType()),!(G instanceof Bo))throw new Error("Illegal service definition: services can only contain functions");h[C]=G}return jc(h)}default:throw new Error("Illegal op_code: "+b[0])}}a.forEach((b,h)=>{if(b[0]===-22){const O=E(b);d[h].fill(O)}}),a.forEach((b,h)=>{if(b[0]!==-22){const O=E(b);d[h].fill(O)}});const _=s.map(b=>y(b)),w=e.map((b,h)=>b.decodeValue(r,_[h]));for(let b=e.length;b<_.length;b++)_[b].decodeValue(r,_[b]);if(r.byteLength>0)throw new Error("decode: Left-over bytes");return w}const gc=new oc,yc=new gn,J0=new ac,mc=new cc,bc=new Pi,wc=new uc,xc=new lc,_c=new fc,Ec=new Eo(32),vc=new Eo(64),Bc=new qr(8),Sc=new qr(16),Tc=new qr(32),Ac=new qr(64),Nc=new dr(8),Rc=new dr(16),Ic=new dr(32),Oc=new dr(64),Uc=new dc;function Fc(...e){return new Zi(e)}function kc(e){return new Ki(e)}function Cc(e){return new jr(e)}function Mc(e){return new Gn(e)}function Pc(e){return new Xi(e)}function $c(){return new rr}function qc(e,t,r=[]){return new Bo(e,t,r)}function jc(e){return new hc(e)}const Q0=Object.freeze(Object.defineProperty({__proto__:null,Bool:mc,BoolClass:cc,ConstructType:gr,Empty:gc,EmptyClass:oc,FixedIntClass:qr,FixedNatClass:dr,Float32:Ec,Float64:vc,FloatClass:Eo,Func:qc,FuncClass:Bo,Int:xc,Int16:Sc,Int32:Tc,Int64:Ac,Int8:Bc,IntClass:lc,Nat:_c,Nat16:Rc,Nat32:Ic,Nat64:Oc,Nat8:Nc,NatClass:fc,Null:bc,NullClass:Pi,Opt:Cc,OptClass:jr,PrimitiveType:Ee,Principal:Uc,PrincipalClass:dc,Rec:$c,RecClass:rr,Record:Mc,RecordClass:Gn,Reserved:yc,ReservedClass:gn,Service:jc,ServiceClass:hc,Text:wc,TextClass:uc,Tuple:Fc,TupleClass:Zi,Type:Li,Unknown:J0,UnknownClass:ac,Variant:Pc,VariantClass:Xi,Vec:kc,VecClass:Ki,Visitor:D0,decode:pc,encode:Xs},Symbol.toStringTag,{value:"Module"}));var Vc={},Hn={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){var t=qn,r=jn,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=s,e.SlowBuffer=G,e.INSPECT_MAX_BYTES=50;var i=2147483647;e.kMaxLength=i,s.TYPED_ARRAY_SUPPORT=o(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{var p=new Uint8Array(1),c={foo:function(){return 42}};return Object.setPrototypeOf(c,Uint8Array.prototype),Object.setPrototypeOf(p,c),p.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function a(p){if(p>i)throw new RangeError('The value "'+p+'" is invalid for option "size"');var c=new Uint8Array(p);return Object.setPrototypeOf(c,s.prototype),c}function s(p,c,u){if(typeof p=="number"){if(typeof c=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(p)}return d(p,c,u)}s.poolSize=8192;function d(p,c,u){if(typeof p=="string")return w(p,c);if(ArrayBuffer.isView(p))return h(p);if(p==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p);if(Y(p,ArrayBuffer)||p&&Y(p.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Y(p,SharedArrayBuffer)||p&&Y(p.buffer,SharedArrayBuffer)))return O(p,c,u);if(typeof p=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var m=p.valueOf&&p.valueOf();if(m!=null&&m!==p)return s.from(m,c,u);var v=C(p);if(v)return v;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof p[Symbol.toPrimitive]=="function")return s.from(p[Symbol.toPrimitive]("string"),c,u);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof p)}s.from=function(p,c,u){return d(p,c,u)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function y(p){if(typeof p!="number")throw new TypeError('"size" argument must be of type number');if(p<0)throw new RangeError('The value "'+p+'" is invalid for option "size"')}function E(p,c,u){return y(p),p<=0?a(p):c!==void 0?typeof u=="string"?a(p).fill(c,u):a(p).fill(c):a(p)}s.alloc=function(p,c,u){return E(p,c,u)};function _(p){return y(p),a(p<0?0:H(p)|0)}s.allocUnsafe=function(p){return _(p)},s.allocUnsafeSlow=function(p){return _(p)};function w(p,c){if((typeof c!="string"||c==="")&&(c="utf8"),!s.isEncoding(c))throw new TypeError("Unknown encoding: "+c);var u=j(p,c)|0,m=a(u),v=m.write(p,c);return v!==u&&(m=m.slice(0,v)),m}function b(p){for(var c=p.length<0?0:H(p.length)|0,u=a(c),m=0;m<c;m+=1)u[m]=p[m]&255;return u}function h(p){if(Y(p,Uint8Array)){var c=new Uint8Array(p);return O(c.buffer,c.byteOffset,c.byteLength)}return b(p)}function O(p,c,u){if(c<0||p.byteLength<c)throw new RangeError('"offset" is outside of buffer bounds');if(p.byteLength<c+(u||0))throw new RangeError('"length" is outside of buffer bounds');var m;return c===void 0&&u===void 0?m=new Uint8Array(p):u===void 0?m=new Uint8Array(p,c):m=new Uint8Array(p,c,u),Object.setPrototypeOf(m,s.prototype),m}function C(p){if(s.isBuffer(p)){var c=H(p.length)|0,u=a(c);return u.length===0||p.copy(u,0,0,c),u}if(p.length!==void 0)return typeof p.length!="number"||$(p.length)?a(0):b(p);if(p.type==="Buffer"&&Array.isArray(p.data))return b(p.data)}function H(p){if(p>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return p|0}function G(p){return+p!=p&&(p=0),s.alloc(+p)}s.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==s.prototype},s.compare=function(c,u){if(Y(c,Uint8Array)&&(c=s.from(c,c.offset,c.byteLength)),Y(u,Uint8Array)&&(u=s.from(u,u.offset,u.byteLength)),!s.isBuffer(c)||!s.isBuffer(u))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===u)return 0;for(var m=c.length,v=u.length,U=0,V=Math.min(m,v);U<V;++U)if(c[U]!==u[U]){m=c[U],v=u[U];break}return m<v?-1:v<m?1:0},s.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(c,u){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return s.alloc(0);var m;if(u===void 0)for(u=0,m=0;m<c.length;++m)u+=c[m].length;var v=s.allocUnsafe(u),U=0;for(m=0;m<c.length;++m){var V=c[m];if(Y(V,Uint8Array))U+V.length>v.length?s.from(V).copy(v,U):Uint8Array.prototype.set.call(v,V,U);else if(s.isBuffer(V))V.copy(v,U);else throw new TypeError('"list" argument must be an Array of Buffers');U+=V.length}return v};function j(p,c){if(s.isBuffer(p))return p.length;if(ArrayBuffer.isView(p)||Y(p,ArrayBuffer))return p.byteLength;if(typeof p!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof p);var u=p.length,m=arguments.length>2&&arguments[2]===!0;if(!m&&u===0)return 0;for(var v=!1;;)switch(c){case"ascii":case"latin1":case"binary":return u;case"utf8":case"utf-8":return ft(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u*2;case"hex":return u>>>1;case"base64":return T(p).length;default:if(v)return m?-1:ft(p).length;c=(""+c).toLowerCase(),v=!0}}s.byteLength=j;function K(p,c,u){var m=!1;if((c===void 0||c<0)&&(c=0),c>this.length||((u===void 0||u>this.length)&&(u=this.length),u<=0)||(u>>>=0,c>>>=0,u<=c))return"";for(p||(p="utf8");;)switch(p){case"hex":return J(this,c,u);case"utf8":case"utf-8":return N(this,c,u);case"ascii":return Q(this,c,u);case"latin1":case"binary":return W(this,c,u);case"base64":return x(this,c,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return lt(this,c,u);default:if(m)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),m=!0}}s.prototype._isBuffer=!0;function R(p,c,u){var m=p[c];p[c]=p[u],p[u]=m}s.prototype.swap16=function(){var c=this.length;if(c%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var u=0;u<c;u+=2)R(this,u,u+1);return this},s.prototype.swap32=function(){var c=this.length;if(c%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var u=0;u<c;u+=4)R(this,u,u+3),R(this,u+1,u+2);return this},s.prototype.swap64=function(){var c=this.length;if(c%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var u=0;u<c;u+=8)R(this,u,u+7),R(this,u+1,u+6),R(this,u+2,u+5),R(this,u+3,u+4);return this},s.prototype.toString=function(){var c=this.length;return c===0?"":arguments.length===0?N(this,0,c):K.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(c){if(!s.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?!0:s.compare(this,c)===0},s.prototype.inspect=function(){var c="",u=e.INSPECT_MAX_BYTES;return c=this.toString("hex",0,u).replace(/(.{2})/g,"$1 ").trim(),this.length>u&&(c+=" ... "),"<Buffer "+c+">"},n&&(s.prototype[n]=s.prototype.inspect),s.prototype.compare=function(c,u,m,v,U){if(Y(c,Uint8Array)&&(c=s.from(c,c.offset,c.byteLength)),!s.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(u===void 0&&(u=0),m===void 0&&(m=c?c.length:0),v===void 0&&(v=0),U===void 0&&(U=this.length),u<0||m>c.length||v<0||U>this.length)throw new RangeError("out of range index");if(v>=U&&u>=m)return 0;if(v>=U)return-1;if(u>=m)return 1;if(u>>>=0,m>>>=0,v>>>=0,U>>>=0,this===c)return 0;for(var V=U-v,ot=m-u,dt=Math.min(V,ot),ht=this.slice(v,U),xt=c.slice(u,m),g=0;g<dt;++g)if(ht[g]!==xt[g]){V=ht[g],ot=xt[g];break}return V<ot?-1:ot<V?1:0};function P(p,c,u,m,v){if(p.length===0)return-1;if(typeof u=="string"?(m=u,u=0):u>2147483647?u=2147483647:u<-2147483648&&(u=-2147483648),u=+u,$(u)&&(u=v?0:p.length-1),u<0&&(u=p.length+u),u>=p.length){if(v)return-1;u=p.length-1}else if(u<0)if(v)u=0;else return-1;if(typeof c=="string"&&(c=s.from(c,m)),s.isBuffer(c))return c.length===0?-1:q(p,c,u,m,v);if(typeof c=="number")return c=c&255,typeof Uint8Array.prototype.indexOf=="function"?v?Uint8Array.prototype.indexOf.call(p,c,u):Uint8Array.prototype.lastIndexOf.call(p,c,u):q(p,[c],u,m,v);throw new TypeError("val must be string, number or Buffer")}function q(p,c,u,m,v){var U=1,V=p.length,ot=c.length;if(m!==void 0&&(m=String(m).toLowerCase(),m==="ucs2"||m==="ucs-2"||m==="utf16le"||m==="utf-16le")){if(p.length<2||c.length<2)return-1;U=2,V/=2,ot/=2,u/=2}function dt(f,A){return U===1?f[A]:f.readUInt16BE(A*U)}var ht;if(v){var xt=-1;for(ht=u;ht<V;ht++)if(dt(p,ht)===dt(c,xt===-1?0:ht-xt)){if(xt===-1&&(xt=ht),ht-xt+1===ot)return xt*U}else xt!==-1&&(ht-=ht-xt),xt=-1}else for(u+ot>V&&(u=V-ot),ht=u;ht>=0;ht--){for(var g=!0,l=0;l<ot;l++)if(dt(p,ht+l)!==dt(c,l)){g=!1;break}if(g)return ht}return-1}s.prototype.includes=function(c,u,m){return this.indexOf(c,u,m)!==-1},s.prototype.indexOf=function(c,u,m){return P(this,c,u,m,!0)},s.prototype.lastIndexOf=function(c,u,m){return P(this,c,u,m,!1)};function rt(p,c,u,m){u=Number(u)||0;var v=p.length-u;m?(m=Number(m),m>v&&(m=v)):m=v;var U=c.length;m>U/2&&(m=U/2);for(var V=0;V<m;++V){var ot=parseInt(c.substr(V*2,2),16);if($(ot))return V;p[u+V]=ot}return V}function nt(p,c,u,m){return k(ft(c,p.length-u),p,u,m)}function I(p,c,u,m){return k(pt(c),p,u,m)}function L(p,c,u,m){return k(T(c),p,u,m)}function X(p,c,u,m){return k(B(c,p.length-u),p,u,m)}s.prototype.write=function(c,u,m,v){if(u===void 0)v="utf8",m=this.length,u=0;else if(m===void 0&&typeof u=="string")v=u,m=this.length,u=0;else if(isFinite(u))u=u>>>0,isFinite(m)?(m=m>>>0,v===void 0&&(v="utf8")):(v=m,m=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var U=this.length-u;if((m===void 0||m>U)&&(m=U),c.length>0&&(m<0||u<0)||u>this.length)throw new RangeError("Attempt to write outside buffer bounds");v||(v="utf8");for(var V=!1;;)switch(v){case"hex":return rt(this,c,u,m);case"utf8":case"utf-8":return nt(this,c,u,m);case"ascii":case"latin1":case"binary":return I(this,c,u,m);case"base64":return L(this,c,u,m);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,c,u,m);default:if(V)throw new TypeError("Unknown encoding: "+v);v=(""+v).toLowerCase(),V=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function x(p,c,u){return c===0&&u===p.length?t.fromByteArray(p):t.fromByteArray(p.slice(c,u))}function N(p,c,u){u=Math.min(p.length,u);for(var m=[],v=c;v<u;){var U=p[v],V=null,ot=U>239?4:U>223?3:U>191?2:1;if(v+ot<=u){var dt,ht,xt,g;switch(ot){case 1:U<128&&(V=U);break;case 2:dt=p[v+1],(dt&192)===128&&(g=(U&31)<<6|dt&63,g>127&&(V=g));break;case 3:dt=p[v+1],ht=p[v+2],(dt&192)===128&&(ht&192)===128&&(g=(U&15)<<12|(dt&63)<<6|ht&63,g>2047&&(g<55296||g>57343)&&(V=g));break;case 4:dt=p[v+1],ht=p[v+2],xt=p[v+3],(dt&192)===128&&(ht&192)===128&&(xt&192)===128&&(g=(U&15)<<18|(dt&63)<<12|(ht&63)<<6|xt&63,g>65535&&g<1114112&&(V=g))}}V===null?(V=65533,ot=1):V>65535&&(V-=65536,m.push(V>>>10&1023|55296),V=56320|V&1023),m.push(V),v+=ot}return D(m)}var F=4096;function D(p){var c=p.length;if(c<=F)return String.fromCharCode.apply(String,p);for(var u="",m=0;m<c;)u+=String.fromCharCode.apply(String,p.slice(m,m+=F));return u}function Q(p,c,u){var m="";u=Math.min(p.length,u);for(var v=c;v<u;++v)m+=String.fromCharCode(p[v]&127);return m}function W(p,c,u){var m="";u=Math.min(p.length,u);for(var v=c;v<u;++v)m+=String.fromCharCode(p[v]);return m}function J(p,c,u){var m=p.length;(!c||c<0)&&(c=0),(!u||u<0||u>m)&&(u=m);for(var v="",U=c;U<u;++U)v+=Z[p[U]];return v}function lt(p,c,u){for(var m=p.slice(c,u),v="",U=0;U<m.length-1;U+=2)v+=String.fromCharCode(m[U]+m[U+1]*256);return v}s.prototype.slice=function(c,u){var m=this.length;c=~~c,u=u===void 0?m:~~u,c<0?(c+=m,c<0&&(c=0)):c>m&&(c=m),u<0?(u+=m,u<0&&(u=0)):u>m&&(u=m),u<c&&(u=c);var v=this.subarray(c,u);return Object.setPrototypeOf(v,s.prototype),v};function it(p,c,u){if(p%1!==0||p<0)throw new RangeError("offset is not uint");if(p+c>u)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(c,u,m){c=c>>>0,u=u>>>0,m||it(c,u,this.length);for(var v=this[c],U=1,V=0;++V<u&&(U*=256);)v+=this[c+V]*U;return v},s.prototype.readUintBE=s.prototype.readUIntBE=function(c,u,m){c=c>>>0,u=u>>>0,m||it(c,u,this.length);for(var v=this[c+--u],U=1;u>0&&(U*=256);)v+=this[c+--u]*U;return v},s.prototype.readUint8=s.prototype.readUInt8=function(c,u){return c=c>>>0,u||it(c,1,this.length),this[c]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(c,u){return c=c>>>0,u||it(c,2,this.length),this[c]|this[c+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(c,u){return c=c>>>0,u||it(c,2,this.length),this[c]<<8|this[c+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(c,u){return c=c>>>0,u||it(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+this[c+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(c,u){return c=c>>>0,u||it(c,4,this.length),this[c]*16777216+(this[c+1]<<16|this[c+2]<<8|this[c+3])},s.prototype.readIntLE=function(c,u,m){c=c>>>0,u=u>>>0,m||it(c,u,this.length);for(var v=this[c],U=1,V=0;++V<u&&(U*=256);)v+=this[c+V]*U;return U*=128,v>=U&&(v-=Math.pow(2,8*u)),v},s.prototype.readIntBE=function(c,u,m){c=c>>>0,u=u>>>0,m||it(c,u,this.length);for(var v=u,U=1,V=this[c+--v];v>0&&(U*=256);)V+=this[c+--v]*U;return U*=128,V>=U&&(V-=Math.pow(2,8*u)),V},s.prototype.readInt8=function(c,u){return c=c>>>0,u||it(c,1,this.length),this[c]&128?(255-this[c]+1)*-1:this[c]},s.prototype.readInt16LE=function(c,u){c=c>>>0,u||it(c,2,this.length);var m=this[c]|this[c+1]<<8;return m&32768?m|4294901760:m},s.prototype.readInt16BE=function(c,u){c=c>>>0,u||it(c,2,this.length);var m=this[c+1]|this[c]<<8;return m&32768?m|4294901760:m},s.prototype.readInt32LE=function(c,u){return c=c>>>0,u||it(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},s.prototype.readInt32BE=function(c,u){return c=c>>>0,u||it(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},s.prototype.readFloatLE=function(c,u){return c=c>>>0,u||it(c,4,this.length),r.read(this,c,!0,23,4)},s.prototype.readFloatBE=function(c,u){return c=c>>>0,u||it(c,4,this.length),r.read(this,c,!1,23,4)},s.prototype.readDoubleLE=function(c,u){return c=c>>>0,u||it(c,8,this.length),r.read(this,c,!0,52,8)},s.prototype.readDoubleBE=function(c,u){return c=c>>>0,u||it(c,8,this.length),r.read(this,c,!1,52,8)};function st(p,c,u,m,v,U){if(!s.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>v||c<U)throw new RangeError('"value" argument is out of bounds');if(u+m>p.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(c,u,m,v){if(c=+c,u=u>>>0,m=m>>>0,!v){var U=Math.pow(2,8*m)-1;st(this,c,u,m,U,0)}var V=1,ot=0;for(this[u]=c&255;++ot<m&&(V*=256);)this[u+ot]=c/V&255;return u+m},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(c,u,m,v){if(c=+c,u=u>>>0,m=m>>>0,!v){var U=Math.pow(2,8*m)-1;st(this,c,u,m,U,0)}var V=m-1,ot=1;for(this[u+V]=c&255;--V>=0&&(ot*=256);)this[u+V]=c/ot&255;return u+m},s.prototype.writeUint8=s.prototype.writeUInt8=function(c,u,m){return c=+c,u=u>>>0,m||st(this,c,u,1,255,0),this[u]=c&255,u+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(c,u,m){return c=+c,u=u>>>0,m||st(this,c,u,2,65535,0),this[u]=c&255,this[u+1]=c>>>8,u+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(c,u,m){return c=+c,u=u>>>0,m||st(this,c,u,2,65535,0),this[u]=c>>>8,this[u+1]=c&255,u+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(c,u,m){return c=+c,u=u>>>0,m||st(this,c,u,4,4294967295,0),this[u+3]=c>>>24,this[u+2]=c>>>16,this[u+1]=c>>>8,this[u]=c&255,u+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(c,u,m){return c=+c,u=u>>>0,m||st(this,c,u,4,4294967295,0),this[u]=c>>>24,this[u+1]=c>>>16,this[u+2]=c>>>8,this[u+3]=c&255,u+4},s.prototype.writeIntLE=function(c,u,m,v){if(c=+c,u=u>>>0,!v){var U=Math.pow(2,8*m-1);st(this,c,u,m,U-1,-U)}var V=0,ot=1,dt=0;for(this[u]=c&255;++V<m&&(ot*=256);)c<0&&dt===0&&this[u+V-1]!==0&&(dt=1),this[u+V]=(c/ot>>0)-dt&255;return u+m},s.prototype.writeIntBE=function(c,u,m,v){if(c=+c,u=u>>>0,!v){var U=Math.pow(2,8*m-1);st(this,c,u,m,U-1,-U)}var V=m-1,ot=1,dt=0;for(this[u+V]=c&255;--V>=0&&(ot*=256);)c<0&&dt===0&&this[u+V+1]!==0&&(dt=1),this[u+V]=(c/ot>>0)-dt&255;return u+m},s.prototype.writeInt8=function(c,u,m){return c=+c,u=u>>>0,m||st(this,c,u,1,127,-128),c<0&&(c=255+c+1),this[u]=c&255,u+1},s.prototype.writeInt16LE=function(c,u,m){return c=+c,u=u>>>0,m||st(this,c,u,2,32767,-32768),this[u]=c&255,this[u+1]=c>>>8,u+2},s.prototype.writeInt16BE=function(c,u,m){return c=+c,u=u>>>0,m||st(this,c,u,2,32767,-32768),this[u]=c>>>8,this[u+1]=c&255,u+2},s.prototype.writeInt32LE=function(c,u,m){return c=+c,u=u>>>0,m||st(this,c,u,4,2147483647,-2147483648),this[u]=c&255,this[u+1]=c>>>8,this[u+2]=c>>>16,this[u+3]=c>>>24,u+4},s.prototype.writeInt32BE=function(c,u,m){return c=+c,u=u>>>0,m||st(this,c,u,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[u]=c>>>24,this[u+1]=c>>>16,this[u+2]=c>>>8,this[u+3]=c&255,u+4};function Et(p,c,u,m,v,U){if(u+m>p.length)throw new RangeError("Index out of range");if(u<0)throw new RangeError("Index out of range")}function S(p,c,u,m,v){return c=+c,u=u>>>0,v||Et(p,c,u,4),r.write(p,c,u,m,23,4),u+4}s.prototype.writeFloatLE=function(c,u,m){return S(this,c,u,!0,m)},s.prototype.writeFloatBE=function(c,u,m){return S(this,c,u,!1,m)};function Ot(p,c,u,m,v){return c=+c,u=u>>>0,v||Et(p,c,u,8),r.write(p,c,u,m,52,8),u+8}s.prototype.writeDoubleLE=function(c,u,m){return Ot(this,c,u,!0,m)},s.prototype.writeDoubleBE=function(c,u,m){return Ot(this,c,u,!1,m)},s.prototype.copy=function(c,u,m,v){if(!s.isBuffer(c))throw new TypeError("argument should be a Buffer");if(m||(m=0),!v&&v!==0&&(v=this.length),u>=c.length&&(u=c.length),u||(u=0),v>0&&v<m&&(v=m),v===m||c.length===0||this.length===0)return 0;if(u<0)throw new RangeError("targetStart out of bounds");if(m<0||m>=this.length)throw new RangeError("Index out of range");if(v<0)throw new RangeError("sourceEnd out of bounds");v>this.length&&(v=this.length),c.length-u<v-m&&(v=c.length-u+m);var U=v-m;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(u,m,v):Uint8Array.prototype.set.call(c,this.subarray(m,v),u),U},s.prototype.fill=function(c,u,m,v){if(typeof c=="string"){if(typeof u=="string"?(v=u,u=0,m=this.length):typeof m=="string"&&(v=m,m=this.length),v!==void 0&&typeof v!="string")throw new TypeError("encoding must be a string");if(typeof v=="string"&&!s.isEncoding(v))throw new TypeError("Unknown encoding: "+v);if(c.length===1){var U=c.charCodeAt(0);(v==="utf8"&&U<128||v==="latin1")&&(c=U)}}else typeof c=="number"?c=c&255:typeof c=="boolean"&&(c=Number(c));if(u<0||this.length<u||this.length<m)throw new RangeError("Out of range index");if(m<=u)return this;u=u>>>0,m=m===void 0?this.length:m>>>0,c||(c=0);var V;if(typeof c=="number")for(V=u;V<m;++V)this[V]=c;else{var ot=s.isBuffer(c)?c:s.from(c,v),dt=ot.length;if(dt===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(V=0;V<m-u;++V)this[V+u]=ot[V%dt]}return this};var Bt=/[^+/0-9A-Za-z-_]/g;function Ut(p){if(p=p.split("=")[0],p=p.trim().replace(Bt,""),p.length<2)return"";for(;p.length%4!==0;)p=p+"=";return p}function ft(p,c){c=c||1/0;for(var u,m=p.length,v=null,U=[],V=0;V<m;++V){if(u=p.charCodeAt(V),u>55295&&u<57344){if(!v){if(u>56319){(c-=3)>-1&&U.push(239,191,189);continue}else if(V+1===m){(c-=3)>-1&&U.push(239,191,189);continue}v=u;continue}if(u<56320){(c-=3)>-1&&U.push(239,191,189),v=u;continue}u=(v-55296<<10|u-56320)+65536}else v&&(c-=3)>-1&&U.push(239,191,189);if(v=null,u<128){if((c-=1)<0)break;U.push(u)}else if(u<2048){if((c-=2)<0)break;U.push(u>>6|192,u&63|128)}else if(u<65536){if((c-=3)<0)break;U.push(u>>12|224,u>>6&63|128,u&63|128)}else if(u<1114112){if((c-=4)<0)break;U.push(u>>18|240,u>>12&63|128,u>>6&63|128,u&63|128)}else throw new Error("Invalid code point")}return U}function pt(p){for(var c=[],u=0;u<p.length;++u)c.push(p.charCodeAt(u)&255);return c}function B(p,c){for(var u,m,v,U=[],V=0;V<p.length&&!((c-=2)<0);++V)u=p.charCodeAt(V),m=u>>8,v=u%256,U.push(v),U.push(m);return U}function T(p){return t.toByteArray(Ut(p))}function k(p,c,u,m){for(var v=0;v<m&&!(v+u>=c.length||v>=p.length);++v)c[v+u]=p[v];return v}function Y(p,c){return p instanceof c||p!=null&&p.constructor!=null&&p.constructor.name!=null&&p.constructor.name===c.name}function $(p){return p!==p}var Z=function(){for(var p="0123456789abcdef",c=new Array(256),u=0;u<16;++u)for(var m=u*16,v=0;v<16;++v)c[m+v]=p[u]+p[v];return c}()})(Hn);var Gc={exports:{}};(function(e){(function(t){var r,n=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,a="[BigNumber Error] ",s=a+"Number primitive has more than 15 significant digits: ",d=1e14,y=14,E=9007199254740991,_=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],w=1e7,b=1e9;function h(P){var q,rt,nt,I=S.prototype={constructor:S,toString:null,valueOf:null},L=new S(1),X=20,x=4,N=-7,F=21,D=-1e7,Q=1e7,W=!1,J=1,lt=0,it={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},st="0123456789abcdefghijklmnopqrstuvwxyz",Et=!0;function S(B,T){var k,Y,$,Z,p,c,u,m,v=this;if(!(v instanceof S))return new S(B,T);if(T==null){if(B&&B._isBigNumber===!0){v.s=B.s,!B.c||B.e>Q?v.c=v.e=null:B.e<D?v.c=[v.e=0]:(v.e=B.e,v.c=B.c.slice());return}if((c=typeof B=="number")&&B*0==0){if(v.s=1/B<0?(B=-B,-1):1,B===~~B){for(Z=0,p=B;p>=10;p/=10,Z++);Z>Q?v.c=v.e=null:(v.e=Z,v.c=[B]);return}m=String(B)}else{if(!n.test(m=String(B)))return nt(v,m,c);v.s=m.charCodeAt(0)==45?(m=m.slice(1),-1):1}(Z=m.indexOf("."))>-1&&(m=m.replace(".","")),(p=m.search(/e/i))>0?(Z<0&&(Z=p),Z+=+m.slice(p+1),m=m.substring(0,p)):Z<0&&(Z=m.length)}else{if(G(T,2,st.length,"Base"),T==10&&Et)return v=new S(B),ft(v,X+v.e+1,x);if(m=String(B),c=typeof B=="number"){if(B*0!=0)return nt(v,m,c,T);if(v.s=1/B<0?(m=m.slice(1),-1):1,S.DEBUG&&m.replace(/^0\.0*|\./,"").length>15)throw Error(s+B)}else v.s=m.charCodeAt(0)===45?(m=m.slice(1),-1):1;for(k=st.slice(0,T),Z=p=0,u=m.length;p<u;p++)if(k.indexOf(Y=m.charAt(p))<0){if(Y=="."){if(p>Z){Z=u;continue}}else if(!$&&(m==m.toUpperCase()&&(m=m.toLowerCase())||m==m.toLowerCase()&&(m=m.toUpperCase()))){$=!0,p=-1,Z=0;continue}return nt(v,String(B),c,T)}c=!1,m=rt(m,T,10,v.s),(Z=m.indexOf("."))>-1?m=m.replace(".",""):Z=m.length}for(p=0;m.charCodeAt(p)===48;p++);for(u=m.length;m.charCodeAt(--u)===48;);if(m=m.slice(p,++u)){if(u-=p,c&&S.DEBUG&&u>15&&(B>E||B!==o(B)))throw Error(s+v.s*B);if((Z=Z-p-1)>Q)v.c=v.e=null;else if(Z<D)v.c=[v.e=0];else{if(v.e=Z,v.c=[],p=(Z+1)%y,Z<0&&(p+=y),p<u){for(p&&v.c.push(+m.slice(0,p)),u-=y;p<u;)v.c.push(+m.slice(p,p+=y));p=y-(m=m.slice(p)).length}else p-=u;for(;p--;m+="0");v.c.push(+m)}}else v.c=[v.e=0]}S.clone=h,S.ROUND_UP=0,S.ROUND_DOWN=1,S.ROUND_CEIL=2,S.ROUND_FLOOR=3,S.ROUND_HALF_UP=4,S.ROUND_HALF_DOWN=5,S.ROUND_HALF_EVEN=6,S.ROUND_HALF_CEIL=7,S.ROUND_HALF_FLOOR=8,S.EUCLID=9,S.config=S.set=function(B){var T,k;if(B!=null)if(typeof B=="object"){if(B.hasOwnProperty(T="DECIMAL_PLACES")&&(k=B[T],G(k,0,b,T),X=k),B.hasOwnProperty(T="ROUNDING_MODE")&&(k=B[T],G(k,0,8,T),x=k),B.hasOwnProperty(T="EXPONENTIAL_AT")&&(k=B[T],k&&k.pop?(G(k[0],-b,0,T),G(k[1],0,b,T),N=k[0],F=k[1]):(G(k,-b,b,T),N=-(F=k<0?-k:k))),B.hasOwnProperty(T="RANGE"))if(k=B[T],k&&k.pop)G(k[0],-b,-1,T),G(k[1],1,b,T),D=k[0],Q=k[1];else if(G(k,-b,b,T),k)D=-(Q=k<0?-k:k);else throw Error(a+T+" cannot be zero: "+k);if(B.hasOwnProperty(T="CRYPTO"))if(k=B[T],k===!!k)if(k)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))W=k;else throw W=!k,Error(a+"crypto unavailable");else W=k;else throw Error(a+T+" not true or false: "+k);if(B.hasOwnProperty(T="MODULO_MODE")&&(k=B[T],G(k,0,9,T),J=k),B.hasOwnProperty(T="POW_PRECISION")&&(k=B[T],G(k,0,b,T),lt=k),B.hasOwnProperty(T="FORMAT"))if(k=B[T],typeof k=="object")it=k;else throw Error(a+T+" not an object: "+k);if(B.hasOwnProperty(T="ALPHABET"))if(k=B[T],typeof k=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(k))Et=k.slice(0,10)=="0123456789",st=k;else throw Error(a+T+" invalid: "+k)}else throw Error(a+"Object expected: "+B);return{DECIMAL_PLACES:X,ROUNDING_MODE:x,EXPONENTIAL_AT:[N,F],RANGE:[D,Q],CRYPTO:W,MODULO_MODE:J,POW_PRECISION:lt,FORMAT:it,ALPHABET:st}},S.isBigNumber=function(B){if(!B||B._isBigNumber!==!0)return!1;if(!S.DEBUG)return!0;var T,k,Y=B.c,$=B.e,Z=B.s;t:if({}.toString.call(Y)=="[object Array]"){if((Z===1||Z===-1)&&$>=-b&&$<=b&&$===o($)){if(Y[0]===0){if($===0&&Y.length===1)return!0;break t}if(T=($+1)%y,T<1&&(T+=y),String(Y[0]).length==T){for(T=0;T<Y.length;T++)if(k=Y[T],k<0||k>=d||k!==o(k))break t;if(k!==0)return!0}}}else if(Y===null&&$===null&&(Z===null||Z===1||Z===-1))return!0;throw Error(a+"Invalid BigNumber: "+B)},S.maximum=S.max=function(){return Bt(arguments,-1)},S.minimum=S.min=function(){return Bt(arguments,1)},S.random=function(){var B=9007199254740992,T=Math.random()*B&2097151?function(){return o(Math.random()*B)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(k){var Y,$,Z,p,c,u=0,m=[],v=new S(L);if(k==null?k=X:G(k,0,b),p=i(k/y),W)if(crypto.getRandomValues){for(Y=crypto.getRandomValues(new Uint32Array(p*=2));u<p;)c=Y[u]*131072+(Y[u+1]>>>11),c>=9e15?($=crypto.getRandomValues(new Uint32Array(2)),Y[u]=$[0],Y[u+1]=$[1]):(m.push(c%1e14),u+=2);u=p/2}else if(crypto.randomBytes){for(Y=crypto.randomBytes(p*=7);u<p;)c=(Y[u]&31)*281474976710656+Y[u+1]*1099511627776+Y[u+2]*4294967296+Y[u+3]*16777216+(Y[u+4]<<16)+(Y[u+5]<<8)+Y[u+6],c>=9e15?crypto.randomBytes(7).copy(Y,u):(m.push(c%1e14),u+=7);u=p/7}else throw W=!1,Error(a+"crypto unavailable");if(!W)for(;u<p;)c=T(),c<9e15&&(m[u++]=c%1e14);for(p=m[--u],k%=y,p&&k&&(c=_[y-k],m[u]=o(p/c)*c);m[u]===0;m.pop(),u--);if(u<0)m=[Z=0];else{for(Z=-1;m[0]===0;m.splice(0,1),Z-=y);for(u=1,c=m[0];c>=10;c/=10,u++);u<y&&(Z-=y-u)}return v.e=Z,v.c=m,v}}(),S.sum=function(){for(var B=1,T=arguments,k=new S(T[0]);B<T.length;)k=k.plus(T[B++]);return k},rt=function(){var B="0123456789";function T(k,Y,$,Z){for(var p,c=[0],u,m=0,v=k.length;m<v;){for(u=c.length;u--;c[u]*=Y);for(c[0]+=Z.indexOf(k.charAt(m++)),p=0;p<c.length;p++)c[p]>$-1&&(c[p+1]==null&&(c[p+1]=0),c[p+1]+=c[p]/$|0,c[p]%=$)}return c.reverse()}return function(k,Y,$,Z,p){var c,u,m,v,U,V,ot,dt,ht=k.indexOf("."),xt=X,g=x;for(ht>=0&&(v=lt,lt=0,k=k.replace(".",""),dt=new S(Y),V=dt.pow(k.length-ht),lt=v,dt.c=T(R(C(V.c),V.e,"0"),10,$,B),dt.e=dt.c.length),ot=T(k,Y,$,p?(c=st,B):(c=B,st)),m=v=ot.length;ot[--v]==0;ot.pop());if(!ot[0])return c.charAt(0);if(ht<0?--m:(V.c=ot,V.e=m,V.s=Z,V=q(V,dt,xt,g,$),ot=V.c,U=V.r,m=V.e),u=m+xt+1,ht=ot[u],v=$/2,U=U||u<0||ot[u+1]!=null,U=g<4?(ht!=null||U)&&(g==0||g==(V.s<0?3:2)):ht>v||ht==v&&(g==4||U||g==6&&ot[u-1]&1||g==(V.s<0?8:7)),u<1||!ot[0])k=U?R(c.charAt(1),-xt,c.charAt(0)):c.charAt(0);else{if(ot.length=u,U)for(--$;++ot[--u]>$;)ot[u]=0,u||(++m,ot=[1].concat(ot));for(v=ot.length;!ot[--v];);for(ht=0,k="";ht<=v;k+=c.charAt(ot[ht++]));k=R(k,m,c.charAt(0))}return k}}(),q=function(){function B(Y,$,Z){var p,c,u,m,v=0,U=Y.length,V=$%w,ot=$/w|0;for(Y=Y.slice();U--;)u=Y[U]%w,m=Y[U]/w|0,p=ot*u+m*V,c=V*u+p%w*w+v,v=(c/Z|0)+(p/w|0)+ot*m,Y[U]=c%Z;return v&&(Y=[v].concat(Y)),Y}function T(Y,$,Z,p){var c,u;if(Z!=p)u=Z>p?1:-1;else for(c=u=0;c<Z;c++)if(Y[c]!=$[c]){u=Y[c]>$[c]?1:-1;break}return u}function k(Y,$,Z,p){for(var c=0;Z--;)Y[Z]-=c,c=Y[Z]<$[Z]?1:0,Y[Z]=c*p+Y[Z]-$[Z];for(;!Y[0]&&Y.length>1;Y.splice(0,1));}return function(Y,$,Z,p,c){var u,m,v,U,V,ot,dt,ht,xt,g,l,f,A,z,et,tt,bt,_t=Y.s==$.s?1:-1,wt=Y.c,mt=$.c;if(!wt||!wt[0]||!mt||!mt[0])return new S(!Y.s||!$.s||(wt?mt&&wt[0]==mt[0]:!mt)?NaN:wt&&wt[0]==0||!mt?_t*0:_t/0);for(ht=new S(_t),xt=ht.c=[],m=Y.e-$.e,_t=Z+m+1,c||(c=d,m=O(Y.e/y)-O($.e/y),_t=_t/y|0),v=0;mt[v]==(wt[v]||0);v++);if(mt[v]>(wt[v]||0)&&m--,_t<0)xt.push(1),U=!0;else{for(z=wt.length,tt=mt.length,v=0,_t+=2,V=o(c/(mt[0]+1)),V>1&&(mt=B(mt,V,c),wt=B(wt,V,c),tt=mt.length,z=wt.length),A=tt,g=wt.slice(0,tt),l=g.length;l<tt;g[l++]=0);bt=mt.slice(),bt=[0].concat(bt),et=mt[0],mt[1]>=c/2&&et++;do{if(V=0,u=T(mt,g,tt,l),u<0){if(f=g[0],tt!=l&&(f=f*c+(g[1]||0)),V=o(f/et),V>1)for(V>=c&&(V=c-1),ot=B(mt,V,c),dt=ot.length,l=g.length;T(ot,g,dt,l)==1;)V--,k(ot,tt<dt?bt:mt,dt,c),dt=ot.length,u=1;else V==0&&(u=V=1),ot=mt.slice(),dt=ot.length;if(dt<l&&(ot=[0].concat(ot)),k(g,ot,l,c),l=g.length,u==-1)for(;T(mt,g,tt,l)<1;)V++,k(g,tt<l?bt:mt,l,c),l=g.length}else u===0&&(V++,g=[0]);xt[v++]=V,g[0]?g[l++]=wt[A]||0:(g=[wt[A]],l=1)}while((A++<z||g[0]!=null)&&_t--);U=g[0]!=null,xt[0]||xt.splice(0,1)}if(c==d){for(v=1,_t=xt[0];_t>=10;_t/=10,v++);ft(ht,Z+(ht.e=v+m*y-1)+1,p,U)}else ht.e=m,ht.r=+U;return ht}}();function Ot(B,T,k,Y){var $,Z,p,c,u;if(k==null?k=x:G(k,0,8),!B.c)return B.toString();if($=B.c[0],p=B.e,T==null)u=C(B.c),u=Y==1||Y==2&&(p<=N||p>=F)?K(u,p):R(u,p,"0");else if(B=ft(new S(B),T,k),Z=B.e,u=C(B.c),c=u.length,Y==1||Y==2&&(T<=Z||Z<=N)){for(;c<T;u+="0",c++);u=K(u,Z)}else if(T-=p+(Y===2&&Z>p),u=R(u,Z,"0"),Z+1>c){if(--T>0)for(u+=".";T--;u+="0");}else if(T+=Z-c,T>0)for(Z+1==c&&(u+=".");T--;u+="0");return B.s<0&&$?"-"+u:u}function Bt(B,T){for(var k,Y,$=1,Z=new S(B[0]);$<B.length;$++)Y=new S(B[$]),(!Y.s||(k=H(Z,Y))===T||k===0&&Z.s===T)&&(Z=Y);return Z}function Ut(B,T,k){for(var Y=1,$=T.length;!T[--$];T.pop());for($=T[0];$>=10;$/=10,Y++);return(k=Y+k*y-1)>Q?B.c=B.e=null:k<D?B.c=[B.e=0]:(B.e=k,B.c=T),B}nt=function(){var B=/^(-?)0([xbo])(?=\w[\w.]*$)/i,T=/^([^.]+)\.$/,k=/^\.([^.]+)$/,Y=/^-?(Infinity|NaN)$/,$=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(Z,p,c,u){var m,v=c?p:p.replace($,"");if(Y.test(v))Z.s=isNaN(v)?null:v<0?-1:1;else{if(!c&&(v=v.replace(B,function(U,V,ot){return m=(ot=ot.toLowerCase())=="x"?16:ot=="b"?2:8,!u||u==m?V:U}),u&&(m=u,v=v.replace(T,"$1").replace(k,"0.$1")),p!=v))return new S(v,m);if(S.DEBUG)throw Error(a+"Not a"+(u?" base "+u:"")+" number: "+p);Z.s=null}Z.c=Z.e=null}}();function ft(B,T,k,Y){var $,Z,p,c,u,m,v,U=B.c,V=_;if(U){t:{for($=1,c=U[0];c>=10;c/=10,$++);if(Z=T-$,Z<0)Z+=y,p=T,u=U[m=0],v=o(u/V[$-p-1]%10);else if(m=i((Z+1)/y),m>=U.length)if(Y){for(;U.length<=m;U.push(0));u=v=0,$=1,Z%=y,p=Z-y+1}else break t;else{for(u=c=U[m],$=1;c>=10;c/=10,$++);Z%=y,p=Z-y+$,v=p<0?0:o(u/V[$-p-1]%10)}if(Y=Y||T<0||U[m+1]!=null||(p<0?u:u%V[$-p-1]),Y=k<4?(v||Y)&&(k==0||k==(B.s<0?3:2)):v>5||v==5&&(k==4||Y||k==6&&(Z>0?p>0?u/V[$-p]:0:U[m-1])%10&1||k==(B.s<0?8:7)),T<1||!U[0])return U.length=0,Y?(T-=B.e+1,U[0]=V[(y-T%y)%y],B.e=-T||0):U[0]=B.e=0,B;if(Z==0?(U.length=m,c=1,m--):(U.length=m+1,c=V[y-Z],U[m]=p>0?o(u/V[$-p]%V[p])*c:0),Y)for(;;)if(m==0){for(Z=1,p=U[0];p>=10;p/=10,Z++);for(p=U[0]+=c,c=1;p>=10;p/=10,c++);Z!=c&&(B.e++,U[0]==d&&(U[0]=1));break}else{if(U[m]+=c,U[m]!=d)break;U[m--]=0,c=1}for(Z=U.length;U[--Z]===0;U.pop());}B.e>Q?B.c=B.e=null:B.e<D&&(B.c=[B.e=0])}return B}function pt(B){var T,k=B.e;return k===null?B.toString():(T=C(B.c),T=k<=N||k>=F?K(T,k):R(T,k,"0"),B.s<0?"-"+T:T)}return I.absoluteValue=I.abs=function(){var B=new S(this);return B.s<0&&(B.s=1),B},I.comparedTo=function(B,T){return H(this,new S(B,T))},I.decimalPlaces=I.dp=function(B,T){var k,Y,$,Z=this;if(B!=null)return G(B,0,b),T==null?T=x:G(T,0,8),ft(new S(Z),B+Z.e+1,T);if(!(k=Z.c))return null;if(Y=(($=k.length-1)-O(this.e/y))*y,$=k[$])for(;$%10==0;$/=10,Y--);return Y<0&&(Y=0),Y},I.dividedBy=I.div=function(B,T){return q(this,new S(B,T),X,x)},I.dividedToIntegerBy=I.idiv=function(B,T){return q(this,new S(B,T),0,1)},I.exponentiatedBy=I.pow=function(B,T){var k,Y,$,Z,p,c,u,m,v,U=this;if(B=new S(B),B.c&&!B.isInteger())throw Error(a+"Exponent not an integer: "+pt(B));if(T!=null&&(T=new S(T)),c=B.e>14,!U.c||!U.c[0]||U.c[0]==1&&!U.e&&U.c.length==1||!B.c||!B.c[0])return v=new S(Math.pow(+pt(U),c?B.s*(2-j(B)):+pt(B))),T?v.mod(T):v;if(u=B.s<0,T){if(T.c?!T.c[0]:!T.s)return new S(NaN);Y=!u&&U.isInteger()&&T.isInteger(),Y&&(U=U.mod(T))}else{if(B.e>9&&(U.e>0||U.e<-1||(U.e==0?U.c[0]>1||c&&U.c[1]>=24e7:U.c[0]<8e13||c&&U.c[0]<=9999975e7)))return Z=U.s<0&&j(B)?-0:0,U.e>-1&&(Z=1/Z),new S(u?1/Z:Z);lt&&(Z=i(lt/y+2))}for(c?(k=new S(.5),u&&(B.s=1),m=j(B)):($=Math.abs(+pt(B)),m=$%2),v=new S(L);;){if(m){if(v=v.times(U),!v.c)break;Z?v.c.length>Z&&(v.c.length=Z):Y&&(v=v.mod(T))}if($){if($=o($/2),$===0)break;m=$%2}else if(B=B.times(k),ft(B,B.e+1,1),B.e>14)m=j(B);else{if($=+pt(B),$===0)break;m=$%2}U=U.times(U),Z?U.c&&U.c.length>Z&&(U.c.length=Z):Y&&(U=U.mod(T))}return Y?v:(u&&(v=L.div(v)),T?v.mod(T):Z?ft(v,lt,x,p):v)},I.integerValue=function(B){var T=new S(this);return B==null?B=x:G(B,0,8),ft(T,T.e+1,B)},I.isEqualTo=I.eq=function(B,T){return H(this,new S(B,T))===0},I.isFinite=function(){return!!this.c},I.isGreaterThan=I.gt=function(B,T){return H(this,new S(B,T))>0},I.isGreaterThanOrEqualTo=I.gte=function(B,T){return(T=H(this,new S(B,T)))===1||T===0},I.isInteger=function(){return!!this.c&&O(this.e/y)>this.c.length-2},I.isLessThan=I.lt=function(B,T){return H(this,new S(B,T))<0},I.isLessThanOrEqualTo=I.lte=function(B,T){return(T=H(this,new S(B,T)))===-1||T===0},I.isNaN=function(){return!this.s},I.isNegative=function(){return this.s<0},I.isPositive=function(){return this.s>0},I.isZero=function(){return!!this.c&&this.c[0]==0},I.minus=function(B,T){var k,Y,$,Z,p=this,c=p.s;if(B=new S(B,T),T=B.s,!c||!T)return new S(NaN);if(c!=T)return B.s=-T,p.plus(B);var u=p.e/y,m=B.e/y,v=p.c,U=B.c;if(!u||!m){if(!v||!U)return v?(B.s=-T,B):new S(U?p:NaN);if(!v[0]||!U[0])return U[0]?(B.s=-T,B):new S(v[0]?p:x==3?-0:0)}if(u=O(u),m=O(m),v=v.slice(),c=u-m){for((Z=c<0)?(c=-c,$=v):(m=u,$=U),$.reverse(),T=c;T--;$.push(0));$.reverse()}else for(Y=(Z=(c=v.length)<(T=U.length))?c:T,c=T=0;T<Y;T++)if(v[T]!=U[T]){Z=v[T]<U[T];break}if(Z&&($=v,v=U,U=$,B.s=-B.s),T=(Y=U.length)-(k=v.length),T>0)for(;T--;v[k++]=0);for(T=d-1;Y>c;){if(v[--Y]<U[Y]){for(k=Y;k&&!v[--k];v[k]=T);--v[k],v[Y]+=d}v[Y]-=U[Y]}for(;v[0]==0;v.splice(0,1),--m);return v[0]?Ut(B,v,m):(B.s=x==3?-1:1,B.c=[B.e=0],B)},I.modulo=I.mod=function(B,T){var k,Y,$=this;return B=new S(B,T),!$.c||!B.s||B.c&&!B.c[0]?new S(NaN):!B.c||$.c&&!$.c[0]?new S($):(J==9?(Y=B.s,B.s=1,k=q($,B,0,3),B.s=Y,k.s*=Y):k=q($,B,0,J),B=$.minus(k.times(B)),!B.c[0]&&J==1&&(B.s=$.s),B)},I.multipliedBy=I.times=function(B,T){var k,Y,$,Z,p,c,u,m,v,U,V,ot,dt,ht,xt,g=this,l=g.c,f=(B=new S(B,T)).c;if(!l||!f||!l[0]||!f[0])return!g.s||!B.s||l&&!l[0]&&!f||f&&!f[0]&&!l?B.c=B.e=B.s=null:(B.s*=g.s,!l||!f?B.c=B.e=null:(B.c=[0],B.e=0)),B;for(Y=O(g.e/y)+O(B.e/y),B.s*=g.s,u=l.length,U=f.length,u<U&&(dt=l,l=f,f=dt,$=u,u=U,U=$),$=u+U,dt=[];$--;dt.push(0));for(ht=d,xt=w,$=U;--$>=0;){for(k=0,V=f[$]%xt,ot=f[$]/xt|0,p=u,Z=$+p;Z>$;)m=l[--p]%xt,v=l[p]/xt|0,c=ot*m+v*V,m=V*m+c%xt*xt+dt[Z]+k,k=(m/ht|0)+(c/xt|0)+ot*v,dt[Z--]=m%ht;dt[Z]=k}return k?++Y:dt.splice(0,1),Ut(B,dt,Y)},I.negated=function(){var B=new S(this);return B.s=-B.s||null,B},I.plus=function(B,T){var k,Y=this,$=Y.s;if(B=new S(B,T),T=B.s,!$||!T)return new S(NaN);if($!=T)return B.s=-T,Y.minus(B);var Z=Y.e/y,p=B.e/y,c=Y.c,u=B.c;if(!Z||!p){if(!c||!u)return new S($/0);if(!c[0]||!u[0])return u[0]?B:new S(c[0]?Y:$*0)}if(Z=O(Z),p=O(p),c=c.slice(),$=Z-p){for($>0?(p=Z,k=u):($=-$,k=c),k.reverse();$--;k.push(0));k.reverse()}for($=c.length,T=u.length,$-T<0&&(k=u,u=c,c=k,T=$),$=0;T;)$=(c[--T]=c[T]+u[T]+$)/d|0,c[T]=d===c[T]?0:c[T]%d;return $&&(c=[$].concat(c),++p),Ut(B,c,p)},I.precision=I.sd=function(B,T){var k,Y,$,Z=this;if(B!=null&&B!==!!B)return G(B,1,b),T==null?T=x:G(T,0,8),ft(new S(Z),B,T);if(!(k=Z.c))return null;if($=k.length-1,Y=$*y+1,$=k[$]){for(;$%10==0;$/=10,Y--);for($=k[0];$>=10;$/=10,Y++);}return B&&Z.e+1>Y&&(Y=Z.e+1),Y},I.shiftedBy=function(B){return G(B,-E,E),this.times("1e"+B)},I.squareRoot=I.sqrt=function(){var B,T,k,Y,$,Z=this,p=Z.c,c=Z.s,u=Z.e,m=X+4,v=new S("0.5");if(c!==1||!p||!p[0])return new S(!c||c<0&&(!p||p[0])?NaN:p?Z:1/0);if(c=Math.sqrt(+pt(Z)),c==0||c==1/0?(T=C(p),(T.length+u)%2==0&&(T+="0"),c=Math.sqrt(+T),u=O((u+1)/2)-(u<0||u%2),c==1/0?T="5e"+u:(T=c.toExponential(),T=T.slice(0,T.indexOf("e")+1)+u),k=new S(T)):k=new S(c+""),k.c[0]){for(u=k.e,c=u+m,c<3&&(c=0);;)if($=k,k=v.times($.plus(q(Z,$,m,1))),C($.c).slice(0,c)===(T=C(k.c)).slice(0,c))if(k.e<u&&--c,T=T.slice(c-3,c+1),T=="9999"||!Y&&T=="4999"){if(!Y&&(ft($,$.e+X+2,0),$.times($).eq(Z))){k=$;break}m+=4,c+=4,Y=1}else{(!+T||!+T.slice(1)&&T.charAt(0)=="5")&&(ft(k,k.e+X+2,1),B=!k.times(k).eq(Z));break}}return ft(k,k.e+X+1,x,B)},I.toExponential=function(B,T){return B!=null&&(G(B,0,b),B++),Ot(this,B,T,1)},I.toFixed=function(B,T){return B!=null&&(G(B,0,b),B=B+this.e+1),Ot(this,B,T)},I.toFormat=function(B,T,k){var Y,$=this;if(k==null)B!=null&&T&&typeof T=="object"?(k=T,T=null):B&&typeof B=="object"?(k=B,B=T=null):k=it;else if(typeof k!="object")throw Error(a+"Argument not an object: "+k);if(Y=$.toFixed(B,T),$.c){var Z,p=Y.split("."),c=+k.groupSize,u=+k.secondaryGroupSize,m=k.groupSeparator||"",v=p[0],U=p[1],V=$.s<0,ot=V?v.slice(1):v,dt=ot.length;if(u&&(Z=c,c=u,u=Z,dt-=Z),c>0&&dt>0){for(Z=dt%c||c,v=ot.substr(0,Z);Z<dt;Z+=c)v+=m+ot.substr(Z,c);u>0&&(v+=m+ot.slice(Z)),V&&(v="-"+v)}Y=U?v+(k.decimalSeparator||"")+((u=+k.fractionGroupSize)?U.replace(new RegExp("\\d{"+u+"}\\B","g"),"$&"+(k.fractionGroupSeparator||"")):U):v}return(k.prefix||"")+Y+(k.suffix||"")},I.toFraction=function(B){var T,k,Y,$,Z,p,c,u,m,v,U,V,ot=this,dt=ot.c;if(B!=null&&(c=new S(B),!c.isInteger()&&(c.c||c.s!==1)||c.lt(L)))throw Error(a+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+pt(c));if(!dt)return new S(ot);for(T=new S(L),m=k=new S(L),Y=u=new S(L),V=C(dt),Z=T.e=V.length-ot.e-1,T.c[0]=_[(p=Z%y)<0?y+p:p],B=!B||c.comparedTo(T)>0?Z>0?T:m:c,p=Q,Q=1/0,c=new S(V),u.c[0]=0;v=q(c,T,0,1),$=k.plus(v.times(Y)),$.comparedTo(B)!=1;)k=Y,Y=$,m=u.plus(v.times($=m)),u=$,T=c.minus(v.times($=T)),c=$;return $=q(B.minus(k),Y,0,1),u=u.plus($.times(m)),k=k.plus($.times(Y)),u.s=m.s=ot.s,Z=Z*2,U=q(m,Y,Z,x).minus(ot).abs().comparedTo(q(u,k,Z,x).minus(ot).abs())<1?[m,Y]:[u,k],Q=p,U},I.toNumber=function(){return+pt(this)},I.toPrecision=function(B,T){return B!=null&&G(B,1,b),Ot(this,B,T,2)},I.toString=function(B){var T,k=this,Y=k.s,$=k.e;return $===null?Y?(T="Infinity",Y<0&&(T="-"+T)):T="NaN":(B==null?T=$<=N||$>=F?K(C(k.c),$):R(C(k.c),$,"0"):B===10&&Et?(k=ft(new S(k),X+$+1,x),T=R(C(k.c),k.e,"0")):(G(B,2,st.length,"Base"),T=rt(R(C(k.c),$,"0"),10,B,Y,!0)),Y<0&&k.c[0]&&(T="-"+T)),T},I.valueOf=I.toJSON=function(){return pt(this)},I._isBigNumber=!0,P!=null&&S.set(P),S}function O(P){var q=P|0;return P>0||P===q?q:q-1}function C(P){for(var q,rt,nt=1,I=P.length,L=P[0]+"";nt<I;){for(q=P[nt++]+"",rt=y-q.length;rt--;q="0"+q);L+=q}for(I=L.length;L.charCodeAt(--I)===48;);return L.slice(0,I+1||1)}function H(P,q){var rt,nt,I=P.c,L=q.c,X=P.s,x=q.s,N=P.e,F=q.e;if(!X||!x)return null;if(rt=I&&!I[0],nt=L&&!L[0],rt||nt)return rt?nt?0:-x:X;if(X!=x)return X;if(rt=X<0,nt=N==F,!I||!L)return nt?0:!I^rt?1:-1;if(!nt)return N>F^rt?1:-1;for(x=(N=I.length)<(F=L.length)?N:F,X=0;X<x;X++)if(I[X]!=L[X])return I[X]>L[X]^rt?1:-1;return N==F?0:N>F^rt?1:-1}function G(P,q,rt,nt){if(P<q||P>rt||P!==o(P))throw Error(a+(nt||"Argument")+(typeof P=="number"?P<q||P>rt?" out of range: ":" not an integer: ":" not a primitive number: ")+String(P))}function j(P){var q=P.c.length-1;return O(P.e/y)==q&&P.c[q]%2!=0}function K(P,q){return(P.length>1?P.charAt(0)+"."+P.slice(1):P)+(q<0?"e":"e+")+q}function R(P,q,rt){var nt,I;if(q<0){for(I=rt+".";++q;I+=rt);P=I+P}else if(nt=P.length,++q>nt){for(I=rt,q-=nt;--q;I+=rt);P+=I}else q<nt&&(P=P.slice(0,q)+"."+P.slice(q));return P}r=h(),r.default=r.BigNumber=r,e.exports?e.exports=r:(t||(t=typeof self<"u"&&self?self:window),t.BigNumber=r)})(fn)})(Gc);var Di=Gc.exports,td=function(t,r,n){var i=new t.Uint8Array(n),o=r.pushInt,a=r.pushInt32,s=r.pushInt32Neg,d=r.pushInt64,y=r.pushInt64Neg,E=r.pushFloat,_=r.pushFloatSingle,w=r.pushFloatDouble,b=r.pushTrue,h=r.pushFalse,O=r.pushUndefined,C=r.pushNull,H=r.pushInfinity,G=r.pushInfinityNeg,j=r.pushNaN,K=r.pushNaNNeg,R=r.pushArrayStart,P=r.pushArrayStartFixed,q=r.pushArrayStartFixed32,rt=r.pushArrayStartFixed64,nt=r.pushObjectStart,I=r.pushObjectStartFixed,L=r.pushObjectStartFixed32,X=r.pushObjectStartFixed64,x=r.pushByteString,N=r.pushByteStringStart,F=r.pushUtf8String,D=r.pushUtf8StringStart,Q=r.pushSimpleUnassigned,W=r.pushTagStart,J=r.pushTagStart4,lt=r.pushTagStart8,it=r.pushTagUnassigned,st=r.pushBreak,Et=t.Math.pow,S=0,Ot=0,Bt=0;function Ut(M){for(M=M|0,S=0,Ot=M;(S|0)<(Ot|0)&&(Bt=ll[i[S]&255](i[S]|0)|0,!((Bt|0)>0)););return Bt|0}function ft(M){return M=M|0,((S|0)+(M|0)|0)<(Ot|0)?0:1}function pt(M){return M=M|0,i[M|0]<<8|i[M+1|0]|0}function B(M){return M=M|0,i[M|0]<<24|i[M+1|0]<<16|i[M+2|0]<<8|i[M+3|0]|0}function T(M){return M=M|0,o(M|0),S=S+1|0,0}function k(M){return M=M|0,ft(1)|0?1:(o(i[S+1|0]|0),S=S+2|0,0)}function Y(M){return M=M|0,ft(2)|0?1:(o(pt(S+1|0)|0),S=S+3|0,0)}function $(M){return M=M|0,ft(4)|0?1:(a(pt(S+1|0)|0,pt(S+3|0)|0),S=S+5|0,0)}function Z(M){return M=M|0,ft(8)|0?1:(d(pt(S+1|0)|0,pt(S+3|0)|0,pt(S+5|0)|0,pt(S+7|0)|0),S=S+9|0,0)}function p(M){return M=M|0,o(-1-(M-32|0)|0),S=S+1|0,0}function c(M){return M=M|0,ft(1)|0?1:(o(-1-(i[S+1|0]|0)|0),S=S+2|0,0)}function u(M){M=M|0;var At=0;return ft(2)|0?1:(At=pt(S+1|0)|0,o(-1-(At|0)|0),S=S+3|0,0)}function m(M){return M=M|0,ft(4)|0?1:(s(pt(S+1|0)|0,pt(S+3|0)|0),S=S+5|0,0)}function v(M){return M=M|0,ft(8)|0?1:(y(pt(S+1|0)|0,pt(S+3|0)|0,pt(S+5|0)|0,pt(S+7|0)|0),S=S+9|0,0)}function U(M){M=M|0;var At=0,Nt=0,St=0;return St=M-64|0,ft(St|0)|0?1:(At=S+1|0,Nt=(S+1|0)+(St|0)|0,x(At|0,Nt|0),S=Nt|0,0)}function V(M){M=M|0;var At=0,Nt=0,St=0;return ft(1)|0||(St=i[S+1|0]|0,At=S+2|0,Nt=(S+2|0)+(St|0)|0,ft(St+1|0)|0)?1:(x(At|0,Nt|0),S=Nt|0,0)}function ot(M){M=M|0;var At=0,Nt=0,St=0;return ft(2)|0||(St=pt(S+1|0)|0,At=S+3|0,Nt=(S+3|0)+(St|0)|0,ft(St+2|0)|0)?1:(x(At|0,Nt|0),S=Nt|0,0)}function dt(M){M=M|0;var At=0,Nt=0,St=0;return ft(4)|0||(St=B(S+1|0)|0,At=S+5|0,Nt=(S+5|0)+(St|0)|0,ft(St+4|0)|0)?1:(x(At|0,Nt|0),S=Nt|0,0)}function ht(M){return M=M|0,1}function xt(M){return M=M|0,N(),S=S+1|0,0}function g(M){M=M|0;var At=0,Nt=0,St=0;return St=M-96|0,ft(St|0)|0?1:(At=S+1|0,Nt=(S+1|0)+(St|0)|0,F(At|0,Nt|0),S=Nt|0,0)}function l(M){M=M|0;var At=0,Nt=0,St=0;return ft(1)|0||(St=i[S+1|0]|0,At=S+2|0,Nt=(S+2|0)+(St|0)|0,ft(St+1|0)|0)?1:(F(At|0,Nt|0),S=Nt|0,0)}function f(M){M=M|0;var At=0,Nt=0,St=0;return ft(2)|0||(St=pt(S+1|0)|0,At=S+3|0,Nt=(S+3|0)+(St|0)|0,ft(St+2|0)|0)?1:(F(At|0,Nt|0),S=Nt|0,0)}function A(M){M=M|0;var At=0,Nt=0,St=0;return ft(4)|0||(St=B(S+1|0)|0,At=S+5|0,Nt=(S+5|0)+(St|0)|0,ft(St+4|0)|0)?1:(F(At|0,Nt|0),S=Nt|0,0)}function z(M){return M=M|0,1}function et(M){return M=M|0,D(),S=S+1|0,0}function tt(M){return M=M|0,P(M-128|0),S=S+1|0,0}function bt(M){return M=M|0,ft(1)|0?1:(P(i[S+1|0]|0),S=S+2|0,0)}function _t(M){return M=M|0,ft(2)|0?1:(P(pt(S+1|0)|0),S=S+3|0,0)}function wt(M){return M=M|0,ft(4)|0?1:(q(pt(S+1|0)|0,pt(S+3|0)|0),S=S+5|0,0)}function mt(M){return M=M|0,ft(8)|0?1:(rt(pt(S+1|0)|0,pt(S+3|0)|0,pt(S+5|0)|0,pt(S+7|0)|0),S=S+9|0,0)}function Rt(M){return M=M|0,R(),S=S+1|0,0}function Pt(M){M=M|0;var At=0;return At=M-160|0,ft(At|0)|0?1:(I(At|0),S=S+1|0,0)}function us(M){return M=M|0,ft(1)|0?1:(I(i[S+1|0]|0),S=S+2|0,0)}function ls(M){return M=M|0,ft(2)|0?1:(I(pt(S+1|0)|0),S=S+3|0,0)}function fs(M){return M=M|0,ft(4)|0?1:(L(pt(S+1|0)|0,pt(S+3|0)|0),S=S+5|0,0)}function ds(M){return M=M|0,ft(8)|0?1:(X(pt(S+1|0)|0,pt(S+3|0)|0,pt(S+5|0)|0,pt(S+7|0)|0),S=S+9|0,0)}function hs(M){return M=M|0,nt(),S=S+1|0,0}function nr(M){return M=M|0,W(M-192|0|0),S=S+1|0,0}function Hp(M){return M=M|0,W(M|0),S=S+1|0,0}function zp(M){return M=M|0,W(M|0),S=S+1|0,0}function Wp(M){return M=M|0,W(M|0),S=S+1|0,0}function Yp(M){return M=M|0,W(M|0),S=S+1|0,0}function Zt(M){return M=M|0,W(M-192|0|0),S=S+1|0,0}function Lp(M){return M=M|0,W(M|0),S=S+1|0,0}function Kp(M){return M=M|0,W(M|0),S=S+1|0,0}function Zp(M){return M=M|0,W(M|0),S=S+1|0,0}function Du(M){return M=M|0,ft(1)|0?1:(W(i[S+1|0]|0),S=S+2|0,0)}function Ju(M){return M=M|0,ft(2)|0?1:(W(pt(S+1|0)|0),S=S+3|0,0)}function Qu(M){return M=M|0,ft(4)|0?1:(J(pt(S+1|0)|0,pt(S+3|0)|0),S=S+5|0,0)}function tl(M){return M=M|0,ft(8)|0?1:(lt(pt(S+1|0)|0,pt(S+3|0)|0,pt(S+5|0)|0,pt(S+7|0)|0),S=S+9|0,0)}function Ht(M){return M=M|0,Q((M|0)-224|0),S=S+1|0,0}function el(M){return M=M|0,h(),S=S+1|0,0}function rl(M){return M=M|0,b(),S=S+1|0,0}function nl(M){return M=M|0,C(),S=S+1|0,0}function il(M){return M=M|0,O(),S=S+1|0,0}function sl(M){return M=M|0,ft(1)|0?1:(Q(i[S+1|0]|0),S=S+2|0,0)}function ol(M){M=M|0;var At=0,Nt=0,St=1,Ln=0,_n=0,Xp=0;return ft(2)|0?1:(At=i[S+1|0]|0,Nt=i[S+2|0]|0,(At|0)&128&&(St=-1),Ln=+(((At|0)&124)>>2),_n=+(((At|0)&3)<<8|Nt),+Ln==0?E(+(+St*5960464477539063e-23*+_n)):+Ln==31?+St==1?+_n>0?j():H():+_n>0?K():G():E(+(+St*Et(2,+(+Ln-25))*+(1024+_n))),S=S+3|0,0)}function al(M){return M=M|0,ft(4)|0?1:(_(i[S+1|0]|0,i[S+2|0]|0,i[S+3|0]|0,i[S+4|0]|0),S=S+5|0,0)}function cl(M){return M=M|0,ft(8)|0?1:(w(i[S+1|0]|0,i[S+2|0]|0,i[S+3|0]|0,i[S+4|0]|0,i[S+5|0]|0,i[S+6|0]|0,i[S+7|0]|0,i[S+8|0]|0),S=S+9|0,0)}function Ct(M){return M=M|0,1}function ul(M){return M=M|0,st(),S=S+1|0,0}var ll=[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,k,Y,$,Z,Ct,Ct,Ct,Ct,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,p,c,u,m,v,Ct,Ct,Ct,Ct,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,U,V,ot,dt,ht,Ct,Ct,Ct,xt,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,l,f,A,z,Ct,Ct,Ct,et,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,tt,bt,_t,wt,mt,Ct,Ct,Ct,Rt,Pt,Pt,Pt,Pt,Pt,Pt,Pt,Pt,Pt,Pt,Pt,Pt,Pt,Pt,Pt,Pt,Pt,Pt,Pt,Pt,Pt,Pt,Pt,Pt,us,ls,fs,ds,Ct,Ct,Ct,hs,nr,nr,nr,nr,nr,nr,Zt,Zt,Zt,Zt,Zt,Zt,Zt,Zt,Zt,Zt,Zt,Zt,Zt,Zt,Zt,Zt,Zt,Zt,Du,Ju,Qu,tl,Ct,Ct,Ct,Ct,Ht,Ht,Ht,Ht,Ht,Ht,Ht,Ht,Ht,Ht,Ht,Ht,Ht,Ht,Ht,Ht,Ht,Ht,Ht,Ht,el,rl,nl,il,sl,ol,al,cl,Ct,Ct,Ct,ul];return{parse:Ut}},Ji={},fe={};const So=Di.BigNumber;fe.MT={POS_INT:0,NEG_INT:1,BYTE_STRING:2,UTF8_STRING:3,ARRAY:4,MAP:5,TAG:6,SIMPLE_FLOAT:7};fe.TAG={DATE_STRING:0,DATE_EPOCH:1,POS_BIGINT:2,NEG_BIGINT:3,DECIMAL_FRAC:4,BIGFLOAT:5,BASE64URL_EXPECTED:21,BASE64_EXPECTED:22,BASE16_EXPECTED:23,CBOR:24,URI:32,BASE64URL:33,BASE64:34,REGEXP:35,MIME:36};fe.NUMBYTES={ZERO:0,ONE:24,TWO:25,FOUR:26,EIGHT:27,INDEFINITE:31};fe.SIMPLE={FALSE:20,TRUE:21,NULL:22,UNDEFINED:23};fe.SYMS={NULL:Symbol("null"),UNDEFINED:Symbol("undef"),PARENT:Symbol("parent"),BREAK:Symbol("break"),STREAM:Symbol("stream")};fe.SHIFT32=Math.pow(2,32);fe.SHIFT16=Math.pow(2,16);fe.MAX_SAFE_HIGH=2097151;fe.NEG_ONE=new So(-1);fe.TEN=new So(10);fe.TWO=new So(2);fe.PARENT={ARRAY:0,OBJECT:1,MAP:2,TAG:3,BYTE_STRING:4,UTF8_STRING:5};(function(e){const{Buffer:t}=Hn,r=Di.BigNumber,n=fe,i=n.SHIFT32,o=n.SHIFT16,a=2097151;e.parseHalf=function(y){var E,_,w;return w=y[0]&128?-1:1,E=(y[0]&124)>>2,_=(y[0]&3)<<8|y[1],E?E===31?w*(_?NaN:1/0):w*Math.pow(2,E-25)*(1024+_):w*5960464477539063e-23*_};function s(d){return d<16?"0"+d.toString(16):d.toString(16)}e.arrayBufferToBignumber=function(d){const y=d.byteLength;let E="";for(let _=0;_<y;_++)E+=s(d[_]);return new r(E,16)},e.buildMap=d=>{const y=new Map,E=Object.keys(d),_=E.length;for(let w=0;w<_;w++)y.set(E[w],d[E[w]]);return y},e.buildInt32=(d,y)=>d*o+y,e.buildInt64=(d,y,E,_)=>{const w=e.buildInt32(d,y),b=e.buildInt32(E,_);return w>a?new r(w).times(i).plus(b):w*i+b},e.writeHalf=function(y,E){const _=t.allocUnsafe(4);_.writeFloatBE(E,0);const w=_.readUInt32BE(0);if(w&8191)return!1;var b=w>>16&32768;const h=w>>23&255,O=w&8388607;if(h>=113&&h<=142)b+=(h-112<<10)+(O>>13);else if(h>=103&&h<113){if(O&(1<<126-h)-1)return!1;b+=O+8388608>>126-h}else return!1;return y.writeUInt16BE(b,0),!0},e.keySorter=function(d,y){var E=d[0].byteLength,_=y[0].byteLength;return E>_?1:_>E?-1:d[0].compare(y[0])},e.isNegativeZero=d=>d===0&&1/d<0,e.nextPowerOf2=d=>{let y=0;if(d&&!(d&d-1))return d;for(;d!==0;)d>>=1,y+=1;return 1<<y}})(Ji);const To=fe,ed=To.MT,ei=To.SIMPLE,bs=To.SYMS;let rd=class Ds{constructor(t){if(typeof t!="number")throw new Error("Invalid Simple type: "+typeof t);if(t<0||t>255||(t|0)!==t)throw new Error("value must be a small positive integer: "+t);this.value=t}toString(){return"simple("+this.value+")"}inspect(){return"simple("+this.value+")"}encodeCBOR(t){return t._pushInt(this.value,ed.SIMPLE_FLOAT)}static isSimple(t){return t instanceof Ds}static decode(t,r){switch(r==null&&(r=!0),t){case ei.FALSE:return!1;case ei.TRUE:return!0;case ei.NULL:return r?null:bs.NULL;case ei.UNDEFINED:return r?void 0:bs.UNDEFINED;case-1:if(!r)throw new Error("Invalid BREAK");return bs.BREAK;default:return new Ds(t)}}};var Hc=rd;let nd=class Js{constructor(t,r,n){if(this.tag=t,this.value=r,this.err=n,typeof this.tag!="number")throw new Error("Invalid tag type ("+typeof this.tag+")");if(this.tag<0||(this.tag|0)!==this.tag)throw new Error("Tag must be a positive integer: "+this.tag)}toString(){return`${this.tag}(${JSON.stringify(this.value)})`}encodeCBOR(t){return t._pushTag(this.tag),t.pushAny(this.value)}convert(t){var r,n;if(n=t!=null?t[this.tag]:void 0,typeof n!="function"&&(n=Js["_tag"+this.tag],typeof n!="function"))return this;try{return n.call(Js,this.value)}catch(i){return r=i,this.err=r,this}}};var zc=nd;const Wc=self.location?self.location.protocol+"//"+self.location.host:"",Qs=self.URL;let id=class{constructor(t="",r=Wc){this.super=new Qs(t,r),this.path=this.pathname+this.search,this.auth=this.username&&this.password?this.username+":"+this.password:null,this.query=this.search&&this.search.startsWith("?")?this.search.slice(1):null}get hash(){return this.super.hash}get host(){return this.super.host}get hostname(){return this.super.hostname}get href(){return this.super.href}get origin(){return this.super.origin}get password(){return this.super.password}get pathname(){return this.super.pathname}get port(){return this.super.port}get protocol(){return this.super.protocol}get search(){return this.super.search}get searchParams(){return this.super.searchParams}get username(){return this.super.username}set hash(t){this.super.hash=t}set host(t){this.super.host=t}set hostname(t){this.super.hostname=t}set href(t){this.super.href=t}set origin(t){this.super.origin=t}set password(t){this.super.password=t}set pathname(t){this.super.pathname=t}set port(t){this.super.port=t}set protocol(t){this.super.protocol=t}set search(t){this.super.search=t}set searchParams(t){this.super.searchParams=t}set username(t){this.super.username=t}createObjectURL(t){return this.super.createObjectURL(t)}revokeObjectURL(t){this.super.revokeObjectURL(t)}toJSON(){return this.super.toJSON()}toString(){return this.super.toString()}format(){return this.toString()}};function sd(e){if(typeof e=="string")return new Qs(e).toString();if(!(e instanceof Qs)){const t=e.username&&e.password?`${e.username}:${e.password}@`:"",r=e.auth?e.auth+"@":"",n=e.port?":"+e.port:"",i=e.protocol?e.protocol+"//":"",o=e.host||"",a=e.hostname||"",s=e.search||(e.query?"?"+e.query:""),d=e.hash||"",y=e.pathname||"",E=e.path||y+s;return`${i}${t||r}${o||a+n}${E}${d}`}}var Yc={URLWithLegacySupport:id,URLSearchParams:self.URLSearchParams,defaultBase:Wc,format:sd};const{URLWithLegacySupport:e1,format:r1}=Yc,{URLWithLegacySupport:od,format:n1,URLSearchParams:i1,defaultBase:s1}=Yc;var Lc={URL:od};const{Buffer:Zr}=Hn,Qo=jn,ad=Di.BigNumber,cd=td,de=Ji,Ft=fe,ud=Hc,ld=zc,{URL:fd}=Lc;let to=class eo{constructor(t){t=t||{},!t.size||t.size<65536?t.size=65536:t.size=de.nextPowerOf2(t.size),this._heap=new ArrayBuffer(t.size),this._heap8=new Uint8Array(this._heap),this._buffer=Zr.from(this._heap),this._reset(),this._knownTags=Object.assign({0:r=>new Date(r),1:r=>new Date(r*1e3),2:r=>de.arrayBufferToBignumber(r),3:r=>Ft.NEG_ONE.minus(de.arrayBufferToBignumber(r)),4:r=>Ft.TEN.pow(r[0]).times(r[1]),5:r=>Ft.TWO.pow(r[0]).times(r[1]),32:r=>new fd(r),35:r=>new RegExp(r)},t.tags),this.parser=cd(fn,{log:console.log.bind(console),pushInt:this.pushInt.bind(this),pushInt32:this.pushInt32.bind(this),pushInt32Neg:this.pushInt32Neg.bind(this),pushInt64:this.pushInt64.bind(this),pushInt64Neg:this.pushInt64Neg.bind(this),pushFloat:this.pushFloat.bind(this),pushFloatSingle:this.pushFloatSingle.bind(this),pushFloatDouble:this.pushFloatDouble.bind(this),pushTrue:this.pushTrue.bind(this),pushFalse:this.pushFalse.bind(this),pushUndefined:this.pushUndefined.bind(this),pushNull:this.pushNull.bind(this),pushInfinity:this.pushInfinity.bind(this),pushInfinityNeg:this.pushInfinityNeg.bind(this),pushNaN:this.pushNaN.bind(this),pushNaNNeg:this.pushNaNNeg.bind(this),pushArrayStart:this.pushArrayStart.bind(this),pushArrayStartFixed:this.pushArrayStartFixed.bind(this),pushArrayStartFixed32:this.pushArrayStartFixed32.bind(this),pushArrayStartFixed64:this.pushArrayStartFixed64.bind(this),pushObjectStart:this.pushObjectStart.bind(this),pushObjectStartFixed:this.pushObjectStartFixed.bind(this),pushObjectStartFixed32:this.pushObjectStartFixed32.bind(this),pushObjectStartFixed64:this.pushObjectStartFixed64.bind(this),pushByteString:this.pushByteString.bind(this),pushByteStringStart:this.pushByteStringStart.bind(this),pushUtf8String:this.pushUtf8String.bind(this),pushUtf8StringStart:this.pushUtf8StringStart.bind(this),pushSimpleUnassigned:this.pushSimpleUnassigned.bind(this),pushTagUnassigned:this.pushTagUnassigned.bind(this),pushTagStart:this.pushTagStart.bind(this),pushTagStart4:this.pushTagStart4.bind(this),pushTagStart8:this.pushTagStart8.bind(this),pushBreak:this.pushBreak.bind(this)},this._heap)}get _depth(){return this._parents.length}get _currentParent(){return this._parents[this._depth-1]}get _ref(){return this._currentParent.ref}_closeParent(){var t=this._parents.pop();if(t.length>0)throw new Error(`Missing ${t.length} elements`);switch(t.type){case Ft.PARENT.TAG:this._push(this.createTag(t.ref[0],t.ref[1]));break;case Ft.PARENT.BYTE_STRING:this._push(this.createByteString(t.ref,t.length));break;case Ft.PARENT.UTF8_STRING:this._push(this.createUtf8String(t.ref,t.length));break;case Ft.PARENT.MAP:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createMap(t.ref,t.length));break;case Ft.PARENT.OBJECT:if(t.values%2>0)throw new Error("Odd number of elements in the map");this._push(this.createObject(t.ref,t.length));break;case Ft.PARENT.ARRAY:this._push(this.createArray(t.ref,t.length));break}this._currentParent&&this._currentParent.type===Ft.PARENT.TAG&&this._dec()}_dec(){const t=this._currentParent;t.length<0||(t.length--,t.length===0&&this._closeParent())}_push(t,r){const n=this._currentParent;switch(n.values++,n.type){case Ft.PARENT.ARRAY:case Ft.PARENT.BYTE_STRING:case Ft.PARENT.UTF8_STRING:n.length>-1?this._ref[this._ref.length-n.length]=t:this._ref.push(t),this._dec();break;case Ft.PARENT.OBJECT:n.tmpKey!=null?(this._ref[n.tmpKey]=t,n.tmpKey=null,this._dec()):(n.tmpKey=t,typeof n.tmpKey!="string"&&(n.type=Ft.PARENT.MAP,n.ref=de.buildMap(n.ref)));break;case Ft.PARENT.MAP:n.tmpKey!=null?(this._ref.set(n.tmpKey,t),n.tmpKey=null,this._dec()):n.tmpKey=t;break;case Ft.PARENT.TAG:this._ref.push(t),r||this._dec();break;default:throw new Error("Unknown parent type")}}_createParent(t,r,n){this._parents[this._depth]={type:r,length:n,ref:t,values:0,tmpKey:null}}_reset(){this._res=[],this._parents=[{type:Ft.PARENT.ARRAY,length:-1,ref:this._res,values:0,tmpKey:null}]}createTag(t,r){const n=this._knownTags[t];return n?n(r):new ld(t,r)}createMap(t,r){return t}createObject(t,r){return t}createArray(t,r){return t}createByteString(t,r){return Zr.concat(t)}createByteStringFromHeap(t,r){return t===r?Zr.alloc(0):Zr.from(this._heap.slice(t,r))}createInt(t){return t}createInt32(t,r){return de.buildInt32(t,r)}createInt64(t,r,n,i){return de.buildInt64(t,r,n,i)}createFloat(t){return t}createFloatSingle(t,r,n,i){return Qo.read([t,r,n,i],0,!1,23,4)}createFloatDouble(t,r,n,i,o,a,s,d){return Qo.read([t,r,n,i,o,a,s,d],0,!1,52,8)}createInt32Neg(t,r){return-1-de.buildInt32(t,r)}createInt64Neg(t,r,n,i){const o=de.buildInt32(t,r),a=de.buildInt32(n,i);return o>Ft.MAX_SAFE_HIGH?Ft.NEG_ONE.minus(new ad(o).times(Ft.SHIFT32).plus(a)):-1-(o*Ft.SHIFT32+a)}createTrue(){return!0}createFalse(){return!1}createNull(){return null}createUndefined(){}createInfinity(){return 1/0}createInfinityNeg(){return-1/0}createNaN(){return NaN}createNaNNeg(){return NaN}createUtf8String(t,r){return t.join("")}createUtf8StringFromHeap(t,r){return t===r?"":this._buffer.toString("utf8",t,r)}createSimpleUnassigned(t){return new ud(t)}pushInt(t){this._push(this.createInt(t))}pushInt32(t,r){this._push(this.createInt32(t,r))}pushInt64(t,r,n,i){this._push(this.createInt64(t,r,n,i))}pushFloat(t){this._push(this.createFloat(t))}pushFloatSingle(t,r,n,i){this._push(this.createFloatSingle(t,r,n,i))}pushFloatDouble(t,r,n,i,o,a,s,d){this._push(this.createFloatDouble(t,r,n,i,o,a,s,d))}pushInt32Neg(t,r){this._push(this.createInt32Neg(t,r))}pushInt64Neg(t,r,n,i){this._push(this.createInt64Neg(t,r,n,i))}pushTrue(){this._push(this.createTrue())}pushFalse(){this._push(this.createFalse())}pushNull(){this._push(this.createNull())}pushUndefined(){this._push(this.createUndefined())}pushInfinity(){this._push(this.createInfinity())}pushInfinityNeg(){this._push(this.createInfinityNeg())}pushNaN(){this._push(this.createNaN())}pushNaNNeg(){this._push(this.createNaNNeg())}pushArrayStart(){this._createParent([],Ft.PARENT.ARRAY,-1)}pushArrayStartFixed(t){this._createArrayStartFixed(t)}pushArrayStartFixed32(t,r){const n=de.buildInt32(t,r);this._createArrayStartFixed(n)}pushArrayStartFixed64(t,r,n,i){const o=de.buildInt64(t,r,n,i);this._createArrayStartFixed(o)}pushObjectStart(){this._createObjectStartFixed(-1)}pushObjectStartFixed(t){this._createObjectStartFixed(t)}pushObjectStartFixed32(t,r){const n=de.buildInt32(t,r);this._createObjectStartFixed(n)}pushObjectStartFixed64(t,r,n,i){const o=de.buildInt64(t,r,n,i);this._createObjectStartFixed(o)}pushByteStringStart(){this._parents[this._depth]={type:Ft.PARENT.BYTE_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushByteString(t,r){this._push(this.createByteStringFromHeap(t,r))}pushUtf8StringStart(){this._parents[this._depth]={type:Ft.PARENT.UTF8_STRING,length:-1,ref:[],values:0,tmpKey:null}}pushUtf8String(t,r){this._push(this.createUtf8StringFromHeap(t,r))}pushSimpleUnassigned(t){this._push(this.createSimpleUnassigned(t))}pushTagStart(t){this._parents[this._depth]={type:Ft.PARENT.TAG,length:1,ref:[t]}}pushTagStart4(t,r){this.pushTagStart(de.buildInt32(t,r))}pushTagStart8(t,r,n,i){this.pushTagStart(de.buildInt64(t,r,n,i))}pushTagUnassigned(t){this._push(this.createTag(t))}pushBreak(){if(this._currentParent.length>-1)throw new Error("Unexpected break");this._closeParent()}_createObjectStartFixed(t){if(t===0){this._push(this.createObject({}));return}this._createParent({},Ft.PARENT.OBJECT,t)}_createArrayStartFixed(t){if(t===0){this._push(this.createArray([]));return}this._createParent(new Array(t),Ft.PARENT.ARRAY,t)}_decode(t){if(t.byteLength===0)throw new Error("Input too short");this._reset(),this._heap8.set(t);const r=this.parser.parse(t.byteLength);if(this._depth>1){for(;this._currentParent.length===0;)this._closeParent();if(this._depth>1)throw new Error("Undeterminated nesting")}if(r>0)throw new Error("Failed to parse");if(this._res.length===0)throw new Error("No valid result")}decodeFirst(t){return this._decode(t),this._res[0]}decodeAll(t){return this._decode(t),this._res}static decode(t,r){return typeof t=="string"&&(t=Zr.from(t,r||"hex")),new eo({size:t.length}).decodeFirst(t)}static decodeAll(t,r){return typeof t=="string"&&(t=Zr.from(t,r||"hex")),new eo({size:t.length}).decodeAll(t)}};to.decodeFirst=to.decode;var Kc=to;const{Buffer:ws}=Hn,dd=Kc,hd=Ji;class Ao extends dd{createTag(t,r){return`${t}(${r})`}createInt(t){return super.createInt(t).toString()}createInt32(t,r){return super.createInt32(t,r).toString()}createInt64(t,r,n,i){return super.createInt64(t,r,n,i).toString()}createInt32Neg(t,r){return super.createInt32Neg(t,r).toString()}createInt64Neg(t,r,n,i){return super.createInt64Neg(t,r,n,i).toString()}createTrue(){return"true"}createFalse(){return"false"}createFloat(t){const r=super.createFloat(t);return hd.isNegativeZero(t)?"-0_1":`${r}_1`}createFloatSingle(t,r,n,i){return`${super.createFloatSingle(t,r,n,i)}_2`}createFloatDouble(t,r,n,i,o,a,s,d){return`${super.createFloatDouble(t,r,n,i,o,a,s,d)}_3`}createByteString(t,r){const n=t.join(", ");return r===-1?`(_ ${n})`:`h'${n}`}createByteStringFromHeap(t,r){return`h'${ws.from(super.createByteStringFromHeap(t,r)).toString("hex")}'`}createInfinity(){return"Infinity_1"}createInfinityNeg(){return"-Infinity_1"}createNaN(){return"NaN_1"}createNaNNeg(){return"-NaN_1"}createNull(){return"null"}createUndefined(){return"undefined"}createSimpleUnassigned(t){return`simple(${t})`}createArray(t,r){const n=super.createArray(t,r);return r===-1?`[_ ${n.join(", ")}]`:`[${n.join(", ")}]`}createMap(t,r){const n=super.createMap(t),i=Array.from(n.keys()).reduce(ta(n),"");return r===-1?`{_ ${i}}`:`{${i}}`}createObject(t,r){const n=super.createObject(t),i=Object.keys(n).reduce(ta(n),"");return r===-1?`{_ ${i}}`:`{${i}}`}createUtf8String(t,r){const n=t.join(", ");return r===-1?`(_ ${n})`:`"${n}"`}createUtf8StringFromHeap(t,r){return`"${ws.from(super.createUtf8StringFromHeap(t,r)).toString("utf8")}"`}static diagnose(t,r){return typeof t=="string"&&(t=ws.from(t,r||"hex")),new Ao().decodeFirst(t)}}var pd=Ao;function ta(e){return(t,r)=>t?`${t}, ${r}: ${e[r]}`:`${r}: ${e[r]}`}const{Buffer:Ce}=Hn,{URL:gd}=Lc,ro=Di.BigNumber,xs=Ji,Kt=fe,ve=Kt.MT,ri=Kt.NUMBYTES,ea=Kt.SHIFT32,ra=Kt.SYMS,Xr=Kt.TAG,yd=Kt.MT.SIMPLE_FLOAT<<5|Kt.NUMBYTES.TWO,md=Kt.MT.SIMPLE_FLOAT<<5|Kt.NUMBYTES.FOUR,bd=Kt.MT.SIMPLE_FLOAT<<5|Kt.NUMBYTES.EIGHT,wd=Kt.MT.SIMPLE_FLOAT<<5|Kt.SIMPLE.TRUE,xd=Kt.MT.SIMPLE_FLOAT<<5|Kt.SIMPLE.FALSE,_d=Kt.MT.SIMPLE_FLOAT<<5|Kt.SIMPLE.UNDEFINED,na=Kt.MT.SIMPLE_FLOAT<<5|Kt.SIMPLE.NULL,Ed=new ro("0x20000000000000"),vd=Ce.from("f97e00","hex"),Bd=Ce.from("f9fc00","hex"),Sd=Ce.from("f97c00","hex");function Td(e){return{}.toString.call(e).slice(8,-1)}class $i{constructor(t){t=t||{},this.streaming=typeof t.stream=="function",this.onData=t.stream,this.semanticTypes=[[gd,this._pushUrl],[ro,this._pushBigNumber]];const r=t.genTypes||[],n=r.length;for(let i=0;i<n;i++)this.addSemanticType(r[i][0],r[i][1]);this._reset()}addSemanticType(t,r){const n=this.semanticTypes.length;for(let i=0;i<n;i++)if(this.semanticTypes[i][0]===t){const a=this.semanticTypes[i][1];return this.semanticTypes[i][1]=r,a}return this.semanticTypes.push([t,r]),null}push(t){return t&&(this.result[this.offset]=t,this.resultMethod[this.offset]=0,this.resultLength[this.offset]=t.length,this.offset++,this.streaming&&this.onData(this.finalize())),!0}pushWrite(t,r,n){return this.result[this.offset]=t,this.resultMethod[this.offset]=r,this.resultLength[this.offset]=n,this.offset++,this.streaming&&this.onData(this.finalize()),!0}_pushUInt8(t){return this.pushWrite(t,1,1)}_pushUInt16BE(t){return this.pushWrite(t,2,2)}_pushUInt32BE(t){return this.pushWrite(t,3,4)}_pushDoubleBE(t){return this.pushWrite(t,4,8)}_pushNaN(){return this.push(vd)}_pushInfinity(t){const r=t<0?Bd:Sd;return this.push(r)}_pushFloat(t){const r=Ce.allocUnsafe(2);if(xs.writeHalf(r,t)&&xs.parseHalf(r)===t)return this._pushUInt8(yd)&&this.push(r);const n=Ce.allocUnsafe(4);return n.writeFloatBE(t,0),n.readFloatBE(0)===t?this._pushUInt8(md)&&this.push(n):this._pushUInt8(bd)&&this._pushDoubleBE(t)}_pushInt(t,r,n){const i=r<<5;return t<24?this._pushUInt8(i|t):t<=255?this._pushUInt8(i|ri.ONE)&&this._pushUInt8(t):t<=65535?this._pushUInt8(i|ri.TWO)&&this._pushUInt16BE(t):t<=4294967295?this._pushUInt8(i|ri.FOUR)&&this._pushUInt32BE(t):t<=Number.MAX_SAFE_INTEGER?this._pushUInt8(i|ri.EIGHT)&&this._pushUInt32BE(Math.floor(t/ea))&&this._pushUInt32BE(t%ea):r===ve.NEG_INT?this._pushFloat(n):this._pushFloat(t)}_pushIntNum(t){return t<0?this._pushInt(-t-1,ve.NEG_INT,t):this._pushInt(t,ve.POS_INT)}_pushNumber(t){switch(!1){case t===t:return this._pushNaN(t);case isFinite(t):return this._pushInfinity(t);case t%1!==0:return this._pushIntNum(t);default:return this._pushFloat(t)}}_pushString(t){const r=Ce.byteLength(t,"utf8");return this._pushInt(r,ve.UTF8_STRING)&&this.pushWrite(t,5,r)}_pushBoolean(t){return this._pushUInt8(t?wd:xd)}_pushUndefined(t){return this._pushUInt8(_d)}_pushArray(t,r){const n=r.length;if(!t._pushInt(n,ve.ARRAY))return!1;for(let i=0;i<n;i++)if(!t.pushAny(r[i]))return!1;return!0}_pushTag(t){return this._pushInt(t,ve.TAG)}_pushDate(t,r){return t._pushTag(Xr.DATE_EPOCH)&&t.pushAny(Math.round(r/1e3))}_pushBuffer(t,r){return t._pushInt(r.length,ve.BYTE_STRING)&&t.push(r)}_pushNoFilter(t,r){return t._pushBuffer(t,r.slice())}_pushRegexp(t,r){return t._pushTag(Xr.REGEXP)&&t.pushAny(r.source)}_pushSet(t,r){if(!t._pushInt(r.size,ve.ARRAY))return!1;for(const n of r)if(!t.pushAny(n))return!1;return!0}_pushUrl(t,r){return t._pushTag(Xr.URI)&&t.pushAny(r.format())}_pushBigint(t){let r=Xr.POS_BIGINT;t.isNegative()&&(t=t.negated().minus(1),r=Xr.NEG_BIGINT);let n=t.toString(16);n.length%2&&(n="0"+n);const i=Ce.from(n,"hex");return this._pushTag(r)&&this._pushBuffer(this,i)}_pushBigNumber(t,r){if(r.isNaN())return t._pushNaN();if(!r.isFinite())return t._pushInfinity(r.isNegative()?-1/0:1/0);if(r.isInteger())return t._pushBigint(r);if(!(t._pushTag(Xr.DECIMAL_FRAC)&&t._pushInt(2,ve.ARRAY)))return!1;const n=r.decimalPlaces(),i=r.multipliedBy(new ro(10).pow(n));return t._pushIntNum(-n)?i.abs().isLessThan(Ed)?t._pushIntNum(i.toNumber()):t._pushBigint(i):!1}_pushMap(t,r){return t._pushInt(r.size,ve.MAP)?this._pushRawMap(r.size,Array.from(r)):!1}_pushObject(t){if(!t)return this._pushUInt8(na);for(var r=this.semanticTypes.length,n=0;n<r;n++)if(t instanceof this.semanticTypes[n][0])return this.semanticTypes[n][1].call(t,this,t);var i=t.encodeCBOR;if(typeof i=="function")return i.call(t,this);var o=Object.keys(t),a=o.length;return this._pushInt(a,ve.MAP)?this._pushRawMap(a,o.map(s=>[s,t[s]])):!1}_pushRawMap(t,r){r=r.map(function(i){return i[0]=$i.encode(i[0]),i}).sort(xs.keySorter);for(var n=0;n<t;n++)if(!this.push(r[n][0])||!this.pushAny(r[n][1]))return!1;return!0}write(t){return this.pushAny(t)}pushAny(t){var r=Td(t);switch(r){case"Number":return this._pushNumber(t);case"String":return this._pushString(t);case"Boolean":return this._pushBoolean(t);case"Object":return this._pushObject(t);case"Array":return this._pushArray(this,t);case"Uint8Array":return this._pushBuffer(this,Ce.isBuffer(t)?t:Ce.from(t));case"Null":return this._pushUInt8(na);case"Undefined":return this._pushUndefined(t);case"Map":return this._pushMap(this,t);case"Set":return this._pushSet(this,t);case"URL":return this._pushUrl(this,t);case"BigNumber":return this._pushBigNumber(this,t);case"Date":return this._pushDate(this,t);case"RegExp":return this._pushRegexp(this,t);case"Symbol":switch(t){case ra.NULL:return this._pushObject(null);case ra.UNDEFINED:return this._pushUndefined(void 0);default:throw new Error("Unknown symbol: "+t.toString())}default:throw new Error("Unknown type: "+typeof t+", "+(t?t.toString():""))}}finalize(){if(this.offset===0)return null;for(var t=this.result,r=this.resultLength,n=this.resultMethod,i=this.offset,o=0,a=0;a<i;a++)o+=r[a];var s=Ce.allocUnsafe(o),d=0,y=0;for(a=0;a<i;a++){switch(y=r[a],n[a]){case 0:t[a].copy(s,d);break;case 1:s.writeUInt8(t[a],d,!0);break;case 2:s.writeUInt16BE(t[a],d,!0);break;case 3:s.writeUInt32BE(t[a],d,!0);break;case 4:s.writeDoubleBE(t[a],d,!0);break;case 5:s.write(t[a],d,y,"utf8");break;default:throw new Error("unkown method")}d+=y}var E=s;return this._reset(),E}_reset(){this.result=[],this.resultMethod=[],this.resultLength=[],this.offset=0}static encode(t){const r=new $i;if(!r.pushAny(t))throw new Error("Failed to encode input");return r.finalize()}}var Ad=$i;(function(e){e.Diagnose=pd,e.Decoder=Kc,e.Encoder=Ad,e.Simple=Hc,e.Tagged=zc,e.decodeAll=e.Decoder.decodeAll,e.decodeFirst=e.Decoder.decodeFirst,e.diagnose=e.Diagnose.diagnose,e.encode=e.Encoder.encode,e.decode=e.Decoder.decode,e.leveldb={decode:e.Decoder.decodeAll,encode:e.Encoder.encode,buffer:!0,name:"cbor"}})(Vc);const Zc=Sl(Vc);function Ae(e){return fi(q0.create().update(new Uint8Array(e)).digest())}function hi(e){if(e instanceof Zc.Tagged)return hi(e.value);if(typeof e=="string")return Xc(e);if(typeof e=="number")return Ae(qt(e));if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return Ae(e);if(Array.isArray(e)){const t=e.map(hi);return Ae(qe(...t))}else{if(e&&typeof e=="object"&&e._isPrincipal)return Ae(e.toUint8Array());if(typeof e=="object"&&e!==null&&typeof e.toHash=="function")return hi(e.toHash());if(typeof e=="object")return qi(e);if(typeof e=="bigint")return Ae(qt(e))}throw Object.assign(new Error(`Attempt to hash a value of unsupported type: ${e}`),{value:e})}const Xc=e=>{const t=new TextEncoder().encode(e);return Ae(t)};function ia(e){return qi(e)}function qi(e){const n=Object.entries(e).filter(([,a])=>a!==void 0).map(([a,s])=>{const d=Xc(a),y=hi(s);return[d,y]}).sort(([a],[s])=>rc(a,s)),i=qe(...n.map(a=>qe(...a)));return Ae(i)}new TextEncoder().encode(`
ic-request`);class sa{getPrincipal(){return vt.anonymous()}async transformRequest(t){return Object.assign(Object.assign({},t),{body:{content:t.body}})}}var De={},xn={},Mt={};Object.defineProperty(Mt,"__esModule",{value:!0});const Nd=9007199254740992;function tr(e,...t){const r=new Uint8Array(e.byteLength+t.reduce((i,o)=>i+o.byteLength,0));r.set(new Uint8Array(e),0);let n=e.byteLength;for(const i of t)r.set(new Uint8Array(i),n),n+=i.byteLength;return r.buffer}function Ne(e,t,r){r=r.replace(/[^0-9a-fA-F]/g,"");const n=2**(t-24);r=r.slice(-n*2).padStart(n*2,"0");const i=[(e<<5)+t].concat(r.match(/../g).map(o=>parseInt(o,16)));return new Uint8Array(i).buffer}function Qi(e,t){if(t<24)return new Uint8Array([(e<<5)+t]).buffer;{const r=t<=255?24:t<=65535?25:t<=4294967295?26:27;return Ne(e,r,t.toString(16))}}function Dc(e){const t=[];for(let r=0;r<e.length;r++){let n=e.charCodeAt(r);n<128?t.push(n):n<2048?t.push(192|n>>6,128|n&63):n<55296||n>=57344?t.push(224|n>>12,128|n>>6&63,128|n&63):(r++,n=(n&1023)<<10|e.charCodeAt(r)&1023,t.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63))}return tr(new Uint8Array(Qi(3,e.length)),new Uint8Array(t))}function Rd(e,t){if(e==14277111)return tr(new Uint8Array([217,217,247]),t);if(e<24)return tr(new Uint8Array([192+e]),t);{const r=e<=255?24:e<=65535?25:e<=4294967295?26:27,n=2**(r-24),i=e.toString(16).slice(-n*2).padStart(n*2,"0"),o=[192+r].concat(i.match(/../g).map(a=>parseInt(a,16)));return new Uint8Array(o).buffer}}Mt.tagged=Rd;function zn(e){return new Uint8Array(e).buffer}Mt.raw=zn;function No(e){if(isNaN(e))throw new RangeError("Invalid number.");e=Math.min(Math.max(0,e),23);const t=[0+e];return new Uint8Array(t).buffer}Mt.uSmall=No;function Jc(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),255),e=e.toString(16),Ne(0,24,e)}Mt.u8=Jc;function Qc(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),65535),e=e.toString(16),Ne(0,25,e)}Mt.u16=Qc;function tu(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),4294967295),e=e.toString(16),Ne(0,26,e)}Mt.u32=tu;function Ro(e,t){if(typeof e=="string"&&t==16){if(e.match(/[^0-9a-fA-F]/))throw new RangeError("Invalid number.");return Ne(0,27,e)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,e),Nd),e=e.toString(16),Ne(0,27,e)}Mt.u64=Ro;function eu(e){if(isNaN(e))throw new RangeError("Invalid number.");if(e===0)return No(0);e=Math.min(Math.max(0,-e),24)-1;const t=[32+e];return new Uint8Array(t).buffer}Mt.iSmall=eu;function ru(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),255),e=e.toString(16),Ne(1,24,e)}Mt.i8=ru;function nu(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),65535),e=e.toString(16),Ne(1,25,e)}Mt.i16=nu;function iu(e,t){if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),4294967295),e=e.toString(16),Ne(1,26,e)}Mt.i32=iu;function su(e,t){if(typeof e=="string"&&t==16){if(e.startsWith("-")?e=e.slice(1):e="0",e.match(/[^0-9a-fA-F]/)||e.length>16)throw new RangeError("Invalid number.");let r=!1,n=e.split("").reduceRight((i,o)=>{if(r)return o+i;let a=parseInt(o,16)-1;return a>=0?(r=!0,a.toString(16)+i):"f"+i},"");return r?Ne(1,27,n):Ro(0)}if(e=parseInt(""+e,t),isNaN(e))throw new RangeError("Invalid number.");return e=Math.min(Math.max(0,-e-1),9007199254740992),e=e.toString(16),Ne(1,27,e)}Mt.i64=su;function Id(e){return e>=0?e<24?No(e):e<=255?Jc(e):e<=65535?Qc(e):e<=4294967295?tu(e):Ro(e):e>=-24?eu(e):e>=-255?ru(e):e>=-65535?nu(e):e>=-4294967295?iu(e):su(e)}Mt.number=Id;function Od(e){return tr(Qi(2,e.byteLength),e)}Mt.bytes=Od;function Ud(e){return Dc(e)}Mt.string=Ud;function Fd(e){return tr(Qi(4,e.length),...e)}Mt.array=Fd;function kd(e,t=!1){e instanceof Map||(e=new Map(Object.entries(e)));let r=Array.from(e.entries());return t&&(r=r.sort(([n],[i])=>n.localeCompare(i))),tr(Qi(5,e.size),...r.map(([n,i])=>tr(Dc(n),i)))}Mt.map=kd;function Cd(e){const t=new Float32Array([e]);return tr(new Uint8Array([250]),new Uint8Array(t.buffer))}Mt.singleFloat=Cd;function Md(e){const t=new Float64Array([e]);return tr(new Uint8Array([251]),new Uint8Array(t.buffer))}Mt.doubleFloat=Md;function Pd(e){return e?ou():au()}Mt.bool=Pd;function ou(){return zn(new Uint8Array([245]))}Mt.true_=ou;function au(){return zn(new Uint8Array([244]))}Mt.false_=au;function $d(){return zn(new Uint8Array([246]))}Mt.null_=$d;function qd(){return zn(new Uint8Array([247]))}Mt.undefined_=qd;var jd=fn&&fn.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t};Object.defineProperty(xn,"__esModule",{value:!0});const Be=jd(Mt),Vd=[ArrayBuffer,Uint8Array,Uint16Array,Uint32Array,Int8Array,Int16Array,Int32Array,Float32Array,Float64Array];class cu{constructor(t,r=!1){this._serializer=t,this._stable=r,this.name="jsonDefault",this.priority=-100}match(t){return["undefined","boolean","number","string","object"].indexOf(typeof t)!=-1}encode(t){switch(typeof t){case"undefined":return Be.undefined_();case"boolean":return Be.bool(t);case"number":return Math.floor(t)===t?Be.number(t):Be.doubleFloat(t);case"string":return Be.string(t);case"object":if(t===null)return Be.null_();if(Array.isArray(t))return Be.array(t.map(r=>this._serializer.serializeValue(r)));if(Vd.find(r=>t instanceof r))return Be.bytes(t.buffer);if(Object.getOwnPropertyNames(t).indexOf("toJSON")!==-1)return this.encode(t.toJSON());if(t instanceof Map){const r=new Map;for(const[n,i]of t.entries())r.set(n,this._serializer.serializeValue(i));return Be.map(r,this._stable)}else{const r=new Map;for(const[n,i]of Object.entries(t))r.set(n,this._serializer.serializeValue(i));return Be.map(r,this._stable)}default:throw new Error("Invalid value.")}}}xn.JsonDefaultCborEncoder=cu;class uu{constructor(){this.name="cborEncoder",this.priority=-90}match(t){return typeof t=="object"&&typeof t.toCBOR=="function"}encode(t){return t.toCBOR()}}xn.ToCborEncoder=uu;class lu{constructor(){this._encoders=new Set}static withDefaultEncoders(t=!1){const r=new this;return r.addEncoder(new cu(r,t)),r.addEncoder(new uu),r}removeEncoder(t){for(const r of this._encoders.values())r.name==t&&this._encoders.delete(r)}addEncoder(t){this._encoders.add(t)}getEncoderFor(t){let r=null;for(const n of this._encoders)(!r||n.priority>r.priority)&&n.match(t)&&(r=n);if(r===null)throw new Error("Could not find an encoder for value.");return r}serializeValue(t){return this.getEncoderFor(t).encode(t)}serialize(t){return this.serializeValue(t)}}xn.CborSerializer=lu;class Gd extends lu{serialize(t){return Be.raw(new Uint8Array([...new Uint8Array([217,217,247]),...new Uint8Array(super.serializeValue(t))]))}}xn.SelfDescribeCborSerializer=Gd;(function(e){function t(i){for(var o in i)e.hasOwnProperty(o)||(e[o]=i[o])}var r=fn&&fn.__importStar||function(i){if(i&&i.__esModule)return i;var o={};if(i!=null)for(var a in i)Object.hasOwnProperty.call(i,a)&&(o[a]=i[a]);return o.default=i,o};Object.defineProperty(e,"__esModule",{value:!0}),t(xn);const n=r(Mt);e.value=n})(De);class Hd{get name(){return"Principal"}get priority(){return 0}match(t){return t&&t._isPrincipal===!0}encode(t){return De.value.bytes(t.toUint8Array())}}class zd{get name(){return"Buffer"}get priority(){return 1}match(t){return t instanceof ArrayBuffer||ArrayBuffer.isView(t)}encode(t){return De.value.bytes(new Uint8Array(t))}}class Wd{get name(){return"BigInt"}get priority(){return 1}match(t){return typeof t=="bigint"}encode(t){return t>BigInt(0)?De.value.tagged(2,De.value.bytes(Ci(t.toString(16)))):De.value.tagged(3,De.value.bytes(Ci((BigInt("-1")*t).toString(16))))}}const ts=De.SelfDescribeCborSerializer.withDefaultEncoders(!0);ts.addEncoder(new Hd);ts.addEncoder(new zd);ts.addEncoder(new Wd);var no;(function(e){e[e.Uint64LittleEndian=71]="Uint64LittleEndian",e[e.Semantic=55799]="Semantic"})(no||(no={}));function _s(e){return ts.serialize(e)}function oa(e){const t=e.byteLength;let r=BigInt(0);for(let n=0;n<t;n++)r=r*BigInt(256)+BigInt(e[n]);return r}class Yd extends Zc.Decoder{createByteString(t){return qe(...t)}createByteStringFromHeap(t,r){return t===r?new ArrayBuffer(0):new Uint8Array(this._heap.slice(t,r))}}function Je(e){const t=new Uint8Array(e),r=new Yd({size:t.byteLength,tags:{2:n=>oa(n),3:n=>-oa(n),[no.Semantic]:n=>n}});try{return r.decodeFirst(t)}catch(n){throw new Error(`Failed to decode CBOR: ${n}, input: ${Jt(t)}`)}}const ni=()=>{if(typeof window<"u"&&window.crypto&&window.crypto.getRandomValues){const e=new Uint32Array(1);return window.crypto.getRandomValues(e),e[0]}if(typeof crypto<"u"&&crypto.getRandomValues){const e=new Uint32Array(1);return crypto.getRandomValues(e),e[0]}return typeof crypto<"u"&&crypto.randomInt?crypto.randomInt(0,4294967295):Math.floor(Math.random()*4294967295)};var io;(function(e){e.Call="call"})(io||(io={}));function so(){const e=new ArrayBuffer(16),t=new DataView(e),r=ni(),n=ni(),i=ni(),o=ni();return t.setUint32(0,r),t.setUint32(4,n),t.setUint32(8,i),t.setUint32(12,o),e}const aa=BigInt(1e6),Ld=60*1e3;class ii{constructor(t){if(t<90*1e3){const s=BigInt(Date.now()+t)*aa/BigInt(1e9);this._value=s*BigInt(1e9);return}const o=BigInt(Math.floor(Date.now()+t-Ld))*aa/BigInt(1e9)/BigInt(60)*BigInt(60)*BigInt(1e9);this._value=o}toCBOR(){return De.value.u64(this._value.toString(16),16)}toHash(){return qt(this._value)}}function ca(e=so){return async t=>{const r=t.request.headers;t.request.headers=r,t.endpoint==="call"&&(t.body.nonce=e())}}function Tn(e){const t=[];return e.forEach((r,n)=>{t.push([n,r])}),t}class Es extends $t{constructor(t,r){super(t),this.response=r,this.name=this.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}class Kd extends $t{constructor(t,r,n,i,o,a){super(t),this.response=r,this.requestId=n,this.senderPubkey=i,this.senderSig=o,this.ingressExpiry=a,this.name="AgentCallError",Object.setPrototypeOf(this,new.target.prototype)}}class Zd extends $t{constructor(t,r,n,i,o,a){super(t),this.response=r,this.requestId=n,this.senderPubkey=i,this.senderSig=o,this.ingressExpiry=a,this.name="AgentQueryError",Object.setPrototypeOf(this,new.target.prototype)}}class Xd extends $t{constructor(t,r,n,i,o,a){super(t),this.response=r,this.requestId=n,this.senderPubkey=i,this.senderSig=o,this.ingressExpiry=a,this.name="AgentReadStateError",Object.setPrototypeOf(this,new.target.prototype)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Io=BigInt(0),ji=BigInt(1);function kn(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function fu(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Io:BigInt("0x"+e)}function je(e){return fu(pn(e))}function Cn(e){return le(e),fu(pn(Uint8Array.from(e).reverse()))}function re(e,t){return Za(e.toString(16).padStart(t*2,"0"))}function es(e,t){return re(e,t).reverse()}function ge(e,t,r){let n;if(typeof t=="string")try{n=Za(t)}catch(o){throw new Error(e+" must be hex string or Uint8Array, cause: "+o)}else if(xo(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(e+" of length "+r+" expected, got "+i);return n}const vs=e=>typeof e=="bigint"&&Io<=e;function du(e,t,r){return vs(e)&&vs(t)&&vs(r)&&t<=e&&e<r}function An(e,t,r,n){if(!du(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function un(e){let t;for(t=0;e>Io;e>>=ji,t+=1);return t}function Dd(e,t){return e>>BigInt(t)&ji}const Fr=e=>(ji<<BigInt(e))-ji;function Jd(e){return typeof e=="function"&&Number.isSafeInteger(e.outputLen)}function Wn(e,t,r={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function n(i,o,a){const s=e[i];if(a&&s===void 0)return;const d=typeof s;if(d!==o||s===null)throw new Error(`param "${i}" is invalid: expected ${o}, got ${d}`)}Object.entries(t).forEach(([i,o])=>n(i,o,!1)),Object.entries(r).forEach(([i,o])=>n(i,o,!0))}const ua=()=>{throw new Error("not implemented")};function Mn(e){const t=new WeakMap;return(r,...n)=>{const i=t.get(r);if(i!==void 0)return i;const o=e(r,...n);return t.set(r,o),o}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ye=BigInt(0),ne=BigInt(1),Nr=BigInt(2),hu=BigInt(3),pu=BigInt(4),gu=BigInt(5),Qd=BigInt(7),yu=BigInt(8),th=BigInt(9),mu=BigInt(16);function jt(e,t){const r=e%t;return r>=ye?r:t+r}function Ie(e,t,r){let n=e;for(;t-- >ye;)n*=n,n%=r;return n}function la(e,t){if(e===ye)throw new Error("invert: expected non-zero number");if(t<=ye)throw new Error("invert: expected positive modulus, got "+t);let r=jt(e,t),n=t,i=ye,o=ne;for(;r!==ye;){const s=n/r,d=n%r,y=i-o*s;n=r,r=d,i=o,o=y}if(n!==ne)throw new Error("invert: does not exist");return jt(i,t)}function Oo(e,t,r){if(!e.eql(e.sqr(t),r))throw new Error("Cannot find square root")}function bu(e,t){const r=(e.ORDER+ne)/pu,n=e.pow(t,r);return Oo(e,n,t),n}function eh(e,t){const r=(e.ORDER-gu)/yu,n=e.mul(t,Nr),i=e.pow(n,r),o=e.mul(t,i),a=e.mul(e.mul(o,Nr),i),s=e.mul(o,e.sub(a,e.ONE));return Oo(e,s,t),s}function rh(e){const t=yr(e),r=wu(e),n=r(t,t.neg(t.ONE)),i=r(t,n),o=r(t,t.neg(n)),a=(e+Qd)/mu;return(s,d)=>{let y=s.pow(d,a),E=s.mul(y,n);const _=s.mul(y,i),w=s.mul(y,o),b=s.eql(s.sqr(E),d),h=s.eql(s.sqr(_),d);y=s.cmov(y,E,b),E=s.cmov(w,_,h);const O=s.eql(s.sqr(E),d),C=s.cmov(y,E,O);return Oo(s,C,d),C}}function wu(e){if(e<hu)throw new Error("sqrt is not defined for small field");let t=e-ne,r=0;for(;t%Nr===ye;)t/=Nr,r++;let n=Nr;const i=yr(e);for(;Vi(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return bu;let o=i.pow(n,t);const a=(t+ne)/Nr;return function(d,y){if(d.is0(y))return y;if(Vi(d,y)!==1)throw new Error("Cannot find square root");let E=r,_=d.mul(d.ONE,o),w=d.pow(y,t),b=d.pow(y,a);for(;!d.eql(w,d.ONE);){if(d.is0(w))return d.ZERO;let h=1,O=d.sqr(w);for(;!d.eql(O,d.ONE);)if(h++,O=d.sqr(O),h===E)throw new Error("Cannot find square root");const C=ne<<BigInt(E-h-1),H=d.pow(_,C);E=h,_=d.sqr(H),w=d.mul(w,_),b=d.mul(b,H)}return b}}function nh(e){return e%pu===hu?bu:e%yu===gu?eh:e%mu===th?rh(e):wu(e)}const ih=(e,t)=>(jt(e,t)&ne)===ne,sh=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function xu(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=sh.reduce((n,i)=>(n[i]="function",n),t);return Wn(e,r),e}function pi(e,t,r){if(r<ye)throw new Error("invalid exponent, negatives unsupported");if(r===ye)return e.ONE;if(r===ne)return t;let n=e.ONE,i=t;for(;r>ye;)r&ne&&(n=e.mul(n,i)),i=e.sqr(i),r>>=ne;return n}function kr(e,t,r=!1){const n=new Array(t.length).fill(r?e.ZERO:void 0),i=t.reduce((a,s,d)=>e.is0(s)?a:(n[d]=a,e.mul(a,s)),e.ONE),o=e.inv(i);return t.reduceRight((a,s,d)=>e.is0(s)?a:(n[d]=e.mul(a,n[d]),e.mul(a,s)),o),n}function Vi(e,t){const r=(e.ORDER-ne)/Nr,n=e.pow(t,r),i=e.eql(n,e.ONE),o=e.eql(n,e.ZERO),a=e.eql(n,e.neg(e.ONE));if(!i&&!o&&!a)throw new Error("invalid Legendre symbol result");return i?1:o?0:-1}function oh(e,t){t!==void 0&&m0(t);const r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function yr(e,t,r=!1,n={}){if(e<=ye)throw new Error("invalid field: expected ORDER > 0, got "+e);let i,o,a=!1,s;if(typeof t=="object"&&t!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const w=t;w.BITS&&(i=w.BITS),w.sqrt&&(o=w.sqrt),typeof w.isLE=="boolean"&&(r=w.isLE),typeof w.modOnDecode=="boolean"&&(a=w.modOnDecode),s=w.allowedLengths}else typeof t=="number"&&(i=t),n.sqrt&&(o=n.sqrt);const{nBitLength:d,nByteLength:y}=oh(e,i);if(y>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let E;const _=Object.freeze({ORDER:e,isLE:r,BITS:d,BYTES:y,MASK:Fr(d),ZERO:ye,ONE:ne,allowedLengths:s,create:w=>jt(w,e),isValid:w=>{if(typeof w!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof w);return ye<=w&&w<e},is0:w=>w===ye,isValidNot0:w=>!_.is0(w)&&_.isValid(w),isOdd:w=>(w&ne)===ne,neg:w=>jt(-w,e),eql:(w,b)=>w===b,sqr:w=>jt(w*w,e),add:(w,b)=>jt(w+b,e),sub:(w,b)=>jt(w-b,e),mul:(w,b)=>jt(w*b,e),pow:(w,b)=>pi(_,w,b),div:(w,b)=>jt(w*la(b,e),e),sqrN:w=>w*w,addN:(w,b)=>w+b,subN:(w,b)=>w-b,mulN:(w,b)=>w*b,inv:w=>la(w,e),sqrt:o||(w=>(E||(E=nh(e)),E(_,w))),toBytes:w=>r?es(w,y):re(w,y),fromBytes:(w,b=!0)=>{if(s){if(!s.includes(w.length)||w.length>y)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+w.length);const O=new Uint8Array(y);O.set(w,r?0:O.length-w.length),w=O}if(w.length!==y)throw new Error("Field.fromBytes: expected "+y+" bytes, got "+w.length);let h=r?Cn(w):je(w);if(a&&(h=jt(h,e)),!b&&!_.isValid(h))throw new Error("invalid field element: outside of range 0..ORDER");return h},invertBatch:w=>kr(_,w),cmov:(w,b,h)=>h?b:w});return Object.freeze(_)}function _u(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function Eu(e){const t=_u(e);return t+Math.ceil(t/2)}function ah(e,t,r=!1){const n=e.length,i=_u(t),o=Eu(t);if(n<16||n<o||n>1024)throw new Error("expected "+o+"-1024 bytes of input, got "+n);const a=r?Cn(e):je(e),s=jt(a,t-ne)+ne;return r?es(s,i):re(s,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yn=BigInt(0),Rr=BigInt(1);function Gi(e,t){const r=t.negate();return e?r:t}function Qe(e,t){const r=kr(e.Fp,t.map(n=>n.Z));return t.map((n,i)=>e.fromAffine(n.toAffine(r[i])))}function vu(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Bs(e,t){vu(e,t);const r=Math.ceil(t/e)+1,n=2**(e-1),i=2**e,o=Fr(e),a=BigInt(e);return{windows:r,windowSize:n,mask:o,maxNumber:i,shiftBy:a}}function fa(e,t,r){const{windowSize:n,mask:i,maxNumber:o,shiftBy:a}=r;let s=Number(e&i),d=e>>a;s>n&&(s-=o,d+=Rr);const y=t*n,E=y+Math.abs(s)-1,_=s===0,w=s<0,b=t%2!==0;return{nextN:d,offset:E,isZero:_,isNeg:w,isNegF:b,offsetF:y}}function ch(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function uh(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}const Ss=new WeakMap,Bu=new WeakMap;function Ts(e){return Bu.get(e)||1}function da(e){if(e!==yn)throw new Error("invalid wNAF")}class Su{constructor(t,r){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=r}_unsafeLadder(t,r,n=this.ZERO){let i=t;for(;r>yn;)r&Rr&&(n=n.add(i)),i=i.double(),r>>=Rr;return n}precomputeWindow(t,r){const{windows:n,windowSize:i}=Bs(r,this.bits),o=[];let a=t,s=a;for(let d=0;d<n;d++){s=a,o.push(s);for(let y=1;y<i;y++)s=s.add(a),o.push(s);a=s.double()}return o}wNAF(t,r,n){if(!this.Fn.isValid(n))throw new Error("invalid scalar");let i=this.ZERO,o=this.BASE;const a=Bs(t,this.bits);for(let s=0;s<a.windows;s++){const{nextN:d,offset:y,isZero:E,isNeg:_,isNegF:w,offsetF:b}=fa(n,s,a);n=d,E?o=o.add(Gi(w,r[b])):i=i.add(Gi(_,r[y]))}return da(n),{p:i,f:o}}wNAFUnsafe(t,r,n,i=this.ZERO){const o=Bs(t,this.bits);for(let a=0;a<o.windows&&n!==yn;a++){const{nextN:s,offset:d,isZero:y,isNeg:E}=fa(n,a,o);if(n=s,!y){const _=r[d];i=i.add(E?_.negate():_)}}return da(n),i}getPrecomputes(t,r,n){let i=Ss.get(r);return i||(i=this.precomputeWindow(r,t),t!==1&&(typeof n=="function"&&(i=n(i)),Ss.set(r,i))),i}cached(t,r,n){const i=Ts(t);return this.wNAF(i,this.getPrecomputes(i,t,n),r)}unsafe(t,r,n,i){const o=Ts(t);return o===1?this._unsafeLadder(t,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,t,n),r,i)}createCache(t,r){vu(r,this.bits),Bu.set(t,r),Ss.delete(t)}hasCache(t){return Ts(t)!==1}}function lh(e,t,r,n){let i=t,o=e.ZERO,a=e.ZERO;for(;r>yn||n>yn;)r&Rr&&(o=o.add(i)),n&Rr&&(a=a.add(i)),i=i.double(),r>>=Rr,n>>=Rr;return{p1:o,p2:a}}function Tu(e,t,r,n){ch(r,e),uh(n,t);const i=r.length,o=n.length;if(i!==o)throw new Error("arrays of points and scalars must have equal length");const a=e.ZERO,s=un(BigInt(i));let d=1;s>12?d=s-3:s>4?d=s-2:s>0&&(d=2);const y=Fr(d),E=new Array(Number(y)+1).fill(a),_=Math.floor((t.BITS-1)/d)*d;let w=a;for(let b=_;b>=0;b-=d){E.fill(a);for(let O=0;O<o;O++){const C=n[O],H=Number(C>>BigInt(b)&y);E[H]=E[H].add(r[O])}let h=a;for(let O=E.length-1,C=a;O>0;O--)C=C.add(E[O]),h=h.add(C);if(w=w.add(h),b!==0)for(let O=0;O<d;O++)w=w.double()}return w}function ha(e,t){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return xu(t),t}else return yr(e)}function Au(e,t,r={}){if(!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const s of["p","n","h"]){const d=t[s];if(!(typeof d=="bigint"&&d>yn))throw new Error(`CURVE.${s} must be positive bigint`)}const n=ha(t.p,r.Fp),i=ha(t.n,r.Fn),a=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const s of a)if(!n.isValid(t[s]))throw new Error(`CURVE.${s} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}const fh=je;function lr(e,t){if(Pn(e),Pn(t),e<0||e>=1<<8*t)throw new Error("invalid I2OSP input: "+e);const r=Array.from({length:t}).fill(0);for(let n=t-1;n>=0;n--)r[n]=e&255,e>>>=8;return new Uint8Array(r)}function dh(e,t){const r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]^t[n];return r}function Pn(e){if(!Number.isSafeInteger(e))throw new Error("number expected")}function Nu(e){if(!xo(e)&&typeof e!="string")throw new Error("DST must be Uint8Array or string");return typeof e=="string"?Vn(e):e}function hh(e,t,r,n){le(e),Pn(r),t=Nu(t),t.length>255&&(t=n(Vt(Vn("H2C-OVERSIZE-DST-"),t)));const{outputLen:i,blockLen:o}=n,a=Math.ceil(r/i);if(r>65535||a>255)throw new Error("expand_message_xmd: invalid lenInBytes");const s=Vt(t,lr(t.length,1)),d=lr(0,o),y=lr(r,2),E=new Array(a),_=n(Vt(d,e,y,lr(0,1),s));E[0]=n(Vt(_,lr(1,1),s));for(let b=1;b<=a;b++){const h=[dh(_,E[b-1]),lr(b+1,1),s];E[b]=n(Vt(...h))}return Vt(...E).slice(0,r)}function ph(e,t,r,n,i){if(le(e),Pn(r),t=Nu(t),t.length>255){const o=Math.ceil(2*n/8);t=i.create({dkLen:o}).update(Vn("H2C-OVERSIZE-DST-")).update(t).digest()}if(r>65535||t.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:r}).update(e).update(lr(r,2)).update(t).update(lr(t.length,1)).digest()}function As(e,t,r){Wn(r,{p:"bigint",m:"number",k:"number",hash:"function"});const{p:n,k:i,m:o,hash:a,expand:s,DST:d}=r;if(!Jd(r.hash))throw new Error("expected valid hash");le(e),Pn(t);const y=n.toString(2).length,E=Math.ceil((y+i)/8),_=t*o*E;let w;if(s==="xmd")w=hh(e,d,_,a);else if(s==="xof")w=ph(e,d,_,i,a);else if(s==="_internal_pass")w=e;else throw new Error('expand must be "xmd" or "xof"');const b=new Array(t);for(let h=0;h<t;h++){const O=new Array(o);for(let C=0;C<o;C++){const H=E*(C+h*o),G=w.subarray(H,H+E);O[C]=jt(fh(G),n)}b[h]=O}return b}function Ru(e,t){const r=t.map(n=>Array.from(n).reverse());return(n,i)=>{const[o,a,s,d]=r.map(_=>_.reduce((w,b)=>e.add(e.mul(w,n),b))),[y,E]=kr(e,[a,d],!0);return n=e.mul(o,y),i=e.mul(i,e.mul(s,E)),{x:n,y:i}}}const gh=Vn("HashToScalar-");function pa(e,t,r){if(typeof t!="function")throw new Error("mapToCurve() must be defined");function n(o){return e.fromAffine(t(o))}function i(o){const a=o.clearCofactor();return a.equals(e.ZERO)?e.ZERO:(a.assertValidity(),a)}return{defaults:r,hashToCurve(o,a){const s=Object.assign({},r,a),d=As(o,2,s),y=n(d[0]),E=n(d[1]);return i(y.add(E))},encodeToCurve(o,a){const s=r.encodeDST?{DST:r.encodeDST}:{},d=Object.assign({},r,s,a),y=As(o,1,d),E=n(y[0]);return i(E)},mapToCurve(o){if(!Array.isArray(o))throw new Error("expected array of bigints");for(const a of o)if(typeof a!="bigint")throw new Error("expected array of bigints");return i(n(o))},hashToScalar(o,a){const s=e.Fn.ORDER,d=Object.assign({},r,{p:s,m:1,DST:gh},a);return As(o,1,d)[0][0]}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ga=(e,t)=>(e+(e>=0?t:-t)/Ye)/t;function yh(e,t,r){const[[n,i],[o,a]]=t,s=ga(a*e,r),d=ga(-i*e,r);let y=e-s*n-d*o,E=-s*i-d*a;const _=y<Ir,w=E<Ir;_&&(y=-y),w&&(E=-E);const b=Fr(Math.ceil(un(r)/2))+pe;if(y<Ir||y>=b||E<Ir||E>=b)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:_,k1:y,k2neg:w,k2:E}}const Ir=BigInt(0),pe=BigInt(1),Ye=BigInt(2),nn=BigInt(3),oo=BigInt(4);function Iu(e,t,r){function n(i){const o=e.sqr(i),a=e.mul(o,i);return e.add(e.add(a,e.mul(i,t)),r)}return n}function Hi(e,t){const{BYTES:r}=e;let n;if(typeof t=="bigint")n=t;else{let i=ge("private key",t);try{n=e.fromBytes(i)}catch{throw new Error(`invalid private key: expected ui8a of size ${r}, got ${typeof t}`)}}if(!e.isValidNot0(n))throw new Error("invalid private key: out of range [1..N-1]");return n}function mh(e,t={}){const{Fp:r,Fn:n}=Au("weierstrass",e,t),{h:i,n:o}=e;Wn(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:a}=t;if(a&&(!r.is0(e.a)||typeof a.beta!="bigint"||!Array.isArray(a.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');function s(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d(nt,I,L){const{x:X,y:x}=I.toAffine(),N=r.toBytes(X);if(kn("isCompressed",L),L){s();const F=!r.isOdd(x);return Vt(bh(F),N)}else return Vt(Uint8Array.of(4),N,r.toBytes(x))}function y(nt){le(nt);const I=r.BYTES,L=I+1,X=2*I+1,x=nt.length,N=nt[0],F=nt.subarray(1);if(x===L&&(N===2||N===3)){const D=r.fromBytes(F);if(!r.isValid(D))throw new Error("bad point: is not on curve, wrong x");const Q=w(D);let W;try{W=r.sqrt(Q)}catch(it){const st=it instanceof Error?": "+it.message:"";throw new Error("bad point: is not on curve, sqrt error"+st)}s();const J=r.isOdd(W);return(N&1)===1!==J&&(W=r.neg(W)),{x:D,y:W}}else if(x===X&&N===4){const D=r.fromBytes(F.subarray(I*0,I*1)),Q=r.fromBytes(F.subarray(I*1,I*2));if(!b(D,Q))throw new Error("bad point: is not on curve");return{x:D,y:Q}}else throw new Error(`bad point: got length ${x}, expected compressed=${L} or uncompressed=${X}`)}const E=t.toBytes||d,_=t.fromBytes||y,w=Iu(r,e.a,e.b);function b(nt,I){const L=r.sqr(I),X=w(nt);return r.eql(L,X)}if(!b(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const h=r.mul(r.pow(e.a,nn),oo),O=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(h,O)))throw new Error("bad curve params: a or b");function C(nt,I,L=!1){if(!r.isValid(I)||L&&r.is0(I))throw new Error(`bad point coordinate ${nt}`);return I}function H(nt){if(!(nt instanceof P))throw new Error("ProjectivePoint expected")}function G(nt){if(!a||!a.basises)throw new Error("no endo");return yh(nt,a.basises,n.ORDER)}const j=Mn((nt,I)=>{const{X:L,Y:X,Z:x}=nt;if(r.eql(x,r.ONE))return{x:L,y:X};const N=nt.is0();I==null&&(I=N?r.ONE:r.inv(x));const F=r.mul(L,I),D=r.mul(X,I),Q=r.mul(x,I);if(N)return{x:r.ZERO,y:r.ZERO};if(!r.eql(Q,r.ONE))throw new Error("invZ was invalid");return{x:F,y:D}}),K=Mn(nt=>{if(nt.is0()){if(t.allowInfinityPoint&&!r.is0(nt.Y))return;throw new Error("bad point: ZERO")}const{x:I,y:L}=nt.toAffine();if(!r.isValid(I)||!r.isValid(L))throw new Error("bad point: x or y not field elements");if(!b(I,L))throw new Error("bad point: equation left != right");if(!nt.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function R(nt,I,L,X,x){return L=new P(r.mul(L.X,nt),L.Y,L.Z),I=Gi(X,I),L=Gi(x,L),I.add(L)}class P{constructor(I,L,X){this.X=C("x",I),this.Y=C("y",L,!0),this.Z=C("z",X),Object.freeze(this)}static fromAffine(I){const{x:L,y:X}=I||{};if(!I||!r.isValid(L)||!r.isValid(X))throw new Error("invalid affine point");if(I instanceof P)throw new Error("projective point not allowed");return r.is0(L)&&r.is0(X)?P.ZERO:new P(L,X,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}static normalizeZ(I){return Qe(P,I)}static fromBytes(I){return le(I),P.fromHex(I)}static fromHex(I){const L=P.fromAffine(_(ge("pointHex",I)));return L.assertValidity(),L}static fromPrivateKey(I){return P.BASE.multiply(Hi(n,I))}static msm(I,L){return Tu(P,n,I,L)}_setWindowSize(I){this.precompute(I)}precompute(I=8,L=!0){return rt.createCache(this,I),L||this.multiply(nn),this}assertValidity(){K(this)}hasEvenY(){const{y:I}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(I)}equals(I){H(I);const{X:L,Y:X,Z:x}=this,{X:N,Y:F,Z:D}=I,Q=r.eql(r.mul(L,D),r.mul(N,x)),W=r.eql(r.mul(X,D),r.mul(F,x));return Q&&W}negate(){return new P(this.X,r.neg(this.Y),this.Z)}double(){const{a:I,b:L}=e,X=r.mul(L,nn),{X:x,Y:N,Z:F}=this;let D=r.ZERO,Q=r.ZERO,W=r.ZERO,J=r.mul(x,x),lt=r.mul(N,N),it=r.mul(F,F),st=r.mul(x,N);return st=r.add(st,st),W=r.mul(x,F),W=r.add(W,W),D=r.mul(I,W),Q=r.mul(X,it),Q=r.add(D,Q),D=r.sub(lt,Q),Q=r.add(lt,Q),Q=r.mul(D,Q),D=r.mul(st,D),W=r.mul(X,W),it=r.mul(I,it),st=r.sub(J,it),st=r.mul(I,st),st=r.add(st,W),W=r.add(J,J),J=r.add(W,J),J=r.add(J,it),J=r.mul(J,st),Q=r.add(Q,J),it=r.mul(N,F),it=r.add(it,it),J=r.mul(it,st),D=r.sub(D,J),W=r.mul(it,lt),W=r.add(W,W),W=r.add(W,W),new P(D,Q,W)}add(I){H(I);const{X:L,Y:X,Z:x}=this,{X:N,Y:F,Z:D}=I;let Q=r.ZERO,W=r.ZERO,J=r.ZERO;const lt=e.a,it=r.mul(e.b,nn);let st=r.mul(L,N),Et=r.mul(X,F),S=r.mul(x,D),Ot=r.add(L,X),Bt=r.add(N,F);Ot=r.mul(Ot,Bt),Bt=r.add(st,Et),Ot=r.sub(Ot,Bt),Bt=r.add(L,x);let Ut=r.add(N,D);return Bt=r.mul(Bt,Ut),Ut=r.add(st,S),Bt=r.sub(Bt,Ut),Ut=r.add(X,x),Q=r.add(F,D),Ut=r.mul(Ut,Q),Q=r.add(Et,S),Ut=r.sub(Ut,Q),J=r.mul(lt,Bt),Q=r.mul(it,S),J=r.add(Q,J),Q=r.sub(Et,J),J=r.add(Et,J),W=r.mul(Q,J),Et=r.add(st,st),Et=r.add(Et,st),S=r.mul(lt,S),Bt=r.mul(it,Bt),Et=r.add(Et,S),S=r.sub(st,S),S=r.mul(lt,S),Bt=r.add(Bt,S),st=r.mul(Et,Bt),W=r.add(W,st),st=r.mul(Ut,Bt),Q=r.mul(Ot,Q),Q=r.sub(Q,st),st=r.mul(Ot,Et),J=r.mul(Ut,J),J=r.add(J,st),new P(Q,W,J)}subtract(I){return this.add(I.negate())}is0(){return this.equals(P.ZERO)}multiply(I){const{endo:L}=t;if(!n.isValidNot0(I))throw new Error("invalid scalar: out of range");let X,x;const N=F=>rt.cached(this,F,D=>Qe(P,D));if(L){const{k1neg:F,k1:D,k2neg:Q,k2:W}=G(I),{p:J,f:lt}=N(D),{p:it,f:st}=N(W);x=lt.add(st),X=R(L.beta,J,it,F,Q)}else{const{p:F,f:D}=N(I);X=F,x=D}return Qe(P,[X,x])[0]}multiplyUnsafe(I){const{endo:L}=t,X=this;if(!n.isValid(I))throw new Error("invalid scalar: out of range");if(I===Ir||X.is0())return P.ZERO;if(I===pe)return X;if(rt.hasCache(this))return this.multiply(I);if(L){const{k1neg:x,k1:N,k2neg:F,k2:D}=G(I),{p1:Q,p2:W}=lh(P,X,N,D);return R(L.beta,Q,W,x,F)}else return rt.unsafe(X,I)}multiplyAndAddUnsafe(I,L,X){const x=this.multiplyUnsafe(L).add(I.multiplyUnsafe(X));return x.is0()?void 0:x}toAffine(I){return j(this,I)}isTorsionFree(){const{isTorsionFree:I}=t;return i===pe?!0:I?I(P,this):rt.unsafe(this,o).is0()}clearCofactor(){const{clearCofactor:I}=t;return i===pe?this:I?I(P,this):this.multiplyUnsafe(i)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}toBytes(I=!0){return kn("isCompressed",I),this.assertValidity(),E(P,this,I)}toRawBytes(I=!0){return this.toBytes(I)}toHex(I=!0){return pn(this.toBytes(I))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}P.BASE=new P(e.Gx,e.Gy,r.ONE),P.ZERO=new P(r.ZERO,r.ONE,r.ZERO),P.Fp=r,P.Fn=n;const q=n.BITS,rt=new Su(P,t.endo?Math.ceil(q/2):q);return P}function ya(e){const{CURVE:t,curveOpts:r}=xh(e),n=mh(t,r);return _h(e,n)}function bh(e){return Uint8Array.of(e?2:3)}function wh(e,t){const r=e.ORDER;let n=Ir;for(let h=r-pe;h%Ye===Ir;h/=Ye)n+=pe;const i=n,o=Ye<<i-pe-pe,a=o*Ye,s=(r-pe)/a,d=(s-pe)/Ye,y=a-pe,E=o,_=e.pow(t,s),w=e.pow(t,(s+pe)/Ye);let b=(h,O)=>{let C=_,H=e.pow(O,y),G=e.sqr(H);G=e.mul(G,O);let j=e.mul(h,G);j=e.pow(j,d),j=e.mul(j,H),H=e.mul(j,O),G=e.mul(j,h);let K=e.mul(G,H);j=e.pow(K,E);let R=e.eql(j,e.ONE);H=e.mul(G,w),j=e.mul(K,C),G=e.cmov(H,G,R),K=e.cmov(j,K,R);for(let P=i;P>pe;P--){let q=P-Ye;q=Ye<<q-pe;let rt=e.pow(K,q);const nt=e.eql(rt,e.ONE);H=e.mul(G,C),C=e.mul(C,C),rt=e.mul(K,C),G=e.cmov(H,G,nt),K=e.cmov(rt,K,nt)}return{isValid:R,value:G}};if(e.ORDER%oo===nn){const h=(e.ORDER-nn)/oo,O=e.sqrt(e.neg(t));b=(C,H)=>{let G=e.sqr(H);const j=e.mul(C,H);G=e.mul(G,j);let K=e.pow(G,h);K=e.mul(K,j);const R=e.mul(K,O),P=e.mul(e.sqr(K),H),q=e.eql(P,C);let rt=e.cmov(R,K,q);return{isValid:q,value:rt}}}return b}function Ou(e,t){xu(e);const{A:r,B:n,Z:i}=t;if(!e.isValid(r)||!e.isValid(n)||!e.isValid(i))throw new Error("mapToCurveSimpleSWU: invalid opts");const o=wh(e,i);if(!e.isOdd)throw new Error("Field does not have .isOdd()");return a=>{let s,d,y,E,_,w,b,h;s=e.sqr(a),s=e.mul(s,i),d=e.sqr(s),d=e.add(d,s),y=e.add(d,e.ONE),y=e.mul(y,n),E=e.cmov(i,e.neg(d),!e.eql(d,e.ZERO)),E=e.mul(E,r),d=e.sqr(y),w=e.sqr(E),_=e.mul(w,r),d=e.add(d,_),d=e.mul(d,y),w=e.mul(w,E),_=e.mul(w,n),d=e.add(d,_),b=e.mul(s,y);const{isValid:O,value:C}=o(d,w);h=e.mul(s,a),h=e.mul(h,C),b=e.cmov(b,y,O),h=e.cmov(h,C,O);const H=e.isOdd(a)===e.isOdd(h);h=e.cmov(e.neg(h),h,H);const G=kr(e,[E],!0)[0];return b=e.mul(b,G),{x:b,y:h}}}function xh(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp;let n=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(a=>Math.ceil(a/2)))):void 0;const i=yr(t.n,{BITS:e.nBitLength,allowedLengths:n,modOnDecode:e.wrapPrivateKey}),o={Fp:r,Fn:i,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:o}}function _h(e,t){const{Fp:r,Fn:n}=t;function i(a){return du(a,pe,n.ORDER)}const o=Iu(r,e.a,e.b);return Object.assign({},{CURVE:e,Point:t,ProjectivePoint:t,normPrivateKeyToScalar:a=>Hi(n,a),weierstrassEquation:o,isWithinCurveOrder:i})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Eh=BigInt(0),si=BigInt(1),ma=BigInt(2),sn=BigInt(3);function vh(e){const t=[];for(;e>si;e>>=si)(e&si)===Eh?t.unshift(0):(e&sn)===sn?(t.unshift(-1),e+=si):t.unshift(1);return t}function Ns(e){if(!Array.isArray(e)||e.length===0)throw new Error("expected non-empty array")}function Bh(e,t,r,n){const{Fp2:i,Fp12:o}=e,{twistType:a,ateLoopSize:s,xNegative:d,postPrecompute:y}=n;let E;if(a==="multiplicative")E=(j,K,R,P,q,rt)=>o.mul014(P,j,i.mul(K,q),i.mul(R,rt));else if(a==="divisive")E=(j,K,R,P,q,rt)=>o.mul034(P,i.mul(R,rt),i.mul(K,q),j);else throw new Error("bls: unknown twist type");const _=i.div(i.ONE,i.mul(i.ONE,ma));function w(j,K,R,P){const q=i.sqr(R),rt=i.sqr(P),nt=i.mulByB(i.mul(rt,sn)),I=i.mul(nt,sn),L=i.sub(i.sub(i.sqr(i.add(R,P)),rt),q),X=i.sub(nt,q),x=i.mul(i.sqr(K),sn),N=i.neg(L);return j.push([X,x,N]),K=i.mul(i.mul(i.mul(i.sub(q,I),K),R),_),R=i.sub(i.sqr(i.mul(i.add(q,I),_)),i.mul(i.sqr(nt),sn)),P=i.mul(q,L),{Rx:K,Ry:R,Rz:P}}function b(j,K,R,P,q,rt){const nt=i.sub(R,i.mul(rt,P)),I=i.sub(K,i.mul(q,P)),L=i.sub(i.mul(nt,q),i.mul(I,rt)),X=i.neg(nt),x=I;j.push([L,X,x]);const N=i.sqr(I),F=i.mul(N,I),D=i.mul(N,K),Q=i.add(i.sub(F,i.mul(D,ma)),i.mul(i.sqr(nt),P));return K=i.mul(I,Q),R=i.sub(i.mul(i.sub(D,Q),nt),i.mul(F,R)),P=i.mul(P,F),{Rx:K,Ry:R,Rz:P}}const h=vh(s),O=Mn(j=>{const K=j,{x:R,y:P}=K.toAffine(),q=R,rt=P,nt=i.neg(P);let I=q,L=rt,X=i.ONE;const x=[];for(const N of h){const F=[];({Rx:I,Ry:L,Rz:X}=w(F,I,L,X)),N&&({Rx:I,Ry:L,Rz:X}=b(F,I,L,X,q,N===-1?nt:rt)),x.push(F)}if(y){const N=x[x.length-1];y(I,L,X,q,rt,b.bind(null,N))}return x});function C(j,K=!1){let R=o.ONE;if(j.length){const P=j[0][0].length;for(let q=0;q<P;q++){R=o.sqr(R);for(const[rt,nt,I]of j)for(const[L,X,x]of rt[q])R=E(L,X,x,R,nt,I)}}return d&&(R=o.conjugate(R)),K?o.finalExponentiate(R):R}function H(j,K=!0){const R=[];Qe(t,j.map(({g1:P})=>P)),Qe(r,j.map(({g2:P})=>P));for(const{g1:P,g2:q}of j){if(P.is0()||q.is0())throw new Error("pairing is not available for ZERO point");P.assertValidity(),q.assertValidity();const rt=P.toAffine();R.push([O(q),rt.x,rt.y])}return C(R,K)}function G(j,K,R=!0){return H([{g1:j,g2:K}],R)}return{Fp12:o,millerLoopBatch:C,pairing:G,pairingBatch:H,calcPairingPrecomputes:O}}function ba(e,t,r,n,i){const{Fp12:o,pairingBatch:a}=e;function s(_){return _ instanceof t.Point?_:t.Point.fromHex(_)}function d(_){return _ instanceof r.Point?_:r.Point.fromHex(_)}function y(_){if(!(_ instanceof r.Point))throw new Error(`expected valid message hashed to ${i?"G1":"G2"} curve`);return _}const E=i?(_,w)=>({g1:w,g2:_}):(_,w)=>({g1:_,g2:w});return{getPublicKey(_){const w=Hi(t.Point.Fn,_);return t.Point.BASE.multiply(w)},sign(_,w,b){if(b!=null)throw new Error("sign() expects 2 arguments");const h=Hi(t.Point.Fn,w);return y(_).assertValidity(),_.multiply(h)},verify(_,w,b,h){if(h!=null)throw new Error("verify() expects 3 arguments");_=d(_),b=s(b);const O=b.negate(),C=t.Point.BASE,H=y(w),G=_,j=a([E(O,H),E(C,G)]);return o.eql(j,o.ONE)},verifyBatch(_,w,b){if(Ns(w),b.length!==w.length)throw new Error("amount of public keys and messages should be equal");const h=d(_),O=w,C=b.map(s),H=new Map;for(let K=0;K<C.length;K++){const R=C[K],P=O[K];let q=H.get(P);q===void 0&&(q=[],H.set(P,q)),q.push(R)}const G=[],j=t.Point.BASE;try{for(const[K,R]of H){const P=R.reduce((q,rt)=>q.add(rt));G.push(E(P,K))}return G.push(E(j.negate(),h)),o.eql(a(G),o.ONE)}catch{return!1}},aggregatePublicKeys(_){Ns(_),_=_.map(b=>s(b));const w=_.reduce((b,h)=>b.add(h),t.Point.ZERO);return w.assertValidity(),w},aggregateSignatures(_){Ns(_),_=_.map(b=>d(b));const w=_.reduce((b,h)=>b.add(h),r.Point.ZERO);return w.assertValidity(),w},hash(_,w){le(_);const b=w?{DST:w}:void 0;return r.hashToCurve(_,b)},Signature:n}}function Sh(e){const{Fp:t,Fr:r,Fp2:n,Fp6:i,Fp12:o}=e.fields,a=ya(e.G1),s=Object.assign(a,pa(a.Point,e.G1.mapToCurve,{...e.htfDefaults,...e.G1.htfDefaults})),d=ya(e.G2),y=Object.assign(d,pa(d.Point,e.G2.mapToCurve,{...e.htfDefaults,...e.G2.htfDefaults})),E=Bh(e.fields,s.Point,y.Point,{...e.params,postPrecompute:e.postPrecompute}),{millerLoopBatch:_,pairing:w,pairingBatch:b,calcPairingPrecomputes:h}=E,O=ba(E,s,y,e.G2.Signature,!1),C=ba(E,y,s,e.G1.ShortSignature,!0),H=e.randomBytes||Da,G=()=>{const W=Eu(r.ORDER);return ah(H(W),r.ORDER)},j={randomSecretKey:G,randomPrivateKey:G,calcPairingPrecomputes:h},{ShortSignature:K}=e.G1,{Signature:R}=e.G2;function P(W,J){return W instanceof s.Point?W:C.hash(ge("point",W),J==null?void 0:J.DST)}function q(W,J){return W instanceof y.Point?W:O.hash(ge("point",W),J==null?void 0:J.DST)}function rt(W){return O.getPublicKey(W).toBytes(!0)}function nt(W){return C.getPublicKey(W).toBytes(!0)}function I(W,J,lt){const it=q(W,lt),st=O.sign(it,J);return W instanceof y.Point?st:R.toBytes(st)}function L(W,J,lt){const it=P(W,lt),st=C.sign(it,J);return W instanceof s.Point?st:K.toBytes(st)}function X(W,J,lt,it){const st=q(J,it);return O.verify(W,st,lt)}function x(W,J,lt,it){const st=P(J,it);return C.verify(W,st,lt)}function N(W){const J=O.aggregatePublicKeys(W);return W[0]instanceof s.Point?J:J.toBytes(!0)}function F(W){const J=O.aggregateSignatures(W);return W[0]instanceof y.Point?J:R.toBytes(J)}function D(W){const J=C.aggregateSignatures(W);return W[0]instanceof s.Point?J:K.toBytes(J)}function Q(W,J,lt,it){const st=J.map(Et=>q(Et,it));return O.verifyBatch(W,st,lt)}return s.Point.BASE.precompute(4),{longSignatures:O,shortSignatures:C,millerLoopBatch:_,pairing:w,pairingBatch:b,verifyBatch:Q,fields:{Fr:r,Fp:t,Fp2:n,Fp6:i,Fp12:o},params:{ateLoopSize:e.params.ateLoopSize,twistType:e.params.twistType,r:e.params.r,G1b:e.G1.b,G2b:e.G2.b},utils:j,getPublicKey:rt,getPublicKeyForShortSignatures:nt,sign:I,signShortSignature:L,verify:X,verifyShortSignature:x,aggregatePublicKeys:N,aggregateSignatures:F,aggregateShortSignatures:D,G1:s,G2:y,Signature:R,ShortSignature:K}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wa=BigInt(0),on=BigInt(1),Ze=BigInt(2),xa=BigInt(3);function Rs(e,t,r,n,i=1,o){const a=BigInt(o===void 0?n:o),s=r**BigInt(n),d=[];for(let y=0;y<i;y++){const E=BigInt(y+1),_=[];for(let w=0,b=on;w<n;w++){const h=(E*b-E)/a%s;_.push(e.pow(t,h)),b*=r}d.push(_)}return d}function Th(e,t,r){const n=t.pow(r,(e.ORDER-on)/xa),i=t.pow(r,(e.ORDER-on)/Ze);function o(w,b){const h=t.mul(t.frobeniusMap(w,1),n),O=t.mul(t.frobeniusMap(b,1),i);return[h,O]}const a=t.pow(r,(e.ORDER**Ze-on)/xa),s=t.pow(r,(e.ORDER**Ze-on)/Ze);if(!t.eql(s,t.neg(t.ONE)))throw new Error("psiFrobenius: PSI2_Y!==-1");function d(w,b){return[t.mul(w,a),t.neg(b)]}const y=w=>(b,h)=>{const O=h.toAffine(),C=w(O.x,O.y);return b.fromAffine({x:C[0],y:C[1]})},E=y(o),_=y(d);return{psi:o,psi2:d,G2psi:E,G2psi2:_,PSI_X:n,PSI_Y:i,PSI2_X:a,PSI2_Y:s}}function Ah(e){const{ORDER:t}=e,r=yr(t),n=r.create(e.NONRESIDUE||BigInt(-1)),i=r.div(r.ONE,Ze),o=Rs(r,n,r.ORDER,2)[0],a=({c0:x,c1:N},{c0:F,c1:D})=>({c0:r.add(x,F),c1:r.add(N,D)}),s=({c0:x,c1:N},{c0:F,c1:D})=>({c0:r.sub(x,F),c1:r.sub(N,D)}),d=({c0:x,c1:N},F)=>{if(typeof F=="bigint")return{c0:r.mul(x,F),c1:r.mul(N,F)};const{c0:D,c1:Q}=F;let W=r.mul(x,D),J=r.mul(N,Q);const lt=r.sub(W,J),it=r.sub(r.mul(r.add(x,N),r.add(D,Q)),r.add(W,J));return{c0:lt,c1:it}},y=({c0:x,c1:N})=>{const F=r.add(x,N),D=r.sub(x,N),Q=r.add(x,x);return{c0:r.mul(F,D),c1:r.mul(Q,N)}},E=x=>{if(x.length!==2)throw new Error("invalid tuple");const N=x.map(F=>r.create(F));return{c0:N[0],c1:N[1]}};function _(x,N){return typeof x=="bigint"&&wa<=x&&x<N}const w=t*t,b=E(e.FP2_NONRESIDUE),h={ORDER:w,isLE:r.isLE,NONRESIDUE:b,BITS:un(w),BYTES:Math.ceil(un(w)/8),MASK:Fr(un(w)),ZERO:{c0:r.ZERO,c1:r.ZERO},ONE:{c0:r.ONE,c1:r.ZERO},create:x=>x,isValid:({c0:x,c1:N})=>_(x,w)&&_(N,w),is0:({c0:x,c1:N})=>r.is0(x)&&r.is0(N),isValidNot0:x=>!h.is0(x)&&h.isValid(x),eql:({c0:x,c1:N},{c0:F,c1:D})=>r.eql(x,F)&&r.eql(N,D),neg:({c0:x,c1:N})=>({c0:r.neg(x),c1:r.neg(N)}),pow:(x,N)=>pi(h,x,N),invertBatch:x=>kr(h,x),add:a,sub:s,mul:d,sqr:y,addN:a,subN:s,mulN:d,sqrN:y,div:(x,N)=>h.mul(x,typeof N=="bigint"?r.inv(r.create(N)):h.inv(N)),inv:({c0:x,c1:N})=>{const F=r.inv(r.create(x*x+N*N));return{c0:r.mul(F,r.create(x)),c1:r.mul(F,r.create(-N))}},sqrt:x=>{if(e.Fp2sqrt)return e.Fp2sqrt(x);const{c0:N,c1:F}=x;if(r.is0(F))return Vi(r,N)===1?h.create({c0:r.sqrt(N),c1:r.ZERO}):h.create({c0:r.ZERO,c1:r.sqrt(r.div(N,n))});const D=r.sqrt(r.sub(r.sqr(N),r.mul(r.sqr(F),n)));let Q=r.mul(r.add(D,N),i);Vi(r,Q)===-1&&(Q=r.sub(Q,D));const J=r.sqrt(Q),lt=h.create({c0:J,c1:r.div(r.mul(F,i),J)});if(!h.eql(h.sqr(lt),x))throw new Error("Cannot find square root");const it=lt,st=h.neg(it),{re:Et,im:S}=h.reim(it),{re:Ot,im:Bt}=h.reim(st);return S>Bt||S===Bt&&Et>Ot?it:st},isOdd:x=>{const{re:N,im:F}=h.reim(x),D=N%Ze,Q=N===wa,W=F%Ze;return BigInt(D||Q&&W)==on},fromBytes(x){if(x.length!==h.BYTES)throw new Error("fromBytes invalid length="+x.length);return{c0:r.fromBytes(x.subarray(0,r.BYTES)),c1:r.fromBytes(x.subarray(r.BYTES))}},toBytes:({c0:x,c1:N})=>Vt(r.toBytes(x),r.toBytes(N)),cmov:({c0:x,c1:N},{c0:F,c1:D},Q)=>({c0:r.cmov(x,F,Q),c1:r.cmov(N,D,Q)}),reim:({c0:x,c1:N})=>({re:x,im:N}),mulByNonresidue:({c0:x,c1:N})=>h.mul({c0:x,c1:N},b),mulByB:e.Fp2mulByB,fromBigTuple:E,frobeniusMap:({c0:x,c1:N},F)=>({c0:x,c1:r.mul(N,o[F%2])})},O=({c0:x,c1:N,c2:F},{c0:D,c1:Q,c2:W})=>({c0:h.add(x,D),c1:h.add(N,Q),c2:h.add(F,W)}),C=({c0:x,c1:N,c2:F},{c0:D,c1:Q,c2:W})=>({c0:h.sub(x,D),c1:h.sub(N,Q),c2:h.sub(F,W)}),H=({c0:x,c1:N,c2:F},D)=>{if(typeof D=="bigint")return{c0:h.mul(x,D),c1:h.mul(N,D),c2:h.mul(F,D)};const{c0:Q,c1:W,c2:J}=D,lt=h.mul(x,Q),it=h.mul(N,W),st=h.mul(F,J);return{c0:h.add(lt,h.mulByNonresidue(h.sub(h.mul(h.add(N,F),h.add(W,J)),h.add(it,st)))),c1:h.add(h.sub(h.mul(h.add(x,N),h.add(Q,W)),h.add(lt,it)),h.mulByNonresidue(st)),c2:h.sub(h.add(it,h.mul(h.add(x,F),h.add(Q,J))),h.add(lt,st))}},G=({c0:x,c1:N,c2:F})=>{let D=h.sqr(x),Q=h.mul(h.mul(x,N),Ze),W=h.mul(h.mul(N,F),Ze),J=h.sqr(F);return{c0:h.add(h.mulByNonresidue(W),D),c1:h.add(h.mulByNonresidue(J),Q),c2:h.sub(h.sub(h.add(h.add(Q,h.sqr(h.add(h.sub(x,N),F))),W),D),J)}},[j,K]=Rs(h,b,r.ORDER,6,2,3),R={ORDER:h.ORDER,isLE:h.isLE,BITS:3*h.BITS,BYTES:3*h.BYTES,MASK:Fr(3*h.BITS),ZERO:{c0:h.ZERO,c1:h.ZERO,c2:h.ZERO},ONE:{c0:h.ONE,c1:h.ZERO,c2:h.ZERO},create:x=>x,isValid:({c0:x,c1:N,c2:F})=>h.isValid(x)&&h.isValid(N)&&h.isValid(F),is0:({c0:x,c1:N,c2:F})=>h.is0(x)&&h.is0(N)&&h.is0(F),isValidNot0:x=>!R.is0(x)&&R.isValid(x),neg:({c0:x,c1:N,c2:F})=>({c0:h.neg(x),c1:h.neg(N),c2:h.neg(F)}),eql:({c0:x,c1:N,c2:F},{c0:D,c1:Q,c2:W})=>h.eql(x,D)&&h.eql(N,Q)&&h.eql(F,W),sqrt:ua,div:(x,N)=>R.mul(x,typeof N=="bigint"?r.inv(r.create(N)):R.inv(N)),pow:(x,N)=>pi(R,x,N),invertBatch:x=>kr(R,x),add:O,sub:C,mul:H,sqr:G,addN:O,subN:C,mulN:H,sqrN:G,inv:({c0:x,c1:N,c2:F})=>{let D=h.sub(h.sqr(x),h.mulByNonresidue(h.mul(F,N))),Q=h.sub(h.mulByNonresidue(h.sqr(F)),h.mul(x,N)),W=h.sub(h.sqr(N),h.mul(x,F)),J=h.inv(h.add(h.mulByNonresidue(h.add(h.mul(F,Q),h.mul(N,W))),h.mul(x,D)));return{c0:h.mul(J,D),c1:h.mul(J,Q),c2:h.mul(J,W)}},fromBytes:x=>{if(x.length!==R.BYTES)throw new Error("fromBytes invalid length="+x.length);return{c0:h.fromBytes(x.subarray(0,h.BYTES)),c1:h.fromBytes(x.subarray(h.BYTES,2*h.BYTES)),c2:h.fromBytes(x.subarray(2*h.BYTES))}},toBytes:({c0:x,c1:N,c2:F})=>Vt(h.toBytes(x),h.toBytes(N),h.toBytes(F)),cmov:({c0:x,c1:N,c2:F},{c0:D,c1:Q,c2:W},J)=>({c0:h.cmov(x,D,J),c1:h.cmov(N,Q,J),c2:h.cmov(F,W,J)}),fromBigSix:x=>{if(!Array.isArray(x)||x.length!==6)throw new Error("invalid Fp6 usage");return{c0:h.fromBigTuple(x.slice(0,2)),c1:h.fromBigTuple(x.slice(2,4)),c2:h.fromBigTuple(x.slice(4,6))}},frobeniusMap:({c0:x,c1:N,c2:F},D)=>({c0:h.frobeniusMap(x,D),c1:h.mul(h.frobeniusMap(N,D),j[D%6]),c2:h.mul(h.frobeniusMap(F,D),K[D%6])}),mulByFp2:({c0:x,c1:N,c2:F},D)=>({c0:h.mul(x,D),c1:h.mul(N,D),c2:h.mul(F,D)}),mulByNonresidue:({c0:x,c1:N,c2:F})=>({c0:h.mulByNonresidue(F),c1:x,c2:N}),mul1:({c0:x,c1:N,c2:F},D)=>({c0:h.mulByNonresidue(h.mul(F,D)),c1:h.mul(x,D),c2:h.mul(N,D)}),mul01({c0:x,c1:N,c2:F},D,Q){let W=h.mul(x,D),J=h.mul(N,Q);return{c0:h.add(h.mulByNonresidue(h.sub(h.mul(h.add(N,F),Q),J)),W),c1:h.sub(h.sub(h.mul(h.add(D,Q),h.add(x,N)),W),J),c2:h.add(h.sub(h.mul(h.add(x,F),D),W),J)}}},P=Rs(h,b,r.ORDER,12,1,6)[0],q=({c0:x,c1:N},{c0:F,c1:D})=>({c0:R.add(x,F),c1:R.add(N,D)}),rt=({c0:x,c1:N},{c0:F,c1:D})=>({c0:R.sub(x,F),c1:R.sub(N,D)}),nt=({c0:x,c1:N},F)=>{if(typeof F=="bigint")return{c0:R.mul(x,F),c1:R.mul(N,F)};let{c0:D,c1:Q}=F,W=R.mul(x,D),J=R.mul(N,Q);return{c0:R.add(W,R.mulByNonresidue(J)),c1:R.sub(R.mul(R.add(x,N),R.add(D,Q)),R.add(W,J))}},I=({c0:x,c1:N})=>{let F=R.mul(x,N);return{c0:R.sub(R.sub(R.mul(R.add(R.mulByNonresidue(N),x),R.add(x,N)),F),R.mulByNonresidue(F)),c1:R.add(F,F)}};function L(x,N){const F=h.sqr(x),D=h.sqr(N);return{first:h.add(h.mulByNonresidue(D),F),second:h.sub(h.sub(h.sqr(h.add(x,N)),F),D)}}const X={ORDER:h.ORDER,isLE:R.isLE,BITS:2*R.BITS,BYTES:2*R.BYTES,MASK:Fr(2*R.BITS),ZERO:{c0:R.ZERO,c1:R.ZERO},ONE:{c0:R.ONE,c1:R.ZERO},create:x=>x,isValid:({c0:x,c1:N})=>R.isValid(x)&&R.isValid(N),is0:({c0:x,c1:N})=>R.is0(x)&&R.is0(N),isValidNot0:x=>!X.is0(x)&&X.isValid(x),neg:({c0:x,c1:N})=>({c0:R.neg(x),c1:R.neg(N)}),eql:({c0:x,c1:N},{c0:F,c1:D})=>R.eql(x,F)&&R.eql(N,D),sqrt:ua,inv:({c0:x,c1:N})=>{let F=R.inv(R.sub(R.sqr(x),R.mulByNonresidue(R.sqr(N))));return{c0:R.mul(x,F),c1:R.neg(R.mul(N,F))}},div:(x,N)=>X.mul(x,typeof N=="bigint"?r.inv(r.create(N)):X.inv(N)),pow:(x,N)=>pi(X,x,N),invertBatch:x=>kr(X,x),add:q,sub:rt,mul:nt,sqr:I,addN:q,subN:rt,mulN:nt,sqrN:I,fromBytes:x=>{if(x.length!==X.BYTES)throw new Error("fromBytes invalid length="+x.length);return{c0:R.fromBytes(x.subarray(0,R.BYTES)),c1:R.fromBytes(x.subarray(R.BYTES))}},toBytes:({c0:x,c1:N})=>Vt(R.toBytes(x),R.toBytes(N)),cmov:({c0:x,c1:N},{c0:F,c1:D},Q)=>({c0:R.cmov(x,F,Q),c1:R.cmov(N,D,Q)}),fromBigTwelve:x=>({c0:R.fromBigSix(x.slice(0,6)),c1:R.fromBigSix(x.slice(6,12))}),frobeniusMap(x,N){const{c0:F,c1:D,c2:Q}=R.frobeniusMap(x.c1,N),W=P[N%12];return{c0:R.frobeniusMap(x.c0,N),c1:R.create({c0:h.mul(F,W),c1:h.mul(D,W),c2:h.mul(Q,W)})}},mulByFp2:({c0:x,c1:N},F)=>({c0:R.mulByFp2(x,F),c1:R.mulByFp2(N,F)}),conjugate:({c0:x,c1:N})=>({c0:x,c1:R.neg(N)}),mul014:({c0:x,c1:N},F,D,Q)=>{let W=R.mul01(x,F,D),J=R.mul1(N,Q);return{c0:R.add(R.mulByNonresidue(J),W),c1:R.sub(R.sub(R.mul01(R.add(N,x),F,h.add(D,Q)),W),J)}},mul034:({c0:x,c1:N},F,D,Q)=>{const W=R.create({c0:h.mul(x.c0,F),c1:h.mul(x.c1,F),c2:h.mul(x.c2,F)}),J=R.mul01(N,D,Q),lt=R.mul01(R.add(x,N),h.add(F,D),Q);return{c0:R.add(R.mulByNonresidue(J),W),c1:R.sub(lt,R.add(W,J))}},_cyclotomicSquare:e.Fp12cyclotomicSquare,_cyclotomicExp:e.Fp12cyclotomicExp,finalExponentiate:e.Fp12finalExponentiate};return{Fp:r,Fp2:h,Fp6:R,Fp12:X,Fp4Square:L}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ce=BigInt(0),zi=BigInt(1),Qt=BigInt(2),rs=BigInt(3),$n=BigInt(4),fr=BigInt("0xd201000000010000"),Nh=un(fr),Vr={p:BigInt("0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaaab"),n:BigInt("0x73eda753299d7d483339d80809a1d80553bda402fffe5bfeffffffff00000001"),h:BigInt("0x396c8c005555e1568c00aaab0000aaab"),a:ce,b:$n,Gx:BigInt("0x17f1d3a73197d7942695638c4fa9ac0fc3688c4f9774b905a14e3a3f171bac586c55e83ff97a1aeffb3af00adb22c6bb"),Gy:BigInt("0x08b3f481e3aaa0f1a09e30ed741d8ae4fcf5e095d5d00af600db18cb2c04b3edd03cc744a2888ae40caa232946c5e7e1")},Rh=yr(Vr.n,{modOnDecode:!0}),{Fp:yt,Fp2:gt,Fp6:ao,Fp4Square:Is,Fp12:Tt}=Ah({ORDER:Vr.p,FP2_NONRESIDUE:[zi,zi],Fp2mulByB:({c0:e,c1:t})=>{const r=yt.mul(e,$n),n=yt.mul(t,$n);return{c0:yt.sub(r,n),c1:yt.add(r,n)}},Fp12cyclotomicSquare:({c0:e,c1:t})=>{const{c0:r,c1:n,c2:i}=e,{c0:o,c1:a,c2:s}=t,{first:d,second:y}=Is(r,a),{first:E,second:_}=Is(o,i),{first:w,second:b}=Is(n,s),h=gt.mulByNonresidue(b);return{c0:ao.create({c0:gt.add(gt.mul(gt.sub(d,r),Qt),d),c1:gt.add(gt.mul(gt.sub(E,n),Qt),E),c2:gt.add(gt.mul(gt.sub(w,i),Qt),w)}),c1:ao.create({c0:gt.add(gt.mul(gt.add(h,o),Qt),h),c1:gt.add(gt.mul(gt.add(y,a),Qt),y),c2:gt.add(gt.mul(gt.add(_,s),Qt),_)})}},Fp12cyclotomicExp(e,t){let r=Tt.ONE;for(let n=Nh-1;n>=0;n--)r=Tt._cyclotomicSquare(r),Dd(t,n)&&(r=Tt.mul(r,e));return r},Fp12finalExponentiate:e=>{const t=fr,r=Tt.div(Tt.frobeniusMap(e,6),e),n=Tt.mul(Tt.frobeniusMap(r,2),r),i=Tt.conjugate(Tt._cyclotomicExp(n,t)),o=Tt.mul(Tt.conjugate(Tt._cyclotomicSquare(n)),i),a=Tt.conjugate(Tt._cyclotomicExp(o,t)),s=Tt.conjugate(Tt._cyclotomicExp(a,t)),d=Tt.mul(Tt.conjugate(Tt._cyclotomicExp(s,t)),Tt._cyclotomicSquare(i)),y=Tt.conjugate(Tt._cyclotomicExp(d,t)),E=Tt.frobeniusMap(Tt.mul(i,s),2),_=Tt.frobeniusMap(Tt.mul(a,n),3),w=Tt.frobeniusMap(Tt.mul(d,Tt.conjugate(n)),1),b=Tt.mul(Tt.mul(y,Tt.conjugate(o)),n);return Tt.mul(Tt.mul(Tt.mul(E,_),w),b)}}),{G2psi:_a,G2psi2:Ih}=Th(yt,gt,gt.div(gt.ONE,gt.NONRESIDUE)),Os=Object.freeze({DST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",encodeDST:"BLS_SIG_BLS12381G2_XMD:SHA-256_SSWU_RO_NUL_",p:yt.ORDER,m:2,k:128,expand:"xmd",hash:ec}),Uo={p:gt.ORDER,n:Vr.n,h:BigInt("0x5d543a95414e7f1091d50792876a202cd91de4547085abaa68a205b2e5a7ddfa628f1cb4d9e82ef21537e293a6691ae1616ec6e786f0c70cf1c38e31c7238e5"),a:gt.ZERO,b:gt.fromBigTuple([$n,$n]),Gx:gt.fromBigTuple([BigInt("0x024aa2b2f08f0a91260805272dc51051c6e47ad4fa403b02b4510b647ae3d1770bac0326a805bbefd48056c8c121bdb8"),BigInt("0x13e02b6052719f607dacd3a088274f65596bd0d09920b61ab5da61bbdc7f5049334cf11213945d57e5ac7d055d042b7e")]),Gy:gt.fromBigTuple([BigInt("0x0ce5d527727d6e118cc9cdc6da2e351aadfd9baa8cbdd3a76d429a695160d12c923ac9cc3baca289e193548608b82801"),BigInt("0x0606c4a02ea734cc32acd2b02bc28b99cb3e287e85a763af267492ab572e99ab3f370d275cec1da1aaa9075ff05f79be")])},ns=Yn(yt.toBytes(ce),{infinity:!0,compressed:!0});function is(e){e=e.slice();const t=e[0]&224,r=!!(t>>7&1),n=!!(t>>6&1),i=!!(t>>5&1);return e[0]&=31,{compressed:r,infinity:n,sort:i,value:e}}function Yn(e,t){if(e[0]&224)throw new Error("setMask: non-empty mask");return t.compressed&&(e[0]|=128),t.infinity&&(e[0]|=64),t.sort&&(e[0]|=32),e}function Oh(e,t,r){const{BYTES:n,ORDER:i}=yt,o=t.is0(),{x:a,y:s}=t.toAffine();if(r){if(o)return ns.slice();const d=!!(s*Qt/i);return Yn(re(a,n),{compressed:!0,sort:d})}else return o?Vt(Uint8Array.of(64),new Uint8Array(2*n-1)):Vt(re(a,n),re(s,n))}function Us(e){e.assertValidity();const{BYTES:t,ORDER:r}=yt,{x:n,y:i}=e.toAffine();if(e.is0())return ns.slice();const o=!!(i*Qt/r);return Yn(re(n,t),{compressed:!0,sort:o})}function Uh(e){const{compressed:t,infinity:r,sort:n,value:i}=is(e),{BYTES:o,ORDER:a}=yt;if(i.length===48&&t){const s=je(i),d=yt.create(s&yt.MASK);if(r){if(d!==ce)throw new Error("invalid G1 point: non-empty, at infinity, with compression");return{x:ce,y:ce}}const y=yt.add(yt.pow(d,rs),yt.create(Vr.b));let E=yt.sqrt(y);if(!E)throw new Error("invalid G1 point: compressed point");return E*Qt/a!==BigInt(n)&&(E=yt.neg(E)),{x:yt.create(d),y:yt.create(E)}}else if(i.length===96&&!t){const s=je(i.subarray(0,o)),d=je(i.subarray(o));if(r){if(s!==ce||d!==ce)throw new Error("G1: non-empty point at infinity");return ss.G1.Point.ZERO.toAffine()}return{x:yt.create(s),y:yt.create(d)}}else throw new Error("invalid G1 point: expected 48/96 bytes")}function Ea(e){const{infinity:t,sort:r,value:n}=is(ge("signatureHex",e,48)),i=yt.ORDER,o=ss.G1.Point,a=je(n);if(t)return o.ZERO;const s=yt.create(a&yt.MASK),d=yt.add(yt.pow(s,rs),yt.create(Vr.b));let y=yt.sqrt(d);if(!y)throw new Error("invalid G1 point: compressed");const E=BigInt(r);y*Qt/i!==E&&(y=yt.neg(y));const _=o.fromAffine({x:s,y});return _.assertValidity(),_}function Fh(e,t,r){const{BYTES:n,ORDER:i}=yt,o=t.is0(),{x:a,y:s}=t.toAffine();if(r){if(o)return Vt(ns,re(ce,n));const d=!!(s.c1===ce?s.c0*Qt/i:s.c1*Qt/i);return Vt(Yn(re(a.c1,n),{compressed:!0,sort:d}),re(a.c0,n))}else{if(o)return Vt(Uint8Array.of(64),new Uint8Array(4*n-1));const{re:d,im:y}=gt.reim(a),{re:E,im:_}=gt.reim(s);return Vt(re(y,n),re(d,n),re(_,n),re(E,n))}}function Fs(e){e.assertValidity();const{BYTES:t}=yt;if(e.is0())return Vt(ns,re(ce,t));const{x:r,y:n}=e.toAffine(),{re:i,im:o}=gt.reim(r),{re:a,im:s}=gt.reim(n),y=!!((s>ce?s*Qt:a*Qt)/yt.ORDER&zi),E=i;return Vt(Yn(re(o,t),{sort:y,compressed:!0}),re(E,t))}function kh(e){const{BYTES:t,ORDER:r}=yt,{compressed:n,infinity:i,sort:o,value:a}=is(e);if(!n&&!i&&o||!n&&i&&o||o&&i&&n)throw new Error("invalid encoding flag: "+(e[0]&224));const s=(d,y,E)=>je(d.slice(y,E));if(a.length===96&&n){if(i){if(a.reduce((h,O)=>h!==0?O+1:O,0)>0)throw new Error("invalid G2 point: compressed");return{x:gt.ZERO,y:gt.ZERO}}const d=s(a,0,t),y=s(a,t,2*t),E=gt.create({c0:yt.create(y),c1:yt.create(d)}),_=gt.add(gt.pow(E,rs),Uo.b);let w=gt.sqrt(_);const b=w.c1===ce?w.c0*Qt/r:w.c1*Qt/r?zi:ce;return w=o&&b>0?w:gt.neg(w),{x:E,y:w}}else if(a.length===192&&!n){if(i){if(a.reduce((w,b)=>w!==0?b+1:b,0)>0)throw new Error("invalid G2 point: uncompressed");return{x:gt.ZERO,y:gt.ZERO}}const d=s(a,0*t,1*t),y=s(a,1*t,2*t),E=s(a,2*t,3*t),_=s(a,3*t,4*t);return{x:gt.fromBigTuple([y,d]),y:gt.fromBigTuple([_,E])}}else throw new Error("invalid G2 point: expected 96/192 bytes")}function va(e){const{ORDER:t}=yt,{infinity:r,sort:n,value:i}=is(ge("signatureHex",e)),o=ss.G2.Point,a=i.length/2;if(a!==48&&a!==96)throw new Error("invalid compressed signature length, expected 96/192 bytes");const s=je(i.slice(0,a)),d=je(i.slice(a));if(r)return o.ZERO;const y=yt.create(s&yt.MASK),E=yt.create(d),_=gt.create({c0:E,c1:y}),w=gt.add(gt.pow(_,rs),Uo.b);let b=gt.sqrt(w);if(!b)throw new Error("Failed to find a square root");const{re:h,im:O}=gt.reim(b),C=BigInt(n),H=O>ce&&O*Qt/t!==C,G=O===ce&&h*Qt/t!==C;(H||G)&&(b=gt.neg(b));const j=o.fromAffine({x:_,y:b});return j.assertValidity(),j}const ss=Sh({fields:{Fp:yt,Fp2:gt,Fp6:ao,Fp12:Tt,Fr:Rh},G1:{...Vr,Fp:yt,htfDefaults:{...Os,m:1,DST:"BLS_SIG_BLS12381G1_XMD:SHA-256_SSWU_RO_NUL_"},wrapPrivateKey:!0,allowInfinityPoint:!0,isTorsionFree:(e,t)=>{const r=BigInt("0x5f19672fdf76ce51ba69c6076a0f77eaddb3a93be6f89688de17d813620a00022e01fffffffefffe"),n=new e(yt.mul(t.X,r),t.Y,t.Z);return t.multiplyUnsafe(fr).negate().multiplyUnsafe(fr).equals(n)},clearCofactor:(e,t)=>t.multiplyUnsafe(fr).add(t),mapToCurve:qh,fromBytes:Uh,toBytes:Oh,ShortSignature:{fromBytes(e){return le(e),Ea(e)},fromHex(e){return Ea(e)},toBytes(e){return Us(e)},toRawBytes(e){return Us(e)},toHex(e){return pn(Us(e))}}},G2:{...Uo,Fp:gt,hEff:BigInt("0xbc69f08f2ee75b3584c6a0ea91b352888e2a8e9145ad7689986ff031508ffe1329c2f178731db956d82bf015d1212b02ec0ec69d7477c1ae954cbc06689f6a359894c0adebbf6b4e8020005aaa95551"),htfDefaults:{...Os},wrapPrivateKey:!0,allowInfinityPoint:!0,mapToCurve:jh,isTorsionFree:(e,t)=>t.multiplyUnsafe(fr).negate().equals(_a(e,t)),clearCofactor:(e,t)=>{const r=fr;let n=t.multiplyUnsafe(r).negate(),i=_a(e,t),o=t.double();return o=Ih(e,o),o=o.subtract(i),i=n.add(i),i=i.multiplyUnsafe(r).negate(),o=o.add(i),o=o.subtract(n),o.subtract(t)},fromBytes:kh,toBytes:Fh,Signature:{fromBytes(e){return le(e),va(e)},fromHex(e){return va(e)},toBytes(e){return Fs(e)},toRawBytes(e){return Fs(e)},toHex(e){return pn(Fs(e))}}},params:{ateLoopSize:fr,r:Vr.n,xNegative:!0,twistType:"multiplicative"},htfDefaults:Os}),Ch=Ru(gt,[[["0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97d6"],["0x0","0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71a"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71e","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38d"],["0x171d6541fa38ccfaed6dea691f5fb614cb14b4e7f4e810aa22d6108f142b85757098e38d0f671c7188e2aaaaaaaa5ed1","0x0"]],[["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa63"],["0xc","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa9f"],["0x1","0x0"]],[["0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706","0x1530477c7ab4113b59a4c18b076d11930f7da5d4a07f649bf54439d87d27e500fc8c25ebf8c92f6812cfc71c71c6d706"],["0x0","0x5c759507e8e333ebb5b7a9a47d7ed8532c52d39fd3a042a88b58423c50ae15d5c2638e343d9c71c6238aaaaaaaa97be"],["0x11560bf17baa99bc32126fced787c88f984f87adf7ae0c7f9a208c6b4f20a4181472aaa9cb8d555526a9ffffffffc71c","0x8ab05f8bdd54cde190937e76bc3e447cc27c3d6fbd7063fcd104635a790520c0a395554e5c6aaaa9354ffffffffe38f"],["0x124c9ad43b6cf79bfbf7043de3811ad0761b0f37a1e26286b0e977c69aa274524e79097a56dc4bd9e1b371c71c718b10","0x0"]],[["0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa8fb"],["0x0","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffa9d3"],["0x12","0x1a0111ea397fe69a4b1ba7b6434bacd764774b84f38512bf6730d2a0f6b0f6241eabfffeb153ffffb9feffffffffaa99"],["0x1","0x0"]]].map(e=>e.map(t=>gt.fromBigTuple(t.map(BigInt))))),Mh=Ru(yt,[["0x11a05f2b1e833340b809101dd99815856b303e88a2d7005ff2627b56cdb4e2c85610c2d5f2e62d6eaeac1662734649b7","0x17294ed3e943ab2f0588bab22147a81c7c17e75b2f6a8417f565e33c70d1e86b4838f2a6f318c356e834eef1b3cb83bb","0xd54005db97678ec1d1048c5d10a9a1bce032473295983e56878e501ec68e25c958c3e3d2a09729fe0179f9dac9edcb0","0x1778e7166fcc6db74e0609d307e55412d7f5e4656a8dbf25f1b33289f1b330835336e25ce3107193c5b388641d9b6861","0xe99726a3199f4436642b4b3e4118e5499db995a1257fb3f086eeb65982fac18985a286f301e77c451154ce9ac8895d9","0x1630c3250d7313ff01d1201bf7a74ab5db3cb17dd952799b9ed3ab9097e68f90a0870d2dcae73d19cd13c1c66f652983","0xd6ed6553fe44d296a3726c38ae652bfb11586264f0f8ce19008e218f9c86b2a8da25128c1052ecaddd7f225a139ed84","0x17b81e7701abdbe2e8743884d1117e53356de5ab275b4db1a682c62ef0f2753339b7c8f8c8f475af9ccb5618e3f0c88e","0x80d3cf1f9a78fc47b90b33563be990dc43b756ce79f5574a2c596c928c5d1de4fa295f296b74e956d71986a8497e317","0x169b1f8e1bcfa7c42e0c37515d138f22dd2ecb803a0c5c99676314baf4bb1b7fa3190b2edc0327797f241067be390c9e","0x10321da079ce07e272d8ec09d2565b0dfa7dccdde6787f96d50af36003b14866f69b771f8c285decca67df3f1605fb7b","0x6e08c248e260e70bd1e962381edee3d31d79d7e22c837bc23c0bf1bc24c6b68c24b1b80b64d391fa9c8ba2e8ba2d229"],["0x8ca8d548cff19ae18b2e62f4bd3fa6f01d5ef4ba35b48ba9c9588617fc8ac62b558d681be343df8993cf9fa40d21b1c","0x12561a5deb559c4348b4711298e536367041e8ca0cf0800c0126c2588c48bf5713daa8846cb026e9e5c8276ec82b3bff","0xb2962fe57a3225e8137e629bff2991f6f89416f5a718cd1fca64e00b11aceacd6a3d0967c94fedcfcc239ba5cb83e19","0x3425581a58ae2fec83aafef7c40eb545b08243f16b1655154cca8abc28d6fd04976d5243eecf5c4130de8938dc62cd8","0x13a8e162022914a80a6f1d5f43e7a07dffdfc759a12062bb8d6b44e833b306da9bd29ba81f35781d539d395b3532a21e","0xe7355f8e4e667b955390f7f0506c6e9395735e9ce9cad4d0a43bcef24b8982f7400d24bc4228f11c02df9a29f6304a5","0x772caacf16936190f3e0c63e0596721570f5799af53a1894e2e073062aede9cea73b3538f0de06cec2574496ee84a3a","0x14a7ac2a9d64a8b230b3f5b074cf01996e7f63c21bca68a81996e1cdf9822c580fa5b9489d11e2d311f7d99bbdcc5a5e","0xa10ecf6ada54f825e920b3dafc7a3cce07f8d1d7161366b74100da67f39883503826692abba43704776ec3a79a1d641","0x95fc13ab9e92ad4476d6e3eb3a56680f682b4ee96f7d03776df533978f31c1593174e4b4b7865002d6384d168ecdd0a","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"],["0x90d97c81ba24ee0259d1f094980dcfa11ad138e48a869522b52af6c956543d3cd0c7aee9b3ba3c2be9845719707bb33","0x134996a104ee5811d51036d776fb46831223e96c254f383d0f906343eb67ad34d6c56711962fa8bfe097e75a2e41c696","0xcc786baa966e66f4a384c86a3b49942552e2d658a31ce2c344be4b91400da7d26d521628b00523b8dfe240c72de1f6","0x1f86376e8981c217898751ad8746757d42aa7b90eeb791c09e4a3ec03251cf9de405aba9ec61deca6355c77b0e5f4cb","0x8cc03fdefe0ff135caf4fe2a21529c4195536fbe3ce50b879833fd221351adc2ee7f8dc099040a841b6daecf2e8fedb","0x16603fca40634b6a2211e11db8f0a6a074a7d0d4afadb7bd76505c3d3ad5544e203f6326c95a807299b23ab13633a5f0","0x4ab0b9bcfac1bbcb2c977d027796b3ce75bb8ca2be184cb5231413c4d634f3747a87ac2460f415ec961f8855fe9d6f2","0x987c8d5333ab86fde9926bd2ca6c674170a05bfe3bdd81ffd038da6c26c842642f64550fedfe935a15e4ca31870fb29","0x9fc4018bd96684be88c9e221e4da1bb8f3abd16679dc26c1e8b6e6a1f20cabe69d65201c78607a360370e577bdba587","0xe1bba7a1186bdb5223abde7ada14a23c42a0ca7915af6fe06985e7ed1e4d43b9b3f7055dd4eba6f2bafaaebca731c30","0x19713e47937cd1be0dfd0b8f1d43fb93cd2fcbcb6caf493fd1183e416389e61031bf3a5cce3fbafce813711ad011c132","0x18b46a908f36f6deb918c143fed2edcc523559b8aaf0c2462e6bfe7f911f643249d9cdf41b44d606ce07c8a4d0074d8e","0xb182cac101b9399d155096004f53f447aa7b12a3426b08ec02710e807b4633f06c851c1919211f20d4c04f00b971ef8","0x245a394ad1eca9b72fc00ae7be315dc757b3b080d4c158013e6632d3c40659cc6cf90ad1c232a6442d9d3f5db980133","0x5c129645e44cf1102a159f748c4a3fc5e673d81d7e86568d9ab0f5d396a7ce46ba1049b6579afb7866b1e715475224b","0x15e6be4e990f03ce4ea50b3b42df2eb5cb181d8f84965a3957add4fa95af01b2b665027efec01c7704b456be69c8b604"],["0x16112c4c3a9c98b252181140fad0eae9601a6de578980be6eec3232b5be72e7a07f3688ef60c206d01479253b03663c1","0x1962d75c2381201e1a0cbd6c43c348b885c84ff731c4d59ca4a10356f453e01f78a4260763529e3532f6102c2e49a03d","0x58df3306640da276faaae7d6e8eb15778c4855551ae7f310c35a5dd279cd2eca6757cd636f96f891e2538b53dbf67f2","0x16b7d288798e5395f20d23bf89edb4d1d115c5dbddbcd30e123da489e726af41727364f2c28297ada8d26d98445f5416","0xbe0e079545f43e4b00cc912f8228ddcc6d19c9f0f69bbb0542eda0fc9dec916a20b15dc0fd2ededda39142311a5001d","0x8d9e5297186db2d9fb266eaac783182b70152c65550d881c5ecd87b6f0f5a6449f38db9dfa9cce202c6477faaf9b7ac","0x166007c08a99db2fc3ba8734ace9824b5eecfdfa8d0cf8ef5dd365bc400a0051d5fa9c01a58b1fb93d1a1399126a775c","0x16a3ef08be3ea7ea03bcddfabba6ff6ee5a4375efa1f4fd7feb34fd206357132b920f5b00801dee460ee415a15812ed9","0x1866c8ed336c61231a1be54fd1d74cc4f9fb0ce4c6af5920abc5750c4bf39b4852cfe2f7bb9248836b233d9d55535d4a","0x167a55cda70a6e1cea820597d94a84903216f763e13d87bb5308592e7ea7d4fbc7385ea3d529b35e346ef48bb8913f55","0x4d2f259eea405bd48f010a01ad2911d9c6dd039bb61a6290e591b36e636a5c871a5c29f4f83060400f8b49cba8f6aa8","0xaccbb67481d033ff5852c1e48c50c477f94ff8aefce42d28c0f9a88cea7913516f968986f7ebbea9684b529e2561092","0xad6b9514c767fe3c3613144b45f1496543346d98adf02267d5ceef9a00d9b8693000763e3b90ac11e99b138573345cc","0x2660400eb2e4f3b628bdd0d53cd76f2bf565b94e72927c1cb748df27942480e420517bd8714cc80d1fadc1326ed06f7","0xe0fa1d816ddc03e6b24255e0d7819c171c40f65e273b853324efcd6356caa205ca2f570f13497804415473a1d634b8f","0x000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001"]].map(e=>e.map(t=>BigInt(t)))),Ph=Ou(yt,{A:yt.create(BigInt("0x144698a3b8e9433d693a02c96d4982b0ea985383ee66a8d8e8981aefd881ac98936f8da0e0f97f5cf428082d584c1d")),B:yt.create(BigInt("0x12e2908d11688030018b12e8753eee3b2016c1f0f24f4070a0b9c14fcef35ef55a23215a316ceaa5d1cc48e98e172be0")),Z:yt.create(BigInt(11))}),$h=Ou(gt,{A:gt.create({c0:yt.create(ce),c1:yt.create(BigInt(240))}),B:gt.create({c0:yt.create(BigInt(1012)),c1:yt.create(BigInt(1012))}),Z:gt.create({c0:yt.create(BigInt(-2)),c1:yt.create(BigInt(-1))})});function qh(e){const{x:t,y:r}=Ph(yt.create(e[0]));return Mh(t,r)}function jh(e){const{x:t,y:r}=$h(gt.fromBigTuple(e));return Ch(t,r)}function Vh(e,t,r){const n=typeof e=="string"?e:Jt(e),i=typeof t=="string"?t:Jt(t),o=typeof r=="string"?r:Jt(r);return ss.verifyShortSignature(i,o,n)}const Uu=e=>Xt(new wn(e)),Fo=e=>{const t=Uu(e);return new Date(Number(t)/1e6)};var Gh=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Hh=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},gi;class Me extends $t{constructor(t){super(`Invalid certificate: ${t}`)}}var me;(function(e){e[e.Empty=0]="Empty",e[e.Fork=1]="Fork",e[e.Labeled=2]="Labeled",e[e.Leaf=3]="Leaf",e[e.Pruned=4]="Pruned"})(me||(me={}));function zh(e,t){const r=new Uint8Array(e),n=new Uint8Array(t);for(let i=0;i<r.length;i++)if(r[i]>n[i])return!0;return!1}class Cr{constructor(t,r,n,i,o=5,a=!1){this._rootKey=r,this._canisterId=n,this._blsVerify=i,this._maxAgeInMinutes=o,gi.set(this,!1),Gh(this,gi,a,"f"),this.cert=Je(new Uint8Array(t))}static async create(t){const r=Cr.createUnverified(t);return await r.verify(),r}static createUnverified(t){let r=t.blsVerify;return r||(r=Vh),new Cr(t.certificate,t.rootKey,t.canisterId,r,t.maxAgeInMinutes,t.disableTimeVerification)}lookup(t){return mn(t,this.cert.tree)}lookup_label(t){return this.lookup([t])}async verify(){const t=await yi(this.cert.tree),r=await this._checkDelegationAndGetKey(this.cert.delegation),n=this.cert.signature,i=Yh(r),o=qe(Nn("ic-state-root"),t);let a=!1;const s=_e(this.lookup(["time"]));if(!s)throw new Me("Certificate does not contain a time");if(!Hh(this,gi,"f")){const y=this._maxAgeInMinutes*60*1e3,E=Date.now(),_=E-y,w=E+3e5,b=Fo(s);if(b.getTime()<_)throw new Me(`Certificate is signed more than ${this._maxAgeInMinutes} minutes in the past. Certificate time: `+b.toISOString()+" Current time: "+new Date(E).toISOString());if(b.getTime()>w)throw new Me("Certificate is signed more than 5 minutes in the future. Certificate time: "+b.toISOString()+" Current time: "+new Date(E).toISOString())}try{a=await this._blsVerify(new Uint8Array(i),new Uint8Array(n),new Uint8Array(o))}catch{a=!1}if(!a)throw new Me("Signature verification failed")}async _checkDelegationAndGetKey(t){if(!t)return this._rootKey;const r=await Cr.createUnverified({certificate:t.certificate,rootKey:this._rootKey,canisterId:this._canisterId,blsVerify:this._blsVerify,maxAgeInMinutes:1/0});if(r.cert.delegation)throw new Me("Delegation certificates cannot be nested");if(await r.verify(),this._canisterId.toString()!==xp&&!Fu({canisterId:this._canisterId,subnetId:vt.fromUint8Array(new Uint8Array(t.subnet_id)),tree:r.cert.tree}))throw new Me(`Canister ${this._canisterId} not in range of delegations for subnet 0x${Jt(t.subnet_id)}`);const n=_e(r.lookup(["subnet",t.subnet_id,"public_key"]));if(!n)throw new Error(`Could not find subnet key for subnet 0x${Jt(t.subnet_id)}`);return n}}gi=new WeakMap;const vn=Ci("308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100"),Wh=96;function Yh(e){const t=vn.byteLength+Wh;if(e.byteLength!==t)throw new TypeError(`BLS DER-encoded public key must be ${t} bytes long`);const r=e.slice(0,vn.byteLength);if(!Yi(r,vn))throw new TypeError(`BLS DER-encoded public key is invalid. Expect the following prefix: ${vn}, but get ${r}`);return e.slice(vn.byteLength)}function _e(e){if(e.status===Yt.Found){if(e.value instanceof ArrayBuffer)return e.value;if(e.value instanceof Uint8Array)return e.value.buffer}}async function yi(e){switch(e[0]){case me.Empty:return Ae(Nn("ic-hashtree-empty"));case me.Pruned:return e[1];case me.Leaf:return Ae(qe(Nn("ic-hashtree-leaf"),e[1]));case me.Labeled:return Ae(qe(Nn("ic-hashtree-labeled"),e[1],await yi(e[2])));case me.Fork:return Ae(qe(Nn("ic-hashtree-fork"),await yi(e[1]),await yi(e[2])));default:throw new Error("unreachable")}}function Nn(e){const t=new Uint8Array([e.length]),r=new TextEncoder().encode(e);return qe(t,r)}var Yt;(function(e){e.Unknown="unknown",e.Absent="absent",e.Found="found"})(Yt||(Yt={}));var Xe;(function(e){e.Less="less",e.Greater="greater"})(Xe||(Xe={}));function mn(e,t){if(e.length===0)switch(t[0]){case me.Leaf:{if(!t[1])throw new Error("Invalid tree structure for leaf");return t[1]instanceof ArrayBuffer?{status:Yt.Found,value:t[1]}:t[1]instanceof Uint8Array?{status:Yt.Found,value:t[1].buffer}:{status:Yt.Found,value:t[1]}}default:return{status:Yt.Found,value:t}}const r=typeof e[0]=="string"?new TextEncoder().encode(e[0]):e[0],n=mi(r,t);switch(n.status){case Yt.Found:return mn(e.slice(1),n.value);case Xe.Greater:case Xe.Less:return{status:Yt.Absent};default:return n}}function co(e){switch(e[0]){case me.Empty:return[];case me.Fork:return co(e[1]).concat(co(e[2]));default:return[e]}}function mi(e,t){switch(t[0]){case me.Labeled:return zh(e,t[1])?{status:Xe.Greater}:Yi(e,t[1])?{status:Yt.Found,value:t[2]}:{status:Xe.Less};case me.Fork:const r=mi(e,t[1]);switch(r.status){case Xe.Greater:{const n=mi(e,t[2]);return n.status===Xe.Less?{status:Yt.Absent}:n}case Yt.Unknown:{let n=mi(e,t[2]);return n.status===Xe.Less?{status:Yt.Unknown}:n}default:return r}case me.Pruned:return{status:Yt.Unknown};default:return{status:Yt.Absent}}}function Fu(e){const{canisterId:t,subnetId:r,tree:n}=e,i=mn(["subnet",r.toUint8Array(),"canister_ranges"],n);if(i.status!==Yt.Found||!(i.value instanceof ArrayBuffer))throw new Error(`Could not find canister ranges for subnet ${r}`);return Je(i.value).map(d=>[vt.fromUint8Array(d[0]),vt.fromUint8Array(d[1])]).some(d=>d[0].ltEq(t)&&d[1].gtEq(t))}class Lh{constructor(t,r,n){this.key=t,this.path=r,this.decodeStrategy=n}}const ku=async e=>{const{agent:t,paths:r}=e,n=vt.from(e.canisterId),i=[...new Set(r)],o=i.map(d=>uo(d,n)),a=new Map,s=i.map((d,y)=>(async()=>{var E;try{const _=await t.readState(n,{paths:[o[y]]});if(t.rootKey==null)throw new Error("Agent is missing root key");const w=await Cr.create({certificate:_.certificate,rootKey:t.rootKey,canisterId:n,disableTimeVerification:!0}),b=(C,H)=>{if(H==="subnet"){if(t.rootKey==null)throw new Error("Agent is missing root key");const G=Cu(_.certificate,n,t.rootKey);return{path:H,data:G}}else return{path:H,data:_e(C.lookup(uo(H,n)))}},{path:h,data:O}=b(w,i[y]);if(!O)console.warn(`Expected to find result for path ${h}, but instead found nothing.`),typeof h=="string"?a.set(h,null):a.set(h.key,null);else switch(h){case"time":{a.set(h,Fo(O));break}case"controllers":{a.set(h,Zh(O));break}case"module_hash":{a.set(h,Ba(O));break}case"subnet":{a.set(h,O);break}case"candid":{a.set(h,new TextDecoder().decode(O));break}default:if(typeof h!="string"&&"key"in h&&"path"in h)switch(h.decodeStrategy){case"raw":a.set(h.key,O);break;case"leb128":{a.set(h.key,Uu(O));break}case"cbor":{a.set(h.key,Mu(O));break}case"hex":{a.set(h.key,Ba(O));break}case"utf-8":a.set(h.key,Kh(O))}}}catch(_){if(!((E=_==null?void 0:_.message)===null||E===void 0)&&E.includes("Invalid certificate"))throw new $t(_.message);typeof d!="string"&&"key"in d&&"path"in d?a.set(d.key,null):a.set(d,null),console.group(),console.warn(`Expected to find result for path ${d}, but instead found nothing.`),console.warn(_),console.groupEnd()}})());return await Promise.all(s),a},Cu=(e,t,r)=>{if(!t._isPrincipal)throw new Error("Invalid canisterId");const n=Je(new Uint8Array(e)),i=n.tree;let o=n.delegation,a;if(o&&o.subnet_id?a=vt.fromUint8Array(new Uint8Array(o.subnet_id)):!o&&typeof r<"u"?(a=vt.selfAuthenticating(new Uint8Array(r)),o={subnet_id:a.toUint8Array(),certificate:new ArrayBuffer(0)}):(a=vt.selfAuthenticating(vt.fromText("tdb26-jop6k-aogll-7ltgs-eruif-6kk7m-qpktf-gdiqx-mxtrf-vb5e6-eqe").toUint8Array()),o={subnet_id:a.toUint8Array(),certificate:new ArrayBuffer(0)}),!Fu({canisterId:t,subnetId:a,tree:i}))throw new Error("Canister not in range");const d=mn(["subnet",o.subnet_id,"node"],i);if(d.status!==Yt.Found)throw new Error("Node not found");if(d.value instanceof ArrayBuffer)throw new Error("Invalid node tree");const y=co(d.value),E=new Map;return y.forEach(_=>{const w=vt.from(new Uint8Array(_[1])).toText(),b=mn(["public_key"],_[2]);if(b.status!==Yt.Found)throw new Error("Public key not found");const h=b.value;if(h.byteLength!==44)throw new Error("Invalid public key length");E.set(w,h)}),{subnetId:vt.fromUint8Array(new Uint8Array(o.subnet_id)).toText(),nodeKeys:E}},uo=(e,t)=>{const r=new TextEncoder,n=o=>new DataView(r.encode(o).buffer).buffer,i=new DataView(t.toUint8Array().buffer).buffer;switch(e){case"time":return[n("time")];case"controllers":return[n("canister"),i,n("controllers")];case"module_hash":return[n("canister"),i,n("module_hash")];case"subnet":return[n("subnet")];case"candid":return[n("canister"),i,n("metadata"),n("candid:service")];default:if("key"in e&&"path"in e)if(typeof e.path=="string"||e.path instanceof ArrayBuffer){const o=e.path,a=typeof o=="string"?n(o):o;return[n("canister"),i,n("metadata"),a]}else return e.path}throw new Error(`An unexpeected error was encountered while encoding your path for canister status. Please ensure that your path, ${e} was formatted correctly.`)},Ba=e=>Jt(e),Mu=e=>Je(e),Kh=e=>new TextDecoder().decode(e),Zh=e=>Mu(e).map(r=>vt.fromUint8Array(new Uint8Array(r))),Xh=Object.freeze(Object.defineProperty({__proto__:null,CustomPath:Lh,encodePath:uo,fetchNodeKeys:Cu,request:ku},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ue=BigInt(0),Wt=BigInt(1),ks=BigInt(2),Dh=BigInt(8);function Jh(e,t,r,n){const i=e.sqr(r),o=e.sqr(n),a=e.add(e.mul(t.a,i),o),s=e.add(e.ONE,e.mul(t.d,e.mul(i,o)));return e.eql(a,s)}function Qh(e,t={}){const{Fp:r,Fn:n}=Au("edwards",e,t),{h:i,n:o}=e;Wn(t,{},{uvRatio:"function"});const a=ks<<BigInt(n.BYTES*8)-Wt,s=O=>r.create(O),d=t.uvRatio||((O,C)=>{try{return{isValid:!0,value:r.sqrt(r.div(O,C))}}catch{return{isValid:!1,value:Ue}}});if(!Jh(r,e,e.Gx,e.Gy))throw new Error("bad curve params: generator point");function y(O,C,H=!1){const G=H?Wt:Ue;return An("coordinate "+O,C,G,a),C}function E(O){if(!(O instanceof b))throw new Error("ExtendedPoint expected")}const _=Mn((O,C)=>{const{X:H,Y:G,Z:j}=O,K=O.is0();C==null&&(C=K?Dh:r.inv(j));const R=s(H*C),P=s(G*C),q=r.mul(j,C);if(K)return{x:Ue,y:Wt};if(q!==Wt)throw new Error("invZ was invalid");return{x:R,y:P}}),w=Mn(O=>{const{a:C,d:H}=e;if(O.is0())throw new Error("bad point: ZERO");const{X:G,Y:j,Z:K,T:R}=O,P=s(G*G),q=s(j*j),rt=s(K*K),nt=s(rt*rt),I=s(P*C),L=s(rt*s(I+q)),X=s(nt+s(H*s(P*q)));if(L!==X)throw new Error("bad point: equation left != right (1)");const x=s(G*j),N=s(K*R);if(x!==N)throw new Error("bad point: equation left != right (2)");return!0});class b{constructor(C,H,G,j){this.X=y("x",C),this.Y=y("y",H),this.Z=y("z",G,!0),this.T=y("t",j),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(C){return Qe(b,C)}static msm(C,H){return Tu(b,n,C,H)}_setWindowSize(C){this.precompute(C)}static fromAffine(C){if(C instanceof b)throw new Error("extended point not allowed");const{x:H,y:G}=C||{};return y("x",H),y("y",G),new b(H,G,Wt,s(H*G))}precompute(C=8,H=!0){return h.createCache(this,C),H||this.multiply(ks),this}assertValidity(){w(this)}equals(C){E(C);const{X:H,Y:G,Z:j}=this,{X:K,Y:R,Z:P}=C,q=s(H*P),rt=s(K*j),nt=s(G*P),I=s(R*j);return q===rt&&nt===I}is0(){return this.equals(b.ZERO)}negate(){return new b(s(-this.X),this.Y,this.Z,s(-this.T))}double(){const{a:C}=e,{X:H,Y:G,Z:j}=this,K=s(H*H),R=s(G*G),P=s(ks*s(j*j)),q=s(C*K),rt=H+G,nt=s(s(rt*rt)-K-R),I=q+R,L=I-P,X=q-R,x=s(nt*L),N=s(I*X),F=s(nt*X),D=s(L*I);return new b(x,N,D,F)}add(C){E(C);const{a:H,d:G}=e,{X:j,Y:K,Z:R,T:P}=this,{X:q,Y:rt,Z:nt,T:I}=C,L=s(j*q),X=s(K*rt),x=s(P*G*I),N=s(R*nt),F=s((j+K)*(q+rt)-L-X),D=N-x,Q=N+x,W=s(X-H*L),J=s(F*D),lt=s(Q*W),it=s(F*W),st=s(D*Q);return new b(J,lt,st,it)}subtract(C){return this.add(C.negate())}multiply(C){const H=C;An("scalar",H,Wt,o);const{p:G,f:j}=h.cached(this,H,K=>Qe(b,K));return Qe(b,[G,j])[0]}multiplyUnsafe(C,H=b.ZERO){const G=C;return An("scalar",G,Ue,o),G===Ue?b.ZERO:this.is0()||G===Wt?this:h.unsafe(this,G,j=>Qe(b,j),H)}isSmallOrder(){return this.multiplyUnsafe(i).is0()}isTorsionFree(){return h.unsafe(this,o).is0()}toAffine(C){return _(this,C)}clearCofactor(){return i===Wt?this:this.multiplyUnsafe(i)}static fromBytes(C,H=!1){return le(C),b.fromHex(C,H)}static fromHex(C,H=!1){const{d:G,a:j}=e,K=r.BYTES;C=ge("pointHex",C,K),kn("zip215",H);const R=C.slice(),P=C[K-1];R[K-1]=P&-129;const q=Cn(R),rt=H?a:r.ORDER;An("pointHex.y",q,Ue,rt);const nt=s(q*q),I=s(nt-Wt),L=s(G*nt-j);let{isValid:X,value:x}=d(I,L);if(!X)throw new Error("Point.fromHex: invalid y coordinate");const N=(x&Wt)===Wt,F=(P&128)!==0;if(!H&&x===Ue&&F)throw new Error("Point.fromHex: x=0 and x_0=1");return F!==N&&(x=s(-x)),b.fromAffine({x,y:q})}toBytes(){const{x:C,y:H}=this.toAffine(),G=es(H,r.BYTES);return G[G.length-1]|=C&Wt?128:0,G}toRawBytes(){return this.toBytes()}toHex(){return pn(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}b.BASE=new b(e.Gx,e.Gy,Wt,s(e.Gx*e.Gy)),b.ZERO=new b(Ue,Wt,Wt,Ue),b.Fp=r,b.Fn=n;const h=new Su(b,n.BYTES*8);return b}function tp(e,t,r){if(typeof t!="function")throw new Error('"hash" function param is required');Wn(r,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:n}=r,{BASE:i,Fp:o,Fn:a}=e,s=a.ORDER,d=r.randomBytes||Da,y=r.adjustScalarBytes||(L=>L),E=r.domain||((L,X,x)=>{if(kn("phflag",x),X.length||x)throw new Error("Contexts/pre-hash are not supported");return L});function _(L){return a.create(L)}function w(L){return _(Cn(L))}function b(L){const X=o.BYTES;L=ge("private key",L,X);const x=ge("hashed private key",t(L),2*X),N=y(x.slice(0,X)),F=x.slice(X,2*X),D=w(N);return{head:N,prefix:F,scalar:D}}function h(L){const{head:X,prefix:x,scalar:N}=b(L),F=i.multiply(N),D=F.toBytes();return{head:X,prefix:x,scalar:N,point:F,pointBytes:D}}function O(L){return h(L).pointBytes}function C(L=Uint8Array.of(),...X){const x=Vt(...X);return w(t(E(x,ge("context",L),!!n)))}function H(L,X,x={}){L=ge("message",L),n&&(L=n(L));const{prefix:N,scalar:F,pointBytes:D}=h(X),Q=C(x.context,N,L),W=i.multiply(Q).toBytes(),J=C(x.context,W,D,L),lt=_(Q+J*F);An("signature.s",lt,Ue,s);const it=o.BYTES,st=Vt(W,es(lt,it));return ge("result",st,it*2)}const G={zip215:!0};function j(L,X,x,N=G){const{context:F,zip215:D}=N,Q=o.BYTES;L=ge("signature",L,2*Q),X=ge("message",X),x=ge("publicKey",x,Q),D!==void 0&&kn("zip215",D),n&&(X=n(X));const W=Cn(L.slice(Q,2*Q));let J,lt,it;try{J=e.fromHex(x,D),lt=e.fromHex(L.slice(0,Q),D),it=i.multiplyUnsafe(W)}catch{return!1}if(!D&&J.isSmallOrder())return!1;const st=C(F,lt.toBytes(),J.toBytes(),X);return lt.add(J.multiplyUnsafe(st)).subtract(it).clearCofactor().is0()}i.precompute(8);const K=o.BYTES,R={secret:K,public:K,signature:2*K,seed:K};function P(L=d(R.seed)){return L}const q={getExtendedPublicKey:h,randomSecretKey:P,isValidSecretKey:nt,isValidPublicKey:I,randomPrivateKey:P,toMontgomery(L){const{y:X}=e.fromBytes(L),x=K===32;if(!x&&K!==57)throw new Error("only defined for 25519 and 448");const N=x?o.div(Wt+X,Wt-X):o.div(X-Wt,X+Wt);return o.toBytes(N)},toMontgomeryPriv(L){le(L,K);const X=t(L.subarray(0,K));return y(X).subarray(0,K)},precompute(L=8,X=e.BASE){return X.precompute(L,!1)}};function rt(L){const X=q.randomSecretKey(L);return{secretKey:X,publicKey:O(X)}}function nt(L){try{return!!a.fromBytes(L,!1)}catch{return!1}}function I(L,X){try{return!!e.fromBytes(L,X)}catch{return!1}}return Object.freeze({keygen:rt,getPublicKey:O,sign:H,verify:j,utils:q,Point:e,info:{type:"edwards",lengths:R}})}function ep(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},r=e.Fp,n=yr(t.n,e.nBitLength,!0),i={Fp:r,Fn:n,uvRatio:e.uvRatio},o={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:i,hash:e.hash,eddsaOpts:o}}function rp(e,t){return Object.assign({},t,{ExtendedPoint:t.Point,CURVE:e})}function np(e){const{CURVE:t,curveOpts:r,hash:n,eddsaOpts:i}=ep(e),o=Qh(t,r),a=tp(o,n,i);return rp(e,a)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);const ip=BigInt(1),Sa=BigInt(2);BigInt(3);const sp=BigInt(5),op=BigInt(8),os={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:op,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function ap(e){const t=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),o=os.p,s=e*e%o*e%o,d=Ie(s,Sa,o)*s%o,y=Ie(d,ip,o)*e%o,E=Ie(y,sp,o)*y%o,_=Ie(E,t,o)*E%o,w=Ie(_,r,o)*_%o,b=Ie(w,n,o)*w%o,h=Ie(b,i,o)*b%o,O=Ie(h,i,o)*b%o,C=Ie(O,t,o)*E%o;return{pow_p_5_8:Ie(C,Sa,o)*e%o,b2:s}}function cp(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const Ta=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function up(e,t){const r=os.p,n=jt(t*t*t,r),i=jt(n*n*t,r),o=ap(e*i).pow_p_5_8;let a=jt(e*n*o,r);const s=jt(t*a*a,r),d=a,y=jt(a*Ta,r),E=s===e,_=s===jt(-e,r),w=s===jt(-e*Ta,r);return E&&(a=d),(_||w)&&(a=y),ih(a,r)&&(a=jt(-a,r)),{isValid:E||_,value:a}}const lp=yr(os.p,{isLE:!0}),fp={...os,Fp:lp,hash:$0,adjustScalarBytes:cp,uvRatio:up},dp=np(fp);var Aa=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},he=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},oe,Rn,Pu,$u;class hp{constructor(t={}){oe.set(this,void 0),Rn.set(this,void 0),this[Pu]=this.entries.bind(this),this[$u]="ExpirableMap";const{source:r=[],expirationTime:n=10*60*1e3}=t,i=Date.now();Aa(this,oe,new Map([...r].map(([o,a])=>[o,{value:a,timestamp:i}])),"f"),Aa(this,Rn,n,"f")}prune(){const t=Date.now();for(const[r,n]of he(this,oe,"f").entries())t-n.timestamp>he(this,Rn,"f")&&he(this,oe,"f").delete(r);return this}set(t,r){this.prune();const n={value:r,timestamp:Date.now()};return he(this,oe,"f").set(t,n),this}get(t){const r=he(this,oe,"f").get(t);if(r!==void 0){if(Date.now()-r.timestamp>he(this,Rn,"f")){he(this,oe,"f").delete(t);return}return r.value}}clear(){he(this,oe,"f").clear()}entries(){const t=he(this,oe,"f").entries();return function*(){for(const[n,i]of t)yield[n,i.value]}()}values(){const t=he(this,oe,"f").values();return function*(){for(const n of t)yield n.value}()}keys(){return he(this,oe,"f").keys()}forEach(t,r){for(const[n,i]of he(this,oe,"f").entries())t.call(r,i.value,n,this)}has(t){return he(this,oe,"f").has(t)}delete(t){return he(this,oe,"f").delete(t)}get size(){return he(this,oe,"f").size}}oe=new WeakMap,Rn=new WeakMap,Pu=Symbol.iterator,$u=Symbol.toStringTag;const Na=e=>{if(e<=127)return 1;if(e<=255)return 2;if(e<=65535)return 3;if(e<=16777215)return 4;throw new Error("Length too long (> 4 bytes)")},Ra=(e,t,r)=>{if(r<=127)return e[t]=r,1;if(r<=255)return e[t]=129,e[t+1]=r,2;if(r<=65535)return e[t]=130,e[t+1]=r>>8,e[t+2]=r,3;if(r<=16777215)return e[t]=131,e[t+1]=r>>16,e[t+2]=r>>8,e[t+3]=r,4;throw new Error("Length too long (> 4 bytes)")},lo=(e,t)=>{if(e[t]<128)return 1;if(e[t]===128)throw new Error("Invalid length 0");if(e[t]===129)return 2;if(e[t]===130)return 3;if(e[t]===131)return 4;throw new Error("Length too long (> 4 bytes)")},pp=(e,t)=>{const r=lo(e,t);if(r===1)return e[t];if(r===2)return e[t+1];if(r===3)return(e[t+1]<<8)+e[t+2];if(r===4)return(e[t+1]<<16)+(e[t+2]<<8)+e[t+3];throw new Error("Length too long (> 4 bytes)")};Uint8Array.from([48,12,6,10,43,6,1,4,1,131,184,67,1,1]);const Ia=Uint8Array.from([48,5,6,3,43,101,112]);Uint8Array.from([48,16,6,7,42,134,72,206,61,2,1,6,5,43,129,4,0,10]);function gp(e,t){const r=2+Na(e.byteLength+1),n=t.byteLength+r+e.byteLength;let i=0;const o=new Uint8Array(1+Na(n)+n);return o[i++]=48,i+=Ra(o,i,n),o.set(t,i),i+=t.byteLength,o[i++]=3,i+=Ra(o,i,e.byteLength+1),o[i++]=0,o.set(new Uint8Array(e),i),o}const yp=(e,t)=>{let r=0;const n=(s,d)=>{if(i[r++]!==s)throw new Error("Expected: "+d)},i=new Uint8Array(e);if(n(48,"sequence"),r+=lo(i,r),!Yi(i.slice(r,r+t.byteLength),t))throw new Error("Not the expected OID.");r+=t.byteLength,n(3,"bit string");const o=pp(i,r)-1;r+=lo(i,r),n(0,"0 padding");const a=i.slice(r);if(o!==a.length)throw new Error(`DER payload mismatch: Expected length ${o} actual length ${a.length}`);return a};var Oa=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},Ua=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},bi,wi;class Or{constructor(t){if(bi.set(this,void 0),wi.set(this,void 0),t.byteLength!==Or.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");Oa(this,bi,t,"f"),Oa(this,wi,Or.derEncode(t),"f")}static from(t){return this.fromDer(t.toDer())}static fromRaw(t){return new Or(t)}static fromDer(t){return new Or(this.derDecode(t))}static derEncode(t){return gp(t,Ia).buffer}static derDecode(t){const r=yp(t,Ia);if(r.length!==this.RAW_KEY_LENGTH)throw new Error("An Ed25519 public key must be exactly 32bytes long");return r}get rawKey(){return Ua(this,bi,"f")}get derKey(){return Ua(this,wi,"f")}toDer(){return this.derKey}toRaw(){return this.rawKey}}bi=new WeakMap,wi=new WeakMap;Or.RAW_KEY_LENGTH=32;class mp{constructor(){this.observers=[]}subscribe(t){this.observers.push(t)}unsubscribe(t){this.observers=this.observers.filter(r=>r!==t)}notify(t,...r){this.observers.forEach(n=>n(t,...r))}}class bp extends mp{constructor(){super()}print(t,...r){this.notify({message:t,level:"info"},...r)}warn(t,...r){this.notify({message:t,level:"warn"},...r)}error(t,r,...n){this.notify({message:t,level:"error",error:r},...n)}}var Oe=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},se=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},Fe,xi,_i,Ei,vi,Bi,Si,Ti,Qr;const qu=.5,ju=1.5,Vu=500,Gu=6e4,Hu=9e5,zu=10;class as{constructor(t=as.default){Fe.set(this,void 0),xi.set(this,void 0),_i.set(this,void 0),Ei.set(this,void 0),vi.set(this,void 0),Bi.set(this,void 0),Si.set(this,void 0),Ti.set(this,void 0),Qr.set(this,0);const{initialInterval:r=Vu,randomizationFactor:n=qu,multiplier:i=ju,maxInterval:o=Gu,maxElapsedTime:a=Hu,maxIterations:s=zu,date:d=Date}=t;Oe(this,Fe,r,"f"),Oe(this,xi,n,"f"),Oe(this,_i,i,"f"),Oe(this,Ei,o,"f"),Oe(this,Ti,d,"f"),Oe(this,vi,d.now(),"f"),Oe(this,Bi,a,"f"),Oe(this,Si,s,"f")}get ellapsedTimeInMsec(){return se(this,Ti,"f").now()-se(this,vi,"f")}get currentInterval(){return se(this,Fe,"f")}get count(){return se(this,Qr,"f")}get randomValueFromInterval(){const t=se(this,xi,"f")*se(this,Fe,"f"),r=se(this,Fe,"f")-t,n=se(this,Fe,"f")+t;return Math.random()*(n-r)+r}incrementCurrentInterval(){var t;return Oe(this,Fe,Math.min(se(this,Fe,"f")*se(this,_i,"f"),se(this,Ei,"f")),"f"),Oe(this,Qr,(t=se(this,Qr,"f"),t++,t),"f"),se(this,Fe,"f")}next(){return this.ellapsedTimeInMsec>=se(this,Bi,"f")||se(this,Qr,"f")>=se(this,Si,"f")?null:(this.incrementCurrentInterval(),this.randomValueFromInterval)}}Fe=new WeakMap,xi=new WeakMap,_i=new WeakMap,Ei=new WeakMap,vi=new WeakMap,Bi=new WeakMap,Si=new WeakMap,Ti=new WeakMap,Qr=new WeakMap;as.default={initialInterval:Vu,randomizationFactor:qu,multiplier:ju,maxInterval:Gu,maxElapsedTime:Hu,maxIterations:zu,date:Date};var ee=function(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r},ct=function(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)},ae,xr,ln,ke,Le,an,In,tn,Se,Te,_r,Er,On,en,rn,vr,Tr,Wu,Ai,Ni,Br,Ke;(function(e){e.Received="received",e.Processing="processing",e.Replied="replied",e.Rejected="rejected",e.Unknown="unknown",e.Done="done"})(Ke||(Ke={}));const oi=60*1e3,wp="308182301d060d2b0601040182dc7c0503010201060c2b0601040182dc7c05030201036100814c0e6ec71fab583b08bd81373c255c3c371b2e84863c98a4f1e08b74235d14fb5d9c0cd546d9685f913a0c0b2cc5341583bf4b4392e467db96d65b9bb4cb717112f8472e0d5a4d14505ffd7484b01291091c5f87b98883463f98091a0baaae",xp="aaaaa-aa",_p="ic0.app",Ep=".ic0.app",vp="icp0.io",Bp=".icp0.io",Sp="icp-api.io",Tp=".icp-api.io";class Cs extends $t{constructor(t){super(t),this.message=t}}class ai extends $t{constructor(t){super(t),this.message=t}}function Ap(){let e;if(typeof window<"u")if(window.fetch)e=window.fetch.bind(window);else throw new Cs("Fetch implementation was not available. You appear to be in a browser context, but window.fetch was not present.");else if(typeof global<"u")if(global.fetch)e=global.fetch.bind(global);else throw new Cs("Fetch implementation was not available. You appear to be in a Node.js context, but global.fetch was not available.");else typeof self<"u"&&self.fetch&&(e=self.fetch.bind(self));if(e)return e;throw new Cs("Fetch implementation was not available. Please provide fetch to the HttpAgent constructor, or ensure it is available in the window or global context.")}function Np(e){let t;if(e!==void 0)!e.match(/^[a-z]+:/)&&typeof window<"u"?t=new URL(window.location.protocol+"//"+e):t=new URL(e);else{const r=["ic0.app","icp0.io","127.0.0.1","localhost"],n=[".github.dev",".gitpod.io"],i=typeof window<"u"?window.location:void 0,o=i==null?void 0:i.hostname;let a;o&&typeof o=="string"&&(n.some(s=>o.endsWith(s))?a=o:a=r.find(s=>o.endsWith(s))),i&&a?t=new URL(`${i.protocol}//${a}${i.port?":"+i.port:""}`):t=new URL("https://icp-api.io")}return t.toString()}class cn{constructor(t={}){var r,n;ae.add(this),xr.set(this,null),ln.set(this,!1),ke.set(this,void 0),Le.set(this,void 0),an.set(this,void 0),In.set(this,void 0),tn.set(this,0),Se.set(this,void 0),Te.set(this,void 0),_r.set(this,void 0),Er.set(this,void 0),this._isAgent=!0,this.config={},On.set(this,0),this.log=new bp,en.set(this,[]),rn.set(this,[]),vr.set(this,new hp({expirationTime:5*60*1e3})),Tr.set(this,!0),Ni.set(this,(a,s)=>{if(ct(this,Tr,"f")===!1)return a;if(!s)throw new Me("Invalid signature from replica signed query: no matching node key found.");const{status:d,signatures:y=[],requestId:E}=a,_=Sn(new TextEncoder().encode("\vic-response"));for(const w of y){const{timestamp:b,identity:h}=w,O=vt.fromUint8Array(h).toText();let C;if(d==="replied"){const{reply:R}=a;C=qi({status:d,reply:R,timestamp:BigInt(b),request_id:E})}else if(d==="rejected"){const{reject_code:R,reject_message:P,error_code:q}=a;C=qi({status:d,reject_code:R,reject_message:P,error_code:q,timestamp:BigInt(b),request_id:E})}else throw new Error(`Unknown status: ${d}`);const H=qe(_,Sn(new Uint8Array(C))),G=s==null?void 0:s.nodeKeys.get(O);if(!G)throw new Me("Invalid signature from replica signed query: no matching node key found.");const j=Or.fromDer(G).rawKey;if(dp.verify(w.signature,new Uint8Array(H),new Uint8Array(j)))return a;throw new Me(`Invalid signature from replica ${O} signed query.`)}return a}),this.config=t,ee(this,Le,t.fetch||Ap()||fetch.bind(global),"f"),ee(this,an,t.fetchOptions,"f"),ee(this,In,t.callOptions,"f"),ee(this,ln,(r=t.shouldFetchRootKey)!==null&&r!==void 0?r:!1,"f"),t.rootKey?this.rootKey=t.rootKey:ct(this,ln,"f")?this.rootKey=null:this.rootKey=Ci(wp);const i=Np(t.host);this.host=new URL(i),t.verifyQuerySignatures!==void 0&&ee(this,Tr,t.verifyQuerySignatures,"f"),ee(this,Te,(n=t.retryTimes)!==null&&n!==void 0?n:3,"f");const o=()=>new as({maxIterations:ct(this,Te,"f")});if(ee(this,_r,t.backoffStrategy||o,"f"),this.host.hostname.endsWith(Ep)?this.host.hostname=_p:this.host.hostname.endsWith(Bp)?this.host.hostname=vp:this.host.hostname.endsWith(Tp)&&(this.host.hostname=Sp),t.credentials){const{name:a,password:s}=t.credentials;ee(this,Se,`${a}${s?":"+s:""}`,"f")}if(ee(this,ke,Promise.resolve(t.identity||new sa),"f"),t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes>5)throw new $t(`The maximum ingress expiry time is 5 minutes. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);if(t.ingressExpiryInMinutes&&t.ingressExpiryInMinutes<=0)throw new $t(`Ingress expiry time must be greater than 0. Provided ingress expiry time is ${t.ingressExpiryInMinutes} minutes.`);ee(this,Er,t.ingressExpiryInMinutes||5,"f"),this.addTransform("update",ca(so)),t.useQueryNonces&&this.addTransform("query",ca(so)),t.logToConsole&&this.log.subscribe(a=>{a.level==="error"?console.error(a.message):a.level==="warn"?console.warn(a.message):console.log(a.message)})}get waterMark(){return ct(this,On,"f")}static createSync(t={}){return new this(Object.assign({},t))}static async create(t={shouldFetchRootKey:!1}){const r=cn.createSync(t),n=[r.syncTime()];return r.host.toString()!=="https://icp-api.io"&&t.shouldFetchRootKey&&n.push(r.fetchRootKey()),await Promise.all(n),r}static async from(t){var r;try{return"config"in t?await cn.create(t.config):await cn.create({fetch:t._fetch,fetchOptions:t._fetchOptions,callOptions:t._callOptions,host:t._host.toString(),identity:(r=t._identity)!==null&&r!==void 0?r:void 0})}catch{throw new $t("Failed to create agent from provided agent")}}isLocal(){const t=this.host.hostname;return t==="127.0.0.1"||t.endsWith("127.0.0.1")}addTransform(t,r,n=r.priority||0){if(t==="update"){const i=ct(this,rn,"f").findIndex(o=>(o.priority||0)<n);ct(this,rn,"f").splice(i>=0?i:ct(this,rn,"f").length,0,Object.assign(r,{priority:n}))}else if(t==="query"){const i=ct(this,en,"f").findIndex(o=>(o.priority||0)<n);ct(this,en,"f").splice(i>=0?i:ct(this,en,"f").length,0,Object.assign(r,{priority:n}))}}async getPrincipal(){if(!ct(this,ke,"f"))throw new ai("This identity has expired due this application's security policy. Please refresh your authentication.");return(await ct(this,ke,"f")).getPrincipal()}async call(t,r,n){var i,o;await ct(this,ae,"m",Br).call(this);const a=(i=r.callSync)!==null&&i!==void 0?i:!0,s=await(n!==void 0?await n:await ct(this,ke,"f"));if(!s)throw new ai("This identity has expired due this application's security policy. Please refresh your authentication.");const d=vt.from(t),y=r.effectiveCanisterId?vt.from(r.effectiveCanisterId):d,E=s.getPrincipal()||vt.anonymous();let _=new ii(ct(this,Er,"f")*oi);Math.abs(ct(this,tn,"f"))>1e3*30&&(_=new ii(ct(this,Er,"f")*oi+ct(this,tn,"f")));const w={request_type:io.Call,canister_id:d,method_name:r.methodName,arg:r.arg,sender:E,ingress_expiry:_};let b=await this._transform({request:{body:null,method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},ct(this,Se,"f")?{Authorization:"Basic "+btoa(ct(this,Se,"f"))}:{})},endpoint:"call",body:w}),h;r!=null&&r.nonce?h=O(r.nonce):b.body.nonce?h=O(b.body.nonce):h=void 0,w.nonce=h;function O(j){return new Uint8Array(j)}b=await s.transformRequest(b);const C=_s(b.body),H=ct(this,_r,"f").call(this),G=ia(w);try{const j=()=>(this.log.print(`fetching "/api/v3/canister/${y.toText()}/call" with request:`,b),ct(this,Le,"f").call(this,""+new URL(`/api/v3/canister/${y.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},ct(this,In,"f")),b.request),{body:C}))),K=()=>(this.log.print(`fetching "/api/v2/canister/${y.toText()}/call" with request:`,b),ct(this,Le,"f").call(this,""+new URL(`/api/v2/canister/${y.toText()}/call`,this.host),Object.assign(Object.assign(Object.assign({},ct(this,In,"f")),b.request),{body:C}))),P=await ct(this,ae,"m",Ai).call(this,{request:a?j:K,backoff:H,tries:0}),q=await P.arrayBuffer(),rt=P.status===200&&q.byteLength>0?Je(q):null;if(rt&&"certificate"in rt){const nt=await this.parseTimeFromResponse({certificate:rt.certificate});ee(this,On,nt,"f")}return{requestId:G,response:{ok:P.ok,status:P.status,statusText:P.statusText,body:rt,headers:Tn(P.headers)},requestDetails:w}}catch(j){if(j.message.includes("v3 api not supported."))return this.log.warn("v3 api not supported. Fall back to v2"),this.call(t,Object.assign(Object.assign({},r),{callSync:!1}),n);const K=`Error while making call: ${(o=j.message)!==null&&o!==void 0?o:String(j)}`,R=new Kd(K,j,Jt(G),Jt(b.body.sender_pubkey),Jt(b.body.sender_sig),String(b.body.content.ingress_expiry._value));throw this.log.error(K,R),R}}async query(t,r,n){var i,o,a,s;await ct(this,ae,"m",Br).call(this);const d=ct(this,_r,"f").call(this),y=r.effectiveCanisterId?vt.from(r.effectiveCanisterId):vt.from(t);this.log.print(`ecid ${y.toString()}`),this.log.print(`canisterId ${t.toString()}`);let E,_;const w=await(n!==void 0?n:ct(this,ke,"f"));if(!w)throw new ai("This identity has expired due this application's security policy. Please refresh your authentication.");const b=vt.from(t),h=(w==null?void 0:w.getPrincipal())||vt.anonymous(),O={request_type:"query",canister_id:b,method_name:r.methodName,arg:r.arg,sender:h,ingress_expiry:new ii(ct(this,Er,"f")*oi)},C=ia(O);E=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},ct(this,Se,"f")?{Authorization:"Basic "+btoa(ct(this,Se,"f"))}:{})},endpoint:"read",body:O}),E=await(w==null?void 0:w.transformRequest(E));const H=_s(E.body),G={canister:b.toText(),ecid:y,transformedRequest:E,body:H,requestId:C,backoff:d,tries:0},j=async()=>({requestDetails:O,query:await ct(this,ae,"m",Wu).call(this,G)}),K=async()=>{if(!ct(this,Tr,"f"))return;const R=ct(this,vr,"f").get(y.toString());return R||(await this.fetchSubnetKeys(y.toString()),ct(this,vr,"f").get(y.toString()))};try{const[R,P]=await Promise.all([j(),K()]);_=R;const{requestDetails:q,query:rt}=_,nt=Object.assign(Object.assign({},rt),{requestDetails:q});if(this.log.print("Query response:",nt),!ct(this,Tr,"f"))return nt;try{return ct(this,Ni,"f").call(this,nt,P)}catch{this.log.warn("Query response verification failed. Retrying with fresh subnet keys."),ct(this,vr,"f").delete(t.toString()),await this.fetchSubnetKeys(y.toString());const L=ct(this,vr,"f").get(t.toString());if(!L)throw new Me("Invalid signature from replica signed query: no matching node key found.");return ct(this,Ni,"f").call(this,nt,L)}}catch(R){const P=`Error while making call: ${(i=R.message)!==null&&i!==void 0?i:String(R)}`,q=new Zd(P,R,String(C),Jt((o=E==null?void 0:E.body)===null||o===void 0?void 0:o.sender_pubkey),Jt((a=E==null?void 0:E.body)===null||a===void 0?void 0:a.sender_sig),String((s=E==null?void 0:E.body)===null||s===void 0?void 0:s.content.ingress_expiry._value));throw this.log.error(P,q),q}}async createReadStateRequest(t,r){await ct(this,ae,"m",Br).call(this);const n=await(r!==void 0?await r:await ct(this,ke,"f"));if(!n)throw new ai("This identity has expired due this application's security policy. Please refresh your authentication.");const i=(n==null?void 0:n.getPrincipal())||vt.anonymous(),o=await this._transform({request:{method:"POST",headers:Object.assign({"Content-Type":"application/cbor"},ct(this,Se,"f")?{Authorization:"Basic "+btoa(ct(this,Se,"f"))}:{})},endpoint:"read_state",body:{request_type:"read_state",paths:t.paths,sender:i,ingress_expiry:new ii(ct(this,Er,"f")*oi)}});return n==null?void 0:n.transformRequest(o)}async readState(t,r,n,i){var o,a,s,d;function y(O){for(const C of O.paths){const[H,G]=C,j=Sn(new TextEncoder().encode("request_status"));if(Yi(H,j))return G}}const E=y(r);await ct(this,ae,"m",Br).call(this);const _=typeof t=="string"?vt.fromText(t):t,w=i??await this.createReadStateRequest(r,n),b=_s(w.body);this.log.print(`fetching "/api/v2/canister/${_}/read_state" with request:`,w);const h=ct(this,_r,"f").call(this);try{const O=await ct(this,ae,"m",Ai).call(this,{request:()=>ct(this,Le,"f").call(this,""+new URL(`/api/v2/canister/${_.toString()}/read_state`,this.host),Object.assign(Object.assign(Object.assign({},ct(this,an,"f")),w.request),{body:b})),backoff:h,tries:0});if(!O.ok)throw new Error(`Server returned an error:
  Code: ${O.status} (${O.statusText})
  Body: ${await O.text()}
`);const C=Je(await O.arrayBuffer());this.log.print("Read state response:",C);const H=await this.parseTimeFromResponse(C);return H>0&&(this.log.print("Read state response time:",H),ee(this,On,H,"f")),C}catch(O){const C=`Caught exception while attempting to read state: ${(o=O.message)!==null&&o!==void 0?o:String(O)}`,H=new Xd(C,O,String(E),Jt((a=w==null?void 0:w.body)===null||a===void 0?void 0:a.sender_pubkey),Jt((s=w==null?void 0:w.body)===null||s===void 0?void 0:s.sender_sig),String((d=w==null?void 0:w.body)===null||d===void 0?void 0:d.content.ingress_expiry._value));throw this.log.error(C,H),H}}async parseTimeFromResponse(t){let r;if(t.certificate){const n=Je(t.certificate);if(n&&"tree"in n)r=n.tree;else throw new Error("Could not decode time from response");const i=mn(["time"],r);if(i.status!==Yt.Found)throw new Error("Time was not found in the response or was not in its expected format.");if(!(i.value instanceof ArrayBuffer)&&!ArrayBuffer.isView(i))throw new Error("Time was not found in the response or was not in its expected format.");const o=Fo(Sn(i.value));return this.log.print("Time from response:",o),this.log.print("Time from response in milliseconds:",Number(o)),Number(o)}else this.log.warn("No certificate found in response");return 0}async syncTime(t){await ct(this,ae,"m",Br).call(this);const r=await Tl(()=>Promise.resolve().then(()=>Xh),void 0,import.meta.url),n=Date.now();try{t||this.log.print("Syncing time with the IC. No canisterId provided, so falling back to ryjl3-tyaaa-aaaaa-aaaba-cai");const i=cn.createSync({identity:new sa,host:this.host.toString(),fetch:ct(this,Le,"f"),retryTimes:0}),a=(await r.request({canisterId:t??vt.from("ryjl3-tyaaa-aaaaa-aaaba-cai"),agent:i,paths:["time"]})).get("time");a&&(ee(this,tn,Number(a)-Number(n),"f"),this.log.notify({message:`Syncing time: offset of ${ct(this,tn,"f")}`,level:"info"}))}catch(i){this.log.error("Caught exception while attempting to sync time",i)}}async status(){const t=ct(this,Se,"f")?{Authorization:"Basic "+btoa(ct(this,Se,"f"))}:{};this.log.print('fetching "/api/v2/status"');const r=ct(this,_r,"f").call(this),n=await ct(this,ae,"m",Ai).call(this,{backoff:r,request:()=>ct(this,Le,"f").call(this,""+new URL("/api/v2/status",this.host),Object.assign({headers:t},ct(this,an,"f"))),tries:0});return Je(await n.arrayBuffer())}async fetchRootKey(){let t;return ct(this,xr,"f")?t=await ct(this,xr,"f"):(ee(this,xr,new Promise((r,n)=>{this.status().then(i=>{const o=i.root_key;this.rootKey=o,r(o)}).catch(n)}),"f"),t=await ct(this,xr,"f")),ee(this,xr,null,"f"),t}invalidateIdentity(){ee(this,ke,null,"f")}replaceIdentity(t){ee(this,ke,Promise.resolve(t),"f")}async fetchSubnetKeys(t){await ct(this,ae,"m",Br).call(this);const r=vt.from(t),i=(await ku({canisterId:r,paths:["subnet"],agent:this})).get("subnet");if(i&&typeof i=="object"&&"nodeKeys"in i)return ct(this,vr,"f").set(r.toText(),i),i}_transform(t){let r=Promise.resolve(t);if(t.endpoint==="call")for(const n of ct(this,rn,"f"))r=r.then(i=>n(i).then(o=>o||i));else for(const n of ct(this,en,"f"))r=r.then(i=>n(i).then(o=>o||i));return r}}xr=new WeakMap,ln=new WeakMap,ke=new WeakMap,Le=new WeakMap,an=new WeakMap,In=new WeakMap,tn=new WeakMap,Se=new WeakMap,Te=new WeakMap,_r=new WeakMap,Er=new WeakMap,On=new WeakMap,en=new WeakMap,rn=new WeakMap,vr=new WeakMap,Tr=new WeakMap,Ni=new WeakMap,ae=new WeakSet,Wu=async function e(t){var r,n;const{ecid:i,transformedRequest:o,body:a,requestId:s,backoff:d,tries:y}=t,E=y===0?0:d.next();if(this.log.print(`fetching "/api/v2/canister/${i.toString()}/query" with tries:`,{tries:y,backoff:d,delay:E}),E===null)throw new $t(`Timestamp failed to pass the watermark after retrying the configured ${ct(this,Te,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);E>0&&await new Promise(h=>setTimeout(h,E));let _;try{this.log.print(`fetching "/api/v2/canister/${i.toString()}/query" with request:`,o);const h=await ct(this,Le,"f").call(this,""+new URL(`/api/v2/canister/${i.toString()}/query`,this.host),Object.assign(Object.assign(Object.assign({},ct(this,an,"f")),o.request),{body:a}));if(h.status===200){const O=Je(await h.arrayBuffer());_=Object.assign(Object.assign({},O),{httpDetails:{ok:h.ok,status:h.status,statusText:h.statusText,headers:Tn(h.headers)},requestId:s})}else throw new Es(`Gateway returned an error:
  Code: ${h.status} (${h.statusText})
  Body: ${await h.text()}
`,{ok:h.ok,status:h.status,statusText:h.statusText,headers:Tn(h.headers)})}catch(h){if(y<ct(this,Te,"f"))return this.log.warn(`Caught exception while attempting to make query:
  ${h}
  Retrying query.`),await ct(this,ae,"m",e).call(this,Object.assign(Object.assign({},t),{tries:y+1}));throw h}const w=(n=(r=_.signatures)===null||r===void 0?void 0:r[0])===null||n===void 0?void 0:n.timestamp;if(!ct(this,Tr,"f"))return _;if(!w)throw new Error("Timestamp not found in query response. This suggests a malformed or malicious response.");const b=Number(BigInt(w)/BigInt(1e6));if(this.log.print("watermark and timestamp",{waterMark:this.waterMark,timestamp:b}),Number(this.waterMark)>b){const h=new $t("Timestamp is below the watermark. Retrying query.");if(this.log.error("Timestamp is below",h,{timestamp:w,waterMark:this.waterMark}),y<ct(this,Te,"f"))return await ct(this,ae,"m",e).call(this,Object.assign(Object.assign({},t),{tries:y+1}));throw new $t(`Timestamp failed to pass the watermark after retrying the configured ${ct(this,Te,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`)}return _},Ai=async function e(t){const{request:r,backoff:n,tries:i}=t,o=i===0?0:n.next();if(o===null)throw new $t(`Timestamp failed to pass the watermark after retrying the configured ${ct(this,Te,"f")} times. We cannot guarantee the integrity of the response since it could be a replay attack.`);o>0&&await new Promise(y=>setTimeout(y,o));let a;try{a=await r()}catch(y){if(ct(this,Te,"f")>i)return this.log.warn(`Caught exception while attempting to make request:
  ${y}
  Retrying request.`),await ct(this,ae,"m",e).call(this,{request:r,backoff:n,tries:i+1});throw y}if(a.ok)return a;const s=await a.clone().text(),d=`Server returned an error:
  Code: ${a.status} (${a.statusText})
  Body: ${s}
`;if(a.status===404&&a.url.includes("api/v3"))throw new Es("v3 api not supported. Fall back to v2",{ok:a.ok,status:a.status,statusText:a.statusText,headers:Tn(a.headers)});if(i<ct(this,Te,"f"))return await ct(this,ae,"m",e).call(this,{request:r,backoff:n,tries:i+1});throw new Es(d,{ok:a.ok,status:a.status,statusText:a.statusText,headers:Tn(a.headers)})},Br=async function(){if(!this.rootKey)if(this.rootKey===null&&ct(this,ln,"f"))await this.fetchRootKey();else throw new $t(`Invalid root key detected. The root key for this agent is ${this.rootKey} and the shouldFetchRootKey value is set to ${ct(this,ln,"f")}. The root key should only be unknown if you are in local development. Otherwise you should avoid fetching and use the default IC Root Key or the known root key of your environment.`)};var Fa;(function(e){e.Error="err",e.GetPrincipal="gp",e.GetPrincipalResponse="gpr",e.Query="q",e.QueryResponse="qr",e.Call="c",e.CallResponse="cr",e.ReadState="rs",e.ReadStateResponse="rsr",e.Status="s",e.StatusResponse="sr"})(Fa||(Fa={}));function ka(){const e=typeof window>"u"?typeof global>"u"?typeof self>"u"?void 0:self.ic.agent:global.ic.agent:window.ic.agent;if(!e)throw new Error("No Agent could be found.");return e}const Rp=5*60*1e3;function Yu(){return kp(Op(Ip(),1e3),Fp(1e3,1.2),Up(Rp))}function Ip(){let e=!0;return async()=>e?(e=!1,!0):!1}function Op(e,t){return async(r,n,i)=>{if(await e(r,n,i))return new Promise(o=>setTimeout(o,t))}}function Up(e){const t=Date.now()+e;return async(r,n,i)=>{if(Date.now()>t)throw new Error(`Request timed out after ${e} msec:
  Request ID: ${Jt(n)}
  Request status: ${i}
`)}}function Fp(e,t){let r=e;return()=>new Promise(n=>setTimeout(()=>{r*=t,n()},r))}function kp(...e){return async(t,r,n)=>{for(const i of e)await i(t,r,n)}}async function Lu(e,t,r,n=Yu(),i,o){var a;const s=[new TextEncoder().encode("request_status"),r],d=i??await((a=e.createReadStateRequest)===null||a===void 0?void 0:a.call(e,{paths:[s]})),y=await e.readState(t,{paths:[s]},void 0,d);if(e.rootKey==null)throw new Error("Agent root key not initialized before polling");const E=await Cr.create({certificate:y.certificate,rootKey:e.rootKey,canisterId:t,blsVerify:o}),_=_e(E.lookup([...s,new TextEncoder().encode("status")]));let w;switch(typeof _>"u"?w=Ke.Unknown:w=new TextDecoder().decode(_),w){case Ke.Replied:return{reply:_e(E.lookup([...s,"reply"])),certificate:E};case Ke.Received:case Ke.Unknown:case Ke.Processing:return await n(t,r,w),Lu(e,t,r,n,d,o);case Ke.Rejected:{const b=new Uint8Array(_e(E.lookup([...s,"reject_code"])))[0],h=new TextDecoder().decode(_e(E.lookup([...s,"reject_message"])));throw new Error(`Call was rejected:
  Request ID: ${Jt(r)}
  Reject code: ${b}
  Reject text: ${h}
`)}case Ke.Done:throw new Error(`Call was marked as done but we never saw the reply:
  Request ID: ${Jt(r)}
`)}throw new Error("unreachable")}const Cp=({IDL:e})=>{const t=e.Variant({mainnet:e.Null,testnet:e.Null}),r=e.Text,n=e.Record({network:t,address:r,min_confirmations:e.Opt(e.Nat32)}),i=e.Nat64,o=i,a=e.Nat32,s=e.Record({start_height:a,end_height:e.Opt(a),network:t}),d=e.Vec(e.Nat8),y=e.Record({tip_height:a,block_headers:e.Vec(d)}),E=e.Record({network:t}),_=e.Nat64,w=e.Vec(_),b=e.Record({network:t,filter:e.Opt(e.Variant({page:e.Vec(e.Nat8),min_confirmations:e.Nat32})),address:r}),h=e.Vec(e.Nat8),O=e.Record({txid:e.Vec(e.Nat8),vout:e.Nat32}),C=e.Record({height:e.Nat32,value:i,outpoint:O}),H=e.Record({next_page:e.Opt(e.Vec(e.Nat8)),tip_height:a,tip_block_hash:h,utxos:e.Vec(C)}),G=e.Record({transaction:e.Vec(e.Nat8),network:t}),j=e.Principal,K=e.Record({canister_id:j,num_requested_changes:e.Opt(e.Nat64)}),R=e.Variant({from_user:e.Record({user_id:e.Principal}),from_canister:e.Record({canister_version:e.Opt(e.Nat64),canister_id:e.Principal})}),P=e.Vec(e.Nat8),q=e.Variant({creation:e.Record({controllers:e.Vec(e.Principal)}),code_deployment:e.Record({mode:e.Variant({reinstall:e.Null,upgrade:e.Null,install:e.Null}),module_hash:e.Vec(e.Nat8)}),load_snapshot:e.Record({canister_version:e.Nat64,taken_at_timestamp:e.Nat64,snapshot_id:P}),controllers_change:e.Record({controllers:e.Vec(e.Principal)}),code_uninstall:e.Null}),rt=e.Record({timestamp_nanos:e.Nat64,canister_version:e.Nat64,origin:R,details:q}),nt=e.Record({controllers:e.Vec(e.Principal),module_hash:e.Opt(e.Vec(e.Nat8)),recent_changes:e.Vec(rt),total_num_changes:e.Nat64}),I=e.Record({canister_id:j}),L=e.Variant({controllers:e.Null,public:e.Null,allowed_viewers:e.Vec(e.Principal)}),X=e.Record({freezing_threshold:e.Nat,controllers:e.Vec(e.Principal),reserved_cycles_limit:e.Nat,log_visibility:L,wasm_memory_limit:e.Nat,memory_allocation:e.Nat,compute_allocation:e.Nat}),x=e.Record({status:e.Variant({stopped:e.Null,stopping:e.Null,running:e.Null}),memory_size:e.Nat,cycles:e.Nat,settings:X,query_stats:e.Record({response_payload_bytes_total:e.Nat,num_instructions_total:e.Nat,num_calls_total:e.Nat,request_payload_bytes_total:e.Nat}),idle_cycles_burned_per_day:e.Nat,module_hash:e.Opt(e.Vec(e.Nat8)),reserved_cycles:e.Nat}),N=e.Record({canister_id:j}),F=e.Record({freezing_threshold:e.Opt(e.Nat),controllers:e.Opt(e.Vec(e.Principal)),reserved_cycles_limit:e.Opt(e.Nat),log_visibility:e.Opt(L),wasm_memory_limit:e.Opt(e.Nat),memory_allocation:e.Opt(e.Nat),compute_allocation:e.Opt(e.Nat)}),D=e.Record({settings:e.Opt(F),sender_canister_version:e.Opt(e.Nat64)}),Q=e.Record({canister_id:j}),W=e.Record({canister_id:j}),J=e.Record({canister_id:j,snapshot_id:P}),lt=e.Record({canister_id:j}),it=e.Variant({secp256k1:e.Null}),st=e.Record({key_id:e.Record({name:e.Text,curve:it}),canister_id:e.Opt(j),derivation_path:e.Vec(e.Vec(e.Nat8))}),Et=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),S=e.Record({canister_id:j}),Ot=e.Record({idx:e.Nat64,timestamp_nanos:e.Nat64,content:e.Vec(e.Nat8)}),Bt=e.Record({canister_log_records:e.Vec(Ot)}),Ut=e.Record({value:e.Text,name:e.Text}),ft=e.Record({status:e.Nat,body:e.Vec(e.Nat8),headers:e.Vec(Ut)}),pt=e.Record({url:e.Text,method:e.Variant({get:e.Null,head:e.Null,post:e.Null}),max_response_bytes:e.Opt(e.Nat64),body:e.Opt(e.Vec(e.Nat8)),transform:e.Opt(e.Record({function:e.Func([e.Record({context:e.Vec(e.Nat8),response:ft})],[ft],["query"]),context:e.Vec(e.Nat8)})),headers:e.Vec(Ut)}),B=e.Variant({reinstall:e.Null,upgrade:e.Opt(e.Record({wasm_memory_persistence:e.Opt(e.Variant({keep:e.Null,replace:e.Null})),skip_pre_upgrade:e.Opt(e.Bool)})),install:e.Null}),T=e.Record({hash:e.Vec(e.Nat8)}),k=e.Record({arg:e.Vec(e.Nat8),wasm_module_hash:e.Vec(e.Nat8),mode:B,chunk_hashes_list:e.Vec(T),target_canister:j,store_canister:e.Opt(j),sender_canister_version:e.Opt(e.Nat64)}),Y=e.Vec(e.Nat8),$=e.Record({arg:e.Vec(e.Nat8),wasm_module:Y,mode:B,canister_id:j,sender_canister_version:e.Opt(e.Nat64)}),Z=e.Record({canister_id:j}),p=e.Record({id:P,total_size:e.Nat64,taken_at_timestamp:e.Nat64}),c=e.Vec(p),u=e.Record({canister_id:j,sender_canister_version:e.Opt(e.Nat64),snapshot_id:P}),m=e.Record({start_at_timestamp_nanos:e.Nat64,subnet_id:e.Principal}),v=e.Record({num_block_failures_total:e.Nat64,node_id:e.Principal,num_blocks_proposed_total:e.Nat64}),U=e.Vec(e.Record({timestamp_nanos:e.Nat64,node_metrics:e.Vec(v)})),V=e.Record({settings:e.Opt(F),specified_id:e.Opt(j),amount:e.Opt(e.Nat),sender_canister_version:e.Opt(e.Nat64)}),ot=e.Record({canister_id:j}),dt=e.Record({canister_id:j,amount:e.Nat}),ht=e.Vec(e.Nat8),xt=e.Variant({ed25519:e.Null,bip340secp256k1:e.Null}),g=e.Record({key_id:e.Record({algorithm:xt,name:e.Text}),canister_id:e.Opt(j),derivation_path:e.Vec(e.Vec(e.Nat8))}),l=e.Record({public_key:e.Vec(e.Nat8),chain_code:e.Vec(e.Nat8)}),f=e.Record({key_id:e.Record({name:e.Text,curve:it}),derivation_path:e.Vec(e.Vec(e.Nat8)),message_hash:e.Vec(e.Nat8)}),A=e.Record({signature:e.Vec(e.Nat8)}),z=e.Variant({bip341:e.Record({merkle_root_hash:e.Vec(e.Nat8)})}),et=e.Record({aux:e.Opt(z),key_id:e.Record({algorithm:xt,name:e.Text}),derivation_path:e.Vec(e.Vec(e.Nat8)),message:e.Vec(e.Nat8)}),tt=e.Record({signature:e.Vec(e.Nat8)}),bt=e.Record({canister_id:j}),_t=e.Record({canister_id:j}),wt=e.Record({canister_id:j}),mt=e.Vec(T),Rt=e.Record({subnet_id:e.Principal}),Pt=e.Record({replica_version:e.Text}),us=e.Record({replace_snapshot:e.Opt(P),canister_id:j}),ls=p,fs=e.Record({canister_id:j,sender_canister_version:e.Opt(e.Nat64)}),ds=e.Record({canister_id:e.Principal,settings:F,sender_canister_version:e.Opt(e.Nat64)}),hs=e.Record({chunk:e.Vec(e.Nat8),canister_id:e.Principal}),nr=T;return e.Service({bitcoin_get_balance:e.Func([n],[o],[]),bitcoin_get_block_headers:e.Func([s],[y],[]),bitcoin_get_current_fee_percentiles:e.Func([E],[w],[]),bitcoin_get_utxos:e.Func([b],[H],[]),bitcoin_send_transaction:e.Func([G],[],[]),canister_info:e.Func([K],[nt],[]),canister_status:e.Func([I],[x],[]),clear_chunk_store:e.Func([N],[],[]),create_canister:e.Func([D],[Q],[]),delete_canister:e.Func([W],[],[]),delete_canister_snapshot:e.Func([J],[],[]),deposit_cycles:e.Func([lt],[],[]),ecdsa_public_key:e.Func([st],[Et],[]),fetch_canister_logs:e.Func([S],[Bt],["query"]),http_request:e.Func([pt],[ft],[]),install_chunked_code:e.Func([k],[],[]),install_code:e.Func([$],[],[]),list_canister_snapshots:e.Func([Z],[c],[]),load_canister_snapshot:e.Func([u],[],[]),node_metrics_history:e.Func([m],[U],[]),provisional_create_canister_with_cycles:e.Func([V],[ot],[]),provisional_top_up_canister:e.Func([dt],[],[]),raw_rand:e.Func([],[ht],[]),schnorr_public_key:e.Func([g],[l],[]),sign_with_ecdsa:e.Func([f],[A],[]),sign_with_schnorr:e.Func([et],[tt],[]),start_canister:e.Func([bt],[],[]),stop_canister:e.Func([_t],[],[]),stored_chunks:e.Func([wt],[mt],[]),subnet_info:e.Func([Rt],[Pt],[]),take_canister_snapshot:e.Func([us],[ls],[]),uninstall_code:e.Func([fs],[],[]),update_settings:e.Func([ds],[],[]),upload_chunk:e.Func([hs],[nr],[])})};class Ku extends $t{constructor(t,r,n,i){super(["Call failed:",`  Canister: ${t.toText()}`,`  Method: ${r} (${n})`,...Object.getOwnPropertyNames(i).map(o=>`  "${o}": ${JSON.stringify(i[o])}`)].join(`
`)),this.canisterId=t,this.methodName=r,this.type=n,this.props=i}}class Mp extends Ku{constructor(t,r,n){var i;super(t,r,"query",{Status:n.status,Code:(i=Ks[n.reject_code])!==null&&i!==void 0?i:`Unknown Code "${n.reject_code}"`,Message:n.reject_message}),this.result=n}}class Ca extends Ku{constructor(t,r,n,i,o,a,s){super(t,r,"update",Object.assign({"Request ID":Jt(n)},i.body?Object.assign(Object.assign({},s?{"Error code":s}:{}),{"Reject code":String(o),"Reject message":a}):{"HTTP status code":i.status.toString(),"HTTP status text":i.statusText})),this.requestId=n,this.response=i,this.reject_code=o,this.reject_message=a,this.error_code=s}}const we=Symbol.for("ic-agent-metadata");class cs{constructor(t){this[we]=Object.freeze(t)}static agentOf(t){return t[we].config.agent}static interfaceOf(t){return t[we].service}static canisterIdOf(t){return vt.from(t[we].config.canisterId)}static async install(t,r){const n=t.mode===void 0?{install:null}:t.mode,i=t.arg?[...new Uint8Array(t.arg)]:[],o=[...new Uint8Array(t.module)],a=typeof r.canisterId=="string"?vt.fromText(r.canisterId):r.canisterId;await Ma(r).install_code({mode:n,arg:i,wasm_module:o,canister_id:a,sender_canister_version:[]})}static async createCanister(t,r){function n(o){return[{controllers:o.controllers?[o.controllers]:[],compute_allocation:o.compute_allocation?[o.compute_allocation]:[],freezing_threshold:o.freezing_threshold?[o.freezing_threshold]:[],memory_allocation:o.memory_allocation?[o.memory_allocation]:[],reserved_cycles_limit:[],log_visibility:[],wasm_memory_limit:[]}]}const{canister_id:i}=await Ma(t||{}).provisional_create_canister_with_cycles({amount:[],settings:n(r||{}),specified_id:[],sender_canister_version:[]});return i}static async createAndInstallCanister(t,r,n){const i=await this.createCanister(n);return await this.install(Object.assign({},r),Object.assign(Object.assign({},n),{canisterId:i})),this.createActor(t,Object.assign(Object.assign({},n),{canisterId:i}))}static createActorClass(t,r){const n=t({IDL:Q0});class i extends cs{constructor(a){if(!a.canisterId)throw new $t(`Canister ID is required, but received ${typeof a.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);const s=typeof a.canisterId=="string"?vt.fromText(a.canisterId):a.canisterId;super({config:Object.assign(Object.assign(Object.assign({},Zu),a),{canisterId:s}),service:n});for(const[d,y]of n._fields)r!=null&&r.httpDetails&&y.annotations.push(fo),r!=null&&r.certificate&&y.annotations.push(Xu),this[d]=Pp(this,d,y,a.blsVerify)}}return i}static createActor(t,r){if(!r.canisterId)throw new $t(`Canister ID is required, but received ${typeof r.canisterId} instead. If you are using automatically generated declarations, this may be because your application is not setting the canister ID in process.env correctly.`);return new(this.createActorClass(t))(r)}static createActorWithHttpDetails(t,r){return new(this.createActorClass(t,{httpDetails:!0}))(r)}static createActorWithExtendedDetails(t,r,n={httpDetails:!0,certificate:!0}){return new(this.createActorClass(t,n))(r)}}function Dr(e,t){const r=pc(e,Ya.Buffer.from(t));switch(r.length){case 0:return;case 1:return r[0];default:return r}}const Zu={pollingStrategyFactory:Yu},fo="http-details",Xu="certificate";function Pp(e,t,r,n){let i;r.annotations.includes("query")||r.annotations.includes("composite_query")?i=async(a,...s)=>{var d,y;a=Object.assign(Object.assign({},a),(y=(d=e[we].config).queryTransform)===null||y===void 0?void 0:y.call(d,t,s,Object.assign(Object.assign({},e[we].config),a)));const E=a.agent||e[we].config.agent||ka(),_=vt.from(a.canisterId||e[we].config.canisterId),w=Xs(r.argTypes,s),b=await E.query(_,{methodName:t,arg:w,effectiveCanisterId:a.effectiveCanisterId}),h=Object.assign(Object.assign({},b.httpDetails),{requestDetails:b.requestDetails});switch(b.status){case"rejected":throw new Mp(_,t,b);case"replied":return r.annotations.includes(fo)?{httpDetails:h,result:Dr(r.retTypes,b.reply.arg)}:Dr(r.retTypes,b.reply.arg)}}:i=async(a,...s)=>{var d,y;a=Object.assign(Object.assign({},a),(y=(d=e[we].config).callTransform)===null||y===void 0?void 0:y.call(d,t,s,Object.assign(Object.assign({},e[we].config),a)));const E=a.agent||e[we].config.agent||ka(),{canisterId:_,effectiveCanisterId:w,pollingStrategyFactory:b}=Object.assign(Object.assign(Object.assign({},Zu),e[we].config),a),h=vt.from(_),O=w!==void 0?vt.from(w):h,C=Xs(r.argTypes,s),{requestId:H,response:G,requestDetails:j}=await E.call(h,{methodName:t,arg:C,effectiveCanisterId:O});let K,R;if(G.body&&G.body.certificate){if(E.rootKey==null)throw new Error("Agent is missing root key");const nt=G.body.certificate;R=await Cr.create({certificate:Mi(nt),rootKey:E.rootKey,canisterId:vt.from(_),blsVerify:n});const I=[new TextEncoder().encode("request_status"),H];switch(new TextDecoder().decode(_e(R.lookup([...I,"status"])))){case"replied":K=_e(R.lookup([...I,"reply"]));break;case"rejected":{const X=new Uint8Array(_e(R.lookup([...I,"reject_code"])))[0],x=new TextDecoder().decode(_e(R.lookup([...I,"reject_message"]))),N=_e(R.lookup([...I,"error_code"])),F=N?new TextDecoder().decode(N):void 0;throw new Ca(h,t,H,G,X,x,F)}}}else if(G.body&&"reject_message"in G.body){const{reject_code:nt,reject_message:I,error_code:L}=G.body;throw new Ca(h,t,H,G,nt,I,L)}if(G.status===202){const nt=b(),I=await Lu(E,O,H,nt,n);R=I.certificate,K=I.reply}const P=r.annotations.includes(fo),q=r.annotations.includes(Xu),rt=Object.assign(Object.assign({},G),{requestDetails:j});if(K!==void 0)return P&&q?{httpDetails:rt,certificate:R,result:Dr(r.retTypes,K)}:q?{certificate:R,result:Dr(r.retTypes,K)}:P?{httpDetails:rt,result:Dr(r.retTypes,K)}:Dr(r.retTypes,K);if(r.retTypes.length===0)return P?{httpDetails:G,result:void 0}:void 0;throw new Error(`Call was returned undefined, but type [${r.retTypes.join(",")}].`)};const o=(...a)=>i({},...a);return o.withOptions=a=>(...s)=>i(a,...s),o}function Ma(e){function t(r,n){if(e.effectiveCanisterId)return{effectiveCanisterId:vt.from(e.effectiveCanisterId)};const i=n[0];let o=vt.fromHex("");return i&&typeof i=="object"&&i.target_canister&&r==="install_chunked_code"&&(o=vt.from(i.target_canister)),i&&typeof i=="object"&&i.canister_id&&(o=vt.from(i.canister_id)),{effectiveCanisterId:o}}return cs.createActor(Cp,Object.assign(Object.assign(Object.assign({},e),{canisterId:vt.fromHex("")}),{callTransform:t,queryTransform:t}))}const $p=({IDL:e})=>{const t=e.Variant({Ok:e.Text,Err:e.Text}),r=e.Record({id:e.Text,owner:e.Principal,data:e.Vec(e.Nat8),size:e.Nat64,content_type:e.Text,filename:e.Text,uploaded_at:e.Nat64}),n=e.Variant({Ok:r,Err:e.Text}),i=e.Variant({Ok:e.Tuple(e.Nat64,e.Nat64),Err:e.Text}),o=e.Record({total_chunks:e.Nat64,content_type:e.Text,total_size:e.Nat64,filename:e.Text}),a=e.Record({chunk_index:e.Nat64,session_id:e.Text,data:e.Vec(e.Nat8)});return e.Service({complete_upload:e.Func([e.Text],[t],[]),delete_file:e.Func([e.Text],[t],[]),get_file:e.Func([e.Text],[n],["query"]),get_upload_status:e.Func([e.Text],[i],["query"]),list_files:e.Func([],[e.Vec(e.Tuple(e.Text,e.Text,e.Text,e.Nat64))],["query"]),start_upload:e.Func([o],[t],[]),upload_chunk:e.Func([a],[t],[])})},qp="uxrrr-q7777-77774-qaaaq-cai",jp=(e,t={})=>{const r=t.agent||new cn({...t.agentOptions});return t.agent&&t.agentOptions&&console.warn("Detected both agent and agentOptions passed to createActor. Ignoring agentOptions and proceeding with the provided agent."),r.fetchRootKey().catch(n=>{console.warn("Unable to fetch root key. Check to ensure that your local replica is running"),console.error(n)}),cs.createActor($p,{agent:r,canisterId:e,...t.actorOptions})},Ms=jp(qp),Vp=async(e,t=1024*1024)=>{const r=[];let n=0;for(;n<e.size;){const o=await e.slice(n,n+t).arrayBuffer();r.push(new Uint8Array(o)),n+=t}return r},Gp=({videoUrl:e,type:t,summary:r})=>{const[n,i]=at.useState(!1),o=at.useRef(null),a=at.useRef(null);return at.useEffect(()=>{const s=new IntersectionObserver(([d])=>{i(d.intersectionRatio>=.5)},{threshold:[.5]});return a.current&&s.observe(a.current),()=>{a.current&&s.unobserve(a.current)}},[]),ut.jsxs(ut.Fragment,{children:[ut.jsx(Sf,{in:!n,direction:"up",mountOnEnter:!0,unmountOnExit:!0,children:ut.jsx(ui,{variant:"contained",color:"success",className:"fixed bottom-5 left-1/2 -translate-x-1/2 rounded-full z-10 transition-opacity",onClick:()=>window.scrollTo({top:1e3,behavior:"smooth"}),children:"See Result"})}),ut.jsxs(zt,{className:"flex flex-wrap gap-4 mt-20",children:[ut.jsx(zt,{className:"max-md:w-full md:grow md:basis-0 rounded-lg overflow-hidden",ref:a,children:t.startsWith("video")?ut.jsx("video",{ref:o,src:e,controls:!0}):t.startsWith("audio")?ut.jsxs("audio",{controls:!0,children:[ut.jsx("source",{src:e,type:"audio/mp3"}),"Your browser does not support the audio element."]}):"This type of file is not supported"}),ut.jsx(zt,{className:"md:max-w-[500px] grow basis-0 rounded-lg bg-background2",children:ut.jsxs(zt,{className:"p-5",children:[ut.jsx(We,{variant:"h6",className:"mb-4",children:"Summary"}),r]})})]})]})},o1=()=>{const[e,t]=at.useState(null),[r,n]=at.useState(""),[i,o]=at.useState(null),[a,s]=at.useState(""),[d,y]=at.useState(!1),[E,_]=at.useState(0),[w,b]=at.useState(""),h=at.useRef(null),O=()=>{t(null);const q=new DataTransfer;h.current&&(h.current.files=q.files)},C=q=>{if(!q.type.startsWith("video")&&!q.type.startsWith("audio"))return O(),o({variant:"error",message:"File type not valid. Must be a video or audio."}),!1;const rt=100*1024*1024;return q.size>rt?(O(),o({variant:"error",message:"File size too large. Maximum size is 100MB."}),!1):!0},H=async q=>{try{y(!0),b("uploading"),_(0);const rt=await Vp(q),nt=rt.length,I=await Ms.start_upload({filename:q.name,content_type:q.type,total_size:BigInt(q.size),total_chunks:BigInt(nt)});if(console.log("uploadSession",I),"Err"in I)throw new Error(I.Err);const L=I.Ok;for(let x=0;x<rt.length;x++){const N=await Ms.upload_chunk({session_id:L,chunk_index:BigInt(x),data:rt[x]});if(console.log("result",N),"Err"in N)throw new Error(N.Err);const F=(x+1)/nt*70;_(F)}b("processing"),_(80);const X=await Ms.complete_upload(L);if(console.log("completeResult",X),"Err"in X)throw new Error(X.Err);_(100),b("complete"),s(X.Ok),o({variant:"success",message:"File uploaded successfully!"}),console.log("Upload completed:",X.Ok),console.log(),n(URL.createObjectURL(q)),setTimeout(()=>{window.scrollTo({behavior:"smooth",top:1e3})},1e3)}catch(rt){console.error("Upload error:",rt),b("error"),o({variant:"error",message:`Upload failed: ${rt.message}`})}finally{y(!1)}},G=q=>{q.preventDefault();const rt=q.dataTransfer.files[0];rt&&C(rt)?t(rt):rt||t(null)},j=()=>{var q;d||(q=h.current)==null||q.click()},K=q=>{var nt;const rt=(nt=q.target.files)==null?void 0:nt[0];rt&&C(rt)?t(rt):rt||t(null)},R=()=>{e&&!d&&H(e)},P=()=>{switch(w){case"uploading":return"Uploading file...";case"processing":return"Processing file...";case"complete":return"Upload completed!";case"error":return"Upload failed";default:return""}};return at.useEffect(()=>{R()},[e]),ut.jsxs(ut.Fragment,{children:[ut.jsx(Lf,{anchorOrigin:{vertical:"top",horizontal:"center"},open:!!i,onClose:()=>o(null),message:i==null?void 0:i.message}),ut.jsx(i0,{}),ut.jsxs(zt,{component:"main",className:"container mx-auto px-5 pb-10 relative overflow-hidden",children:[ut.jsx(zt,{className:"bg-background2 blur-[70px] absolute -top-20 rounded-full w-[1200px] h-96 left-1/2 -translate-x-1/2 -z-10"}),ut.jsx(zt,{className:"min-h-dvh grid place-items-center py-20 text-center",children:ut.jsxs(zt,{className:"w-full",children:[ut.jsxs(zt,{className:"max-w-[800px] mx-auto",children:[ut.jsx(We,{variant:"h3",className:"font-extrabold mb-7 uppercase",children:"Summary & Transcript"}),ut.jsx(We,{variant:"h6",className:"mb-20 text-foreground/70",children:"Transcribes audio/video into accurate text, backends it into clear points, and makes content searchable and shareable with multi-language support for greater accessibility"})]}),ut.jsx(zt,{component:"div",className:"aspect-video border-primary border-dashed border rounded-[50px] p-8 w-full max-w-[700px] mx-auto",onDrop:G,onDragOver:q=>q.preventDefault(),children:e?ut.jsxs(zt,{className:"h-full flex flex-col justify-center items-center space-y-4",children:[ut.jsxs(zt,{className:"text-center",children:[ut.jsx(We,{variant:"h6",className:"mb-2",children:e.name}),ut.jsxs(We,{variant:"body2",className:"text-gray-600",children:["Size: ",(e.size/(1024*1024)).toFixed(2)," MB"]}),ut.jsxs(We,{variant:"body2",className:"text-gray-600",children:["Type: ",e.type]})]}),d&&ut.jsxs(zt,{className:"w-full max-w-md",children:[ut.jsxs(zt,{className:"flex items-center justify-center mb-2",children:[ut.jsx(Ps,{size:20,className:"mr-2"}),ut.jsx(We,{variant:"body2",children:P()})]}),ut.jsx(Mf,{variant:"determinate",value:E,className:"w-full"}),ut.jsxs(We,{variant:"caption",className:"block text-center mt-1",children:[Math.round(E),"%"]})]}),ut.jsxs(zt,{className:"flex space-x-4",children:[ut.jsx(ui,{variant:"contained",onClick:R,disabled:d,startIcon:d?ut.jsx(Ps,{size:16}):ut.jsx(r0,{}),children:d?"Uploading...":"Upload File"}),ut.jsx(ui,{variant:"outlined",onClick:()=>{t(null),_(0),b("idle")},disabled:d,children:"Remove"})]})]}):ut.jsx(ui,{variant:"contained",className:"w-full h-full !rounded-[24px] !grid place-items-center",onClick:j,disabled:d,children:ut.jsxs(zt,{children:[ut.jsx("input",{ref:h,type:"file",hidden:!0,onChange:K,accept:"video/*, audio/*"}),ut.jsx(zt,{className:"rounded-full p-5 bg-white mb-5 w-fit mx-auto",children:ut.jsx(e0,{className:"text-4xl text-black"})}),ut.jsx(We,{variant:"body1",children:"Upload or drag & drop video or audio"})]})})})]})}),w==="complete"&&r&&ut.jsx(Gp,{videoUrl:r,type:(e==null?void 0:e.type)||"",summary:a})]})]})};export{o1 as default};
